"use strict";var Du=Object.create;var Ve=Object.defineProperty;var Bu=Object.getOwnPropertyDescriptor;var $u=Object.getOwnPropertyNames;var Gu=Object.getPrototypeOf,Vu=Object.prototype.hasOwnProperty;var R=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),jt=(r,e)=>{for(var t in e)Ve(r,t,{get:e[t],enumerable:!0})},Ge=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of $u(e))!Vu.call(r,i)&&i!==t&&Ve(r,i,{get:()=>e[i],enumerable:!(n=Bu(e,i))||n.enumerable});return r},be=(r,e,t)=>(Ge(r,e,"default"),t&&Ge(t,e,"default")),G=(r,e,t)=>(t=r!=null?Du(Gu(r)):{},Ge(e||!r||!r.__esModule?Ve(t,"default",{value:r,enumerable:!0}):t,r)),zu=r=>Ge(Ve({},"__esModule",{value:!0}),r);var W=R(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.getEndomorphismMonoid=E.not=E.SK=E.hole=E.pipe=E.untupled=E.tupled=E.absurd=E.decrement=E.increment=E.tuple=E.flow=E.flip=E.constVoid=E.constUndefined=E.constNull=E.constFalse=E.constTrue=E.constant=E.unsafeCoerce=E.identity=E.apply=E.getRing=E.getSemiring=E.getMonoid=E.getSemigroup=E.getBooleanAlgebra=void 0;var Hu=function(r){return function(){return{meet:function(e,t){return function(n){return r.meet(e(n),t(n))}},join:function(e,t){return function(n){return r.join(e(n),t(n))}},zero:function(){return r.zero},one:function(){return r.one},implies:function(e,t){return function(n){return r.implies(e(n),t(n))}},not:function(e){return function(t){return r.not(e(t))}}}}};E.getBooleanAlgebra=Hu;var Ju=function(r){return function(){return{concat:function(e,t){return function(n){return r.concat(e(n),t(n))}}}}};E.getSemigroup=Ju;var Xu=function(r){var e=(0,E.getSemigroup)(r);return function(){return{concat:e().concat,empty:function(){return r.empty}}}};E.getMonoid=Xu;var Qu=function(r){return{add:function(e,t){return function(n){return r.add(e(n),t(n))}},zero:function(){return r.zero},mul:function(e,t){return function(n){return r.mul(e(n),t(n))}},one:function(){return r.one}}};E.getSemiring=Qu;var Yu=function(r){var e=(0,E.getSemiring)(r);return{add:e.add,mul:e.mul,one:e.one,zero:e.zero,sub:function(t,n){return function(i){return r.sub(t(i),n(i))}}}};E.getRing=Yu;var Zu=function(r){return function(e){return e(r)}};E.apply=Zu;function Dt(r){return r}E.identity=Dt;E.unsafeCoerce=Dt;function Oe(r){return function(){return r}}E.constant=Oe;E.constTrue=Oe(!0);E.constFalse=Oe(!1);E.constNull=Oe(null);E.constUndefined=Oe(void 0);E.constVoid=E.constUndefined;function rc(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length>1?r(e[1],e[0]):function(n){return r(n)(e[0])}}}E.flip=rc;function Ra(r,e,t,n,i,s,d,m,v){switch(arguments.length){case 1:return r;case 2:return function(){return e(r.apply(this,arguments))};case 3:return function(){return t(e(r.apply(this,arguments)))};case 4:return function(){return n(t(e(r.apply(this,arguments))))};case 5:return function(){return i(n(t(e(r.apply(this,arguments)))))};case 6:return function(){return s(i(n(t(e(r.apply(this,arguments))))))};case 7:return function(){return d(s(i(n(t(e(r.apply(this,arguments)))))))};case 8:return function(){return m(d(s(i(n(t(e(r.apply(this,arguments))))))))};case 9:return function(){return v(m(d(s(i(n(t(e(r.apply(this,arguments)))))))))}}}E.flow=Ra;function ec(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r}E.tuple=ec;function tc(r){return r+1}E.increment=tc;function nc(r){return r-1}E.decrement=nc;function Ea(r){throw new Error("Called `absurd` function which should be uncallable")}E.absurd=Ea;function ac(r){return function(e){return r.apply(void 0,e)}}E.tupled=ac;function ic(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(e)}}E.untupled=ic;function oc(r,e,t,n,i,s,d,m,v){switch(arguments.length){case 1:return r;case 2:return e(r);case 3:return t(e(r));case 4:return n(t(e(r)));case 5:return i(n(t(e(r))));case 6:return s(i(n(t(e(r)))));case 7:return d(s(i(n(t(e(r))))));case 8:return m(d(s(i(n(t(e(r)))))));case 9:return v(m(d(s(i(n(t(e(r))))))));default:{for(var h=arguments[0],I=1;I<arguments.length;I++)h=arguments[I](h);return h}}}E.pipe=oc;E.hole=Ea;var uc=function(r,e){return e};E.SK=uc;function cc(r){return function(e){return!r(e)}}E.not=cc;var sc=function(){return{concat:function(r,e){return Ra(r,e)},empty:Dt}};E.getEndomorphismMonoid=sc});var or=R(T=>{"use strict";var fc=T&&T.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(T,"__esModule",{value:!0});T.fromReadonlyNonEmptyArray=T.has=T.emptyRecord=T.emptyReadonlyArray=T.tail=T.head=T.isNonEmpty=T.singleton=T.right=T.left=T.isRight=T.isLeft=T.some=T.none=T.isSome=T.isNone=void 0;var lc=function(r){return r._tag==="None"};T.isNone=lc;var pc=function(r){return r._tag==="Some"};T.isSome=pc;T.none={_tag:"None"};var dc=function(r){return{_tag:"Some",value:r}};T.some=dc;var mc=function(r){return r._tag==="Left"};T.isLeft=mc;var hc=function(r){return r._tag==="Right"};T.isRight=hc;var vc=function(r){return{_tag:"Left",left:r}};T.left=vc;var gc=function(r){return{_tag:"Right",right:r}};T.right=gc;var yc=function(r){return[r]};T.singleton=yc;var Ic=function(r){return r.length>0};T.isNonEmpty=Ic;var Rc=function(r){return r[0]};T.head=Rc;var Ec=function(r){return r.slice(1)};T.tail=Ec;T.emptyReadonlyArray=[];T.emptyRecord={};T.has=Object.prototype.hasOwnProperty;var bc=function(r){return fc([r[0]],r.slice(1),!0)};T.fromReadonlyNonEmptyArray=bc});var vr=R(P=>{"use strict";var Oc=P&&P.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Sc=P&&P.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ac=P&&P.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Oc(e,r,t);return Sc(e,r),e};Object.defineProperty(P,"__esModule",{value:!0});P.sequenceS=P.sequenceT=P.getApplySemigroup=P.apS=P.apSecond=P.apFirst=P.ap=void 0;var _c=W(),Tc=Ac(or());function Fc(r,e){return function(t){return function(n){return r.ap(r.map(n,function(i){return function(s){return e.ap(i,s)}}),t)}}}P.ap=Fc;function Wc(r){return function(e){return function(t){return r.ap(r.map(t,function(n){return function(){return n}}),e)}}}P.apFirst=Wc;function qc(r){return function(e){return function(t){return r.ap(r.map(t,function(){return function(n){return n}}),e)}}}P.apSecond=qc;function Kc(r){return function(e,t){return function(n){return r.ap(r.map(n,function(i){return function(s){var d;return Object.assign({},i,(d={},d[e]=s,d))}}),t)}}}P.apS=Kc;function wc(r){return function(e){return{concat:function(t,n){return r.ap(r.map(t,function(i){return function(s){return e.concat(i,s)}}),n)}}}}P.getApplySemigroup=wc;function $t(r,e,t){return function(n){for(var i=Array(t.length+1),s=0;s<t.length;s++)i[s]=t[s];return i[t.length]=n,e===0?r.apply(null,i):$t(r,e-1,i)}}var Bt={1:function(r){return[r]},2:function(r){return function(e){return[r,e]}},3:function(r){return function(e){return function(t){return[r,e,t]}}},4:function(r){return function(e){return function(t){return function(n){return[r,e,t,n]}}}},5:function(r){return function(e){return function(t){return function(n){return function(i){return[r,e,t,n,i]}}}}}};function Uc(r){return Tc.has.call(Bt,r)||(Bt[r]=$t(_c.tuple,r-1,[])),Bt[r]}function Mc(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e.length,i=Uc(n),s=r.map(e[0],i),d=1;d<n;d++)s=r.ap(s,e[d]);return s}}P.sequenceT=Mc;function kc(r){var e=r.length;switch(e){case 1:return function(t){var n;return n={},n[r[0]]=t,n};case 2:return function(t){return function(n){var i;return i={},i[r[0]]=t,i[r[1]]=n,i}};case 3:return function(t){return function(n){return function(i){var s;return s={},s[r[0]]=t,s[r[1]]=n,s[r[2]]=i,s}}};case 4:return function(t){return function(n){return function(i){return function(s){var d;return d={},d[r[0]]=t,d[r[1]]=n,d[r[2]]=i,d[r[3]]=s,d}}}};case 5:return function(t){return function(n){return function(i){return function(s){return function(d){var m;return m={},m[r[0]]=t,m[r[1]]=n,m[r[2]]=i,m[r[3]]=s,m[r[4]]=d,m}}}}};default:return $t(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i={},s=0;s<e;s++)i[r[s]]=t[s];return i},e-1,[])}}function xc(r){return function(e){for(var t=Object.keys(e),n=t.length,i=kc(t),s=r.map(e[t[0]],i),d=1;d<n;d++)s=r.ap(s,e[t[d]]);return s}}P.sequenceS=xc});var Z=R(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.getFunctorComposition=ur.let=ur.bindTo=ur.flap=ur.map=void 0;var Pc=W();function ba(r,e){return function(t){return function(n){return r.map(n,function(i){return e.map(i,t)})}}}ur.map=ba;function Nc(r){return function(e){return function(t){return r.map(t,function(n){return n(e)})}}}ur.flap=Nc;function Cc(r){return function(e){return function(t){return r.map(t,function(n){var i;return i={},i[e]=n,i})}}}ur.bindTo=Cc;function Lc(r){return function(e,t){return function(n){return r.map(n,function(i){var s;return Object.assign({},i,(s={},s[e]=t(i),s))})}}}ur.let=Lc;function jc(r,e){var t=ba(r,e);return{map:function(n,i){return(0,Pc.pipe)(n,t(i))}}}ur.getFunctorComposition=jc});var Tr=R(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.getApplicativeComposition=ee.getApplicativeMonoid=void 0;var Oa=vr(),Dc=W(),Bc=Z();function $c(r){var e=(0,Oa.getApplySemigroup)(r);return function(t){return{concat:e(t).concat,empty:r.of(t.empty)}}}ee.getApplicativeMonoid=$c;function Gc(r,e){var t=(0,Bc.getFunctorComposition)(r,e).map,n=(0,Oa.ap)(r,e);return{map:t,of:function(i){return r.of(e.of(i))},ap:function(i,s){return(0,Dc.pipe)(i,n(s))}}}ee.getApplicativeComposition=Gc});var cr=R(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.bind=te.chainFirst=void 0;function Vc(r){return function(e){return function(t){return r.chain(t,function(n){return r.map(e(n),function(){return n})})}}}te.chainFirst=Vc;function zc(r){return function(e,t){return function(n){return r.chain(n,function(i){return r.map(t(i),function(s){var d;return Object.assign({},i,(d={},d[e]=s,d))})})}}}te.bind=zc});var Se=R(M=>{"use strict";var Hc=M&&M.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Jc=M&&M.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Xc=M&&M.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Hc(e,r,t);return Jc(e,r),e};Object.defineProperty(M,"__esModule",{value:!0});M.filterOrElse=M.chainFirstEitherK=M.chainEitherK=M.fromEitherK=M.chainOptionK=M.fromOptionK=M.fromPredicate=M.fromOption=void 0;var Qc=cr(),Gt=W(),jr=Xc(or());function Sa(r){return function(e){return function(t){return r.fromEither(jr.isNone(t)?jr.left(e()):jr.right(t.value))}}}M.fromOption=Sa;function Yc(r){return function(e,t){return function(n){return r.fromEither(e(n)?jr.right(n):jr.left(t(n)))}}}M.fromPredicate=Yc;function Aa(r){var e=Sa(r);return function(t){var n=e(t);return function(i){return(0,Gt.flow)(i,n)}}}M.fromOptionK=Aa;function Zc(r,e){var t=Aa(r);return function(n){var i=t(n);return function(s){return function(d){return e.chain(d,i(s))}}}}M.chainOptionK=Zc;function Vt(r){return function(e){return(0,Gt.flow)(e,r.fromEither)}}M.fromEitherK=Vt;function rs(r,e){var t=Vt(r);return function(n){return function(i){return e.chain(i,t(n))}}}M.chainEitherK=rs;function es(r,e){return(0,Gt.flow)(Vt(r),(0,Qc.chainFirst)(e))}M.chainFirstEitherK=es;function ts(r,e){return function(t,n){return function(i){return e.chain(i,function(s){return r.fromEither(t(s)?jr.right(s):jr.left(n(s)))})}}}M.filterOrElse=ts});var zt=R(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.and=K.or=K.not=K.Contravariant=K.getMonoidAll=K.getSemigroupAll=K.getMonoidAny=K.getSemigroupAny=K.URI=K.contramap=void 0;var ne=W(),ns=function(r,e){return(0,ne.pipe)(r,(0,K.contramap)(e))},as=function(r){return function(e){return(0,ne.flow)(r,e)}};K.contramap=as;K.URI="Predicate";var is=function(){return{concat:function(r,e){return(0,ne.pipe)(r,(0,K.or)(e))}}};K.getSemigroupAny=is;var os=function(){return{concat:(0,K.getSemigroupAny)().concat,empty:ne.constFalse}};K.getMonoidAny=os;var us=function(){return{concat:function(r,e){return(0,ne.pipe)(r,(0,K.and)(e))}}};K.getSemigroupAll=us;var cs=function(){return{concat:(0,K.getSemigroupAll)().concat,empty:ne.constTrue}};K.getMonoidAll=cs;K.Contravariant={URI:K.URI,contramap:ns};var ss=function(r){return function(e){return!r(e)}};K.not=ss;var fs=function(r){return function(e){return function(t){return e(t)||r(t)}}};K.or=fs;var ls=function(r){return function(e){return function(t){return e(t)&&r(t)}}};K.and=ls});var _a=R(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.concatAll=sr.endo=sr.filterSecond=sr.filterFirst=sr.reverse=void 0;var ps=function(r){return{concat:function(e,t){return r.concat(t,e)}}};sr.reverse=ps;var ds=function(r){return function(e){return{concat:function(t,n){return r(t)?e.concat(t,n):n}}}};sr.filterFirst=ds;var ms=function(r){return function(e){return{concat:function(t,n){return r(n)?e.concat(t,n):t}}}};sr.filterSecond=ms;var hs=function(r){return function(e){return{concat:function(t,n){return e.concat(r(t),r(n))}}}};sr.endo=hs;var vs=function(r){return function(e){return function(t){return t.reduce(function(n,i){return r.concat(n,i)},e)}}};sr.concatAll=vs});var Ta=R(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.eqDate=O.eqNumber=O.eqString=O.eqBoolean=O.eq=O.strictEqual=O.getStructEq=O.getTupleEq=O.Contravariant=O.getMonoid=O.getSemigroup=O.eqStrict=O.URI=O.contramap=O.tuple=O.struct=O.fromEquals=void 0;var gs=W(),ys=function(r){return{equals:function(e,t){return e===t||r(e,t)}}};O.fromEquals=ys;var Is=function(r){return(0,O.fromEquals)(function(e,t){for(var n in r)if(!r[n].equals(e[n],t[n]))return!1;return!0})};O.struct=Is;var Rs=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return(0,O.fromEquals)(function(t,n){return r.every(function(i,s){return i.equals(t[s],n[s])})})};O.tuple=Rs;var Es=function(r,e){return(0,gs.pipe)(r,(0,O.contramap)(e))},bs=function(r){return function(e){return(0,O.fromEquals)(function(t,n){return e.equals(r(t),r(n))})}};O.contramap=bs;O.URI="Eq";O.eqStrict={equals:function(r,e){return r===e}};var Os={equals:function(){return!0}},Ss=function(){return{concat:function(r,e){return(0,O.fromEquals)(function(t,n){return r.equals(t,n)&&e.equals(t,n)})}}};O.getSemigroup=Ss;var As=function(){return{concat:(0,O.getSemigroup)().concat,empty:Os}};O.getMonoid=As;O.Contravariant={URI:O.URI,contramap:Es};O.getTupleEq=O.tuple;O.getStructEq=O.struct;O.strictEqual=O.eqStrict.equals;O.eq=O.Contravariant;O.eqBoolean=O.eqStrict;O.eqString=O.eqStrict;O.eqNumber=O.eqStrict;O.eqDate={equals:function(r,e){return r.valueOf()===e.valueOf()}}});var Fa=R(g=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});g.ordDate=g.ordNumber=g.ordString=g.ordBoolean=g.ord=g.getDualOrd=g.getTupleOrd=g.between=g.clamp=g.max=g.min=g.geq=g.leq=g.gt=g.lt=g.equals=g.trivial=g.Contravariant=g.getMonoid=g.getSemigroup=g.URI=g.contramap=g.reverse=g.tuple=g.fromCompare=g.equalsDefault=void 0;var _s=Ta(),ze=W(),Ts=function(r){return function(e,t){return e===t||r(e,t)===0}};g.equalsDefault=Ts;var Fs=function(r){return{equals:(0,g.equalsDefault)(r),compare:function(e,t){return e===t?0:r(e,t)}}};g.fromCompare=Fs;var Ws=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return(0,g.fromCompare)(function(t,n){for(var i=0;i<r.length-1;i++){var s=r[i].compare(t[i],n[i]);if(s!==0)return s}return r[i].compare(t[i],n[i])})};g.tuple=Ws;var qs=function(r){return(0,g.fromCompare)(function(e,t){return r.compare(t,e)})};g.reverse=qs;var Ks=function(r,e){return(0,ze.pipe)(r,(0,g.contramap)(e))},ws=function(r){return function(e){return(0,g.fromCompare)(function(t,n){return e.compare(r(t),r(n))})}};g.contramap=ws;g.URI="Ord";var Us=function(){return{concat:function(r,e){return(0,g.fromCompare)(function(t,n){var i=r.compare(t,n);return i!==0?i:e.compare(t,n)})}}};g.getSemigroup=Us;var Ms=function(){return{concat:(0,g.getSemigroup)().concat,empty:(0,g.fromCompare)(function(){return 0})}};g.getMonoid=Ms;g.Contravariant={URI:g.URI,contramap:Ks};g.trivial={equals:ze.constTrue,compare:(0,ze.constant)(0)};var ks=function(r){return function(e){return function(t){return t===e||r.compare(t,e)===0}}};g.equals=ks;var xs=function(r){return function(e,t){return r.compare(e,t)===-1}};g.lt=xs;var Ps=function(r){return function(e,t){return r.compare(e,t)===1}};g.gt=Ps;var Ns=function(r){return function(e,t){return r.compare(e,t)!==1}};g.leq=Ns;var Cs=function(r){return function(e,t){return r.compare(e,t)!==-1}};g.geq=Cs;var Ls=function(r){return function(e,t){return e===t||r.compare(e,t)<1?e:t}};g.min=Ls;var js=function(r){return function(e,t){return e===t||r.compare(e,t)>-1?e:t}};g.max=js;var Ds=function(r){var e=(0,g.min)(r),t=(0,g.max)(r);return function(n,i){return function(s){return t(e(s,i),n)}}};g.clamp=Ds;var Bs=function(r){var e=(0,g.lt)(r),t=(0,g.gt)(r);return function(n,i){return function(s){return!(e(s,n)||t(s,i))}}};g.between=Bs;g.getTupleOrd=g.tuple;g.getDualOrd=g.reverse;g.ord=g.Contravariant;function $s(r,e){return r<e?-1:r>e?1:0}var Ht={equals:_s.eqStrict.equals,compare:$s};g.ordBoolean=Ht;g.ordString=Ht;g.ordNumber=Ht;g.ordDate=(0,ze.pipe)(g.ordNumber,(0,g.contramap)(function(r){return r.valueOf()}))});var wa=R(y=>{"use strict";var Gs=y&&y.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Vs=y&&y.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Jt=y&&y.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Gs(e,r,t);return Vs(e,r),e};Object.defineProperty(y,"__esModule",{value:!0});y.semigroupProduct=y.semigroupSum=y.semigroupString=y.getFunctionSemigroup=y.semigroupAny=y.semigroupAll=y.fold=y.getIntercalateSemigroup=y.getMeetSemigroup=y.getJoinSemigroup=y.getDualSemigroup=y.getStructSemigroup=y.getTupleSemigroup=y.getFirstSemigroup=y.getLastSemigroup=y.getObjectSemigroup=y.semigroupVoid=y.concatAll=y.last=y.first=y.intercalate=y.tuple=y.struct=y.reverse=y.constant=y.max=y.min=void 0;var Wa=W(),zs=Jt(or()),qa=Jt(_a()),Ka=Jt(Fa()),Hs=function(r){return{concat:Ka.min(r)}};y.min=Hs;var Js=function(r){return{concat:Ka.max(r)}};y.max=Js;var Xs=function(r){return{concat:function(){return r}}};y.constant=Xs;y.reverse=qa.reverse;var Qs=function(r){return{concat:function(e,t){var n={};for(var i in r)zs.has.call(r,i)&&(n[i]=r[i].concat(e[i],t[i]));return n}}};y.struct=Qs;var Ys=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return{concat:function(t,n){return r.map(function(i,s){return i.concat(t[s],n[s])})}}};y.tuple=Ys;var Zs=function(r){return function(e){return{concat:function(t,n){return e.concat(t,e.concat(r,n))}}}};y.intercalate=Zs;var rf=function(){return{concat:Wa.identity}};y.first=rf;var ef=function(){return{concat:function(r,e){return e}}};y.last=ef;y.concatAll=qa.concatAll;y.semigroupVoid=(0,y.constant)(void 0);var tf=function(){return{concat:function(r,e){return Object.assign({},r,e)}}};y.getObjectSemigroup=tf;y.getLastSemigroup=y.last;y.getFirstSemigroup=y.first;y.getTupleSemigroup=y.tuple;y.getStructSemigroup=y.struct;y.getDualSemigroup=y.reverse;y.getJoinSemigroup=y.max;y.getMeetSemigroup=y.min;y.getIntercalateSemigroup=y.intercalate;function nf(r){var e=(0,y.concatAll)(r);return function(t,n){return n===void 0?e(t):e(t)(n)}}y.fold=nf;y.semigroupAll={concat:function(r,e){return r&&e}};y.semigroupAny={concat:function(r,e){return r||e}};y.getFunctionSemigroup=Wa.getSemigroup;y.semigroupString={concat:function(r,e){return r+e}};y.semigroupSum={concat:function(r,e){return r+e}};y.semigroupProduct={concat:function(r,e){return r*e}}});var Ae=R(_=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0});_.right=_.left=_.flap=_.Functor=_.Bifunctor=_.URI=_.bimap=_.mapLeft=_.map=_.separated=void 0;var Xt=W(),af=Z(),of=function(r,e){return{left:r,right:e}};_.separated=of;var uf=function(r,e){return(0,Xt.pipe)(r,(0,_.map)(e))},cf=function(r,e){return(0,Xt.pipe)(r,(0,_.mapLeft)(e))},sf=function(r,e,t){return(0,Xt.pipe)(r,(0,_.bimap)(e,t))},ff=function(r){return function(e){return(0,_.separated)((0,_.left)(e),r((0,_.right)(e)))}};_.map=ff;var lf=function(r){return function(e){return(0,_.separated)(r((0,_.left)(e)),(0,_.right)(e))}};_.mapLeft=lf;var pf=function(r,e){return function(t){return(0,_.separated)(r((0,_.left)(t)),e((0,_.right)(t)))}};_.bimap=pf;_.URI="Separated";_.Bifunctor={URI:_.URI,mapLeft:cf,bimap:sf};_.Functor={URI:_.URI,map:uf};_.flap=(0,af.flap)(_.Functor);var df=function(r){return r.left};_.left=df;var mf=function(r){return r.right};_.right=mf});var Qt=R(X=>{"use strict";var hf=X&&X.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),vf=X&&X.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),gf=X&&X.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&hf(e,r,t);return vf(e,r),e};Object.defineProperty(X,"__esModule",{value:!0});X.filterE=X.witherDefault=X.wiltDefault=void 0;var Ua=gf(or());function yf(r,e){return function(t){var n=r.traverse(t);return function(i,s){return t.map(n(i,s),e.separate)}}}X.wiltDefault=yf;function If(r,e){return function(t){var n=r.traverse(t);return function(i,s){return t.map(n(i,s),e.compact)}}}X.witherDefault=If;function Rf(r){return function(e){var t=r.wither(e);return function(n){return function(i){return t(i,function(s){return e.map(n(s),function(d){return d?Ua.some(s):Ua.none})})}}}}X.filterE=Rf});var Ma=R(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.guard=void 0;function Ef(r,e){return function(t){return t?e.of(void 0):r.zero()}}He.guard=Ef});var sn=R(c=>{"use strict";var bf=c&&c.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Of=c&&c.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Sf=c&&c.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&bf(e,r,t);return Of(e,r),e};Object.defineProperty(c,"__esModule",{value:!0});c.fromEither=c.MonadThrow=c.throwError=c.Witherable=c.wilt=c.wither=c.Traversable=c.sequence=c.traverse=c.Filterable=c.partitionMap=c.partition=c.filterMap=c.filter=c.Compactable=c.separate=c.compact=c.Extend=c.extend=c.Alternative=c.guard=c.Zero=c.zero=c.Alt=c.alt=c.altW=c.Foldable=c.reduceRight=c.foldMap=c.reduce=c.Monad=c.Chain=c.chain=c.Applicative=c.Apply=c.ap=c.Pointed=c.of=c.Functor=c.map=c.getMonoid=c.getOrd=c.getEq=c.getShow=c.URI=c.getRight=c.getLeft=c.fromPredicate=c.some=c.none=void 0;c.getLastMonoid=c.getFirstMonoid=c.getApplyMonoid=c.getApplySemigroup=c.option=c.mapNullable=c.getRefinement=c.sequenceArray=c.traverseArray=c.traverseArrayWithIndex=c.traverseReadonlyArrayWithIndex=c.traverseReadonlyNonEmptyArrayWithIndex=c.ApT=c.apS=c.bind=c.let=c.bindTo=c.Do=c.exists=c.elem=c.toUndefined=c.toNullable=c.chainNullableK=c.fromNullableK=c.tryCatchK=c.tryCatch=c.fromNullable=c.chainFirstEitherK=c.chainEitherK=c.fromEitherK=c.duplicate=c.chainFirst=c.flatten=c.apSecond=c.apFirst=c.flap=c.getOrElse=c.getOrElseW=c.fold=c.match=c.foldW=c.matchW=c.isNone=c.isSome=c.FromEither=void 0;var Af=Tr(),Je=vr(),ka=cr(),Yt=Se(),N=W(),Zt=Z(),Dr=Sf(or()),_f=zt(),xa=wa(),rn=Ae(),Pa=Qt(),Tf=Ma();c.none=Dr.none;c.some=Dr.some;function Ff(r){return function(e){return r(e)?(0,c.some)(e):c.none}}c.fromPredicate=Ff;var Wf=function(r){return r._tag==="Right"?c.none:(0,c.some)(r.left)};c.getLeft=Wf;var qf=function(r){return r._tag==="Left"?c.none:(0,c.some)(r.right)};c.getRight=qf;var rr=function(r,e){return(0,N.pipe)(r,(0,c.map)(e))},Br=function(r,e){return(0,N.pipe)(r,(0,c.ap)(e))},Xe=function(r,e){return(0,N.pipe)(r,(0,c.chain)(e))},Qe=function(r,e,t){return(0,N.pipe)(r,(0,c.reduce)(e,t))},Ye=function(r){var e=(0,c.foldMap)(r);return function(t,n){return(0,N.pipe)(t,e(n))}},Ze=function(r,e,t){return(0,N.pipe)(r,(0,c.reduceRight)(e,t))},en=function(r){var e=(0,c.traverse)(r);return function(t,n){return(0,N.pipe)(t,e(n))}},tn=function(r,e){return(0,N.pipe)(r,(0,c.alt)(e))},_e=function(r,e){return(0,N.pipe)(r,(0,c.filter)(e))},nn=function(r,e){return(0,N.pipe)(r,(0,c.filterMap)(e))},Na=function(r,e){return(0,N.pipe)(r,(0,c.extend)(e))},an=function(r,e){return(0,N.pipe)(r,(0,c.partition)(e))},on=function(r,e){return(0,N.pipe)(r,(0,c.partitionMap)(e))};c.URI="Option";var Kf=function(r){return{show:function(e){return(0,c.isNone)(e)?"none":"some(".concat(r.show(e.value),")")}}};c.getShow=Kf;var wf=function(r){return{equals:function(e,t){return e===t||((0,c.isNone)(e)?(0,c.isNone)(t):(0,c.isNone)(t)?!1:r.equals(e.value,t.value))}}};c.getEq=wf;var Uf=function(r){return{equals:(0,c.getEq)(r).equals,compare:function(e,t){return e===t?0:(0,c.isSome)(e)?(0,c.isSome)(t)?r.compare(e.value,t.value):1:-1}}};c.getOrd=Uf;var Mf=function(r){return{concat:function(e,t){return(0,c.isNone)(e)?t:(0,c.isNone)(t)?e:(0,c.some)(r.concat(e.value,t.value))},empty:c.none}};c.getMonoid=Mf;var kf=function(r){return function(e){return(0,c.isNone)(e)?c.none:(0,c.some)(r(e.value))}};c.map=kf;c.Functor={URI:c.URI,map:rr};c.of=c.some;c.Pointed={URI:c.URI,of:c.of};var xf=function(r){return function(e){return(0,c.isNone)(e)||(0,c.isNone)(r)?c.none:(0,c.some)(e.value(r.value))}};c.ap=xf;c.Apply={URI:c.URI,map:rr,ap:Br};c.Applicative={URI:c.URI,map:rr,ap:Br,of:c.of};var Pf=function(r){return function(e){return(0,c.isNone)(e)?c.none:r(e.value)}};c.chain=Pf;c.Chain={URI:c.URI,map:rr,ap:Br,chain:Xe};c.Monad={URI:c.URI,map:rr,ap:Br,of:c.of,chain:Xe};var Nf=function(r,e){return function(t){return(0,c.isNone)(t)?r:e(r,t.value)}};c.reduce=Nf;var Cf=function(r){return function(e){return function(t){return(0,c.isNone)(t)?r.empty:e(t.value)}}};c.foldMap=Cf;var Lf=function(r,e){return function(t){return(0,c.isNone)(t)?r:e(t.value,r)}};c.reduceRight=Lf;c.Foldable={URI:c.URI,reduce:Qe,foldMap:Ye,reduceRight:Ze};var jf=function(r){return function(e){return(0,c.isNone)(e)?r():e}};c.altW=jf;c.alt=c.altW;c.Alt={URI:c.URI,map:rr,alt:tn};var Df=function(){return c.none};c.zero=Df;c.Zero={URI:c.URI,zero:c.zero};c.guard=(0,Tf.guard)(c.Zero,c.Pointed);c.Alternative={URI:c.URI,map:rr,ap:Br,of:c.of,alt:tn,zero:c.zero};var Bf=function(r){return function(e){return(0,c.isNone)(e)?c.none:(0,c.some)(r(e))}};c.extend=Bf;c.Extend={URI:c.URI,map:rr,extend:Na};c.compact=(0,c.chain)(N.identity);var $f=(0,rn.separated)(c.none,c.none),Gf=function(r){return(0,c.isNone)(r)?$f:(0,rn.separated)((0,c.getLeft)(r.value),(0,c.getRight)(r.value))};c.separate=Gf;c.Compactable={URI:c.URI,compact:c.compact,separate:c.separate};var Vf=function(r){return function(e){return(0,c.isNone)(e)?c.none:r(e.value)?e:c.none}};c.filter=Vf;var zf=function(r){return function(e){return(0,c.isNone)(e)?c.none:r(e.value)}};c.filterMap=zf;var Hf=function(r){return function(e){return(0,rn.separated)(_e(e,(0,_f.not)(r)),_e(e,r))}};c.partition=Hf;var Jf=function(r){return(0,N.flow)((0,c.map)(r),c.separate)};c.partitionMap=Jf;c.Filterable={URI:c.URI,map:rr,compact:c.compact,separate:c.separate,filter:_e,filterMap:nn,partition:an,partitionMap:on};var Xf=function(r){return function(e){return function(t){return(0,c.isNone)(t)?r.of(c.none):r.map(e(t.value),c.some)}}};c.traverse=Xf;var Qf=function(r){return function(e){return(0,c.isNone)(e)?r.of(c.none):r.map(e.value,c.some)}};c.sequence=Qf;c.Traversable={URI:c.URI,map:rr,reduce:Qe,foldMap:Ye,reduceRight:Ze,traverse:en,sequence:c.sequence};var un=(0,Pa.witherDefault)(c.Traversable,c.Compactable),cn=(0,Pa.wiltDefault)(c.Traversable,c.Compactable),Yf=function(r){var e=un(r);return function(t){return function(n){return e(n,t)}}};c.wither=Yf;var Zf=function(r){var e=cn(r);return function(t){return function(n){return e(n,t)}}};c.wilt=Zf;c.Witherable={URI:c.URI,map:rr,reduce:Qe,foldMap:Ye,reduceRight:Ze,traverse:en,sequence:c.sequence,compact:c.compact,separate:c.separate,filter:_e,filterMap:nn,partition:an,partitionMap:on,wither:un,wilt:cn};var rl=function(){return c.none};c.throwError=rl;c.MonadThrow={URI:c.URI,map:rr,ap:Br,of:c.of,chain:Xe,throwError:c.throwError};c.fromEither=c.getRight;c.FromEither={URI:c.URI,fromEither:c.fromEither};c.isSome=Dr.isSome;var el=function(r){return r._tag==="None"};c.isNone=el;var tl=function(r,e){return function(t){return(0,c.isNone)(t)?r():e(t.value)}};c.matchW=tl;c.foldW=c.matchW;c.match=c.matchW;c.fold=c.match;var nl=function(r){return function(e){return(0,c.isNone)(e)?r():e.value}};c.getOrElseW=nl;c.getOrElse=c.getOrElseW;c.flap=(0,Zt.flap)(c.Functor);c.apFirst=(0,Je.apFirst)(c.Apply);c.apSecond=(0,Je.apSecond)(c.Apply);c.flatten=c.compact;c.chainFirst=(0,ka.chainFirst)(c.Chain);c.duplicate=(0,c.extend)(N.identity);c.fromEitherK=(0,Yt.fromEitherK)(c.FromEither);c.chainEitherK=(0,Yt.chainEitherK)(c.FromEither,c.Chain);c.chainFirstEitherK=(0,Yt.chainFirstEitherK)(c.FromEither,c.Chain);var al=function(r){return r==null?c.none:(0,c.some)(r)};c.fromNullable=al;var il=function(r){try{return(0,c.some)(r())}catch{return c.none}};c.tryCatch=il;var ol=function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,c.tryCatch)(function(){return r.apply(void 0,e)})}};c.tryCatchK=ol;var ul=function(r){return(0,N.flow)(r,c.fromNullable)};c.fromNullableK=ul;var cl=function(r){return function(e){return(0,c.isNone)(e)?c.none:(0,c.fromNullable)(r(e.value))}};c.chainNullableK=cl;c.toNullable=(0,c.match)(N.constNull,N.identity);c.toUndefined=(0,c.match)(N.constUndefined,N.identity);function Ca(r){return function(e,t){if(t===void 0){var n=Ca(r);return function(i){return n(e,i)}}return(0,c.isNone)(t)?!1:r.equals(e,t.value)}}c.elem=Ca;var sl=function(r){return function(e){return(0,c.isNone)(e)?!1:r(e.value)}};c.exists=sl;c.Do=(0,c.of)(Dr.emptyRecord);c.bindTo=(0,Zt.bindTo)(c.Functor);var fl=(0,Zt.let)(c.Functor);c.let=fl;c.bind=(0,ka.bind)(c.Chain);c.apS=(0,Je.apS)(c.Apply);c.ApT=(0,c.of)(Dr.emptyReadonlyArray);var ll=function(r){return function(e){var t=r(0,Dr.head(e));if((0,c.isNone)(t))return c.none;for(var n=[t.value],i=1;i<e.length;i++){var s=r(i,e[i]);if((0,c.isNone)(s))return c.none;n.push(s.value)}return(0,c.some)(n)}};c.traverseReadonlyNonEmptyArrayWithIndex=ll;var pl=function(r){var e=(0,c.traverseReadonlyNonEmptyArrayWithIndex)(r);return function(t){return Dr.isNonEmpty(t)?e(t):c.ApT}};c.traverseReadonlyArrayWithIndex=pl;c.traverseArrayWithIndex=c.traverseReadonlyArrayWithIndex;var dl=function(r){return(0,c.traverseReadonlyArrayWithIndex)(function(e,t){return r(t)})};c.traverseArray=dl;c.sequenceArray=(0,c.traverseArray)(N.identity);function ml(r){return function(e){return(0,c.isSome)(r(e))}}c.getRefinement=ml;c.mapNullable=c.chainNullableK;c.option={URI:c.URI,map:rr,of:c.of,ap:Br,chain:Xe,reduce:Qe,foldMap:Ye,reduceRight:Ze,traverse:en,sequence:c.sequence,zero:c.zero,alt:tn,extend:Na,compact:c.compact,separate:c.separate,filter:_e,filterMap:nn,partition:an,partitionMap:on,wither:un,wilt:cn,throwError:c.throwError};c.getApplySemigroup=(0,Je.getApplySemigroup)(c.Apply);c.getApplyMonoid=(0,Af.getApplicativeMonoid)(c.Applicative);var hl=function(){return(0,c.getMonoid)((0,xa.first)())};c.getFirstMonoid=hl;var vl=function(){return(0,c.getMonoid)((0,xa.last)())};c.getLastMonoid=vl});var rt=R(Q=>{"use strict";var gl=Q&&Q.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),yl=Q&&Q.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Il=Q&&Q.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&gl(e,r,t);return yl(e,r),e};Object.defineProperty(Q,"__esModule",{value:!0});Q.getCompactableComposition=Q.separate=Q.compact=void 0;var La=W(),Da=Z(),ja=sn(),Rl=Il(Ae());function fn(r,e){return function(t){return r.map(t,e.compact)}}Q.compact=fn;function Ba(r,e,t){var n=fn(r,e),i=(0,Da.map)(r,t);return function(s){return Rl.separated(n((0,La.pipe)(s,i(ja.getLeft))),n((0,La.pipe)(s,i(ja.getRight))))}}Q.separate=Ba;function El(r,e){var t=(0,Da.getFunctorComposition)(r,e).map;return{map:t,compact:fn(r,e),separate:Ba(r,e,e)}}Q.getCompactableComposition=El});var $a=R(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.tailRec=void 0;var bl=function(r,e){for(var t=e(r);t._tag==="Left";)t=e(t.left);return t.right};et.tailRec=bl});var we=R(u=>{"use strict";var Ol=u&&u.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Sl=u&&u.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Al=u&&u.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Ol(e,r,t);return Sl(e,r),e};Object.defineProperty(u,"__esModule",{value:!0});u.fold=u.match=u.foldW=u.matchW=u.isRight=u.isLeft=u.fromOption=u.fromPredicate=u.FromEither=u.MonadThrow=u.throwError=u.ChainRec=u.Extend=u.extend=u.Alt=u.alt=u.altW=u.Bifunctor=u.mapLeft=u.bimap=u.Traversable=u.sequence=u.traverse=u.Foldable=u.reduceRight=u.foldMap=u.reduce=u.Monad=u.Chain=u.chain=u.chainW=u.Applicative=u.Apply=u.ap=u.apW=u.Pointed=u.of=u.Functor=u.map=u.getAltValidation=u.getApplicativeValidation=u.getWitherable=u.getFilterable=u.getCompactable=u.getSemigroup=u.getEq=u.getShow=u.URI=u.right=u.left=void 0;u.getValidation=u.getValidationMonoid=u.getValidationSemigroup=u.getApplyMonoid=u.getApplySemigroup=u.either=u.stringifyJSON=u.parseJSON=u.sequenceArray=u.traverseArray=u.traverseArrayWithIndex=u.traverseReadonlyArrayWithIndex=u.traverseReadonlyNonEmptyArrayWithIndex=u.ApT=u.apSW=u.apS=u.bindW=u.bind=u.let=u.bindTo=u.Do=u.exists=u.elem=u.toError=u.toUnion=u.chainNullableK=u.fromNullableK=u.tryCatchK=u.tryCatch=u.fromNullable=u.orElse=u.orElseW=u.swap=u.filterOrElseW=u.filterOrElse=u.chainOptionK=u.fromOptionK=u.duplicate=u.flatten=u.flattenW=u.chainFirstW=u.chainFirst=u.apSecondW=u.apSecond=u.apFirstW=u.apFirst=u.flap=u.getOrElse=u.getOrElseW=void 0;var Va=Tr(),Te=vr(),za=cr(),_l=$a(),Fe=Se(),D=W(),ln=Z(),Fr=Al(or()),Rr=Ae(),Ga=Qt();u.left=Fr.left;u.right=Fr.right;var H=function(r,e){return(0,D.pipe)(r,(0,u.map)(e))},$r=function(r,e){return(0,D.pipe)(r,(0,u.ap)(e))},ae=function(r,e){return(0,D.pipe)(r,(0,u.chain)(e))},We=function(r,e,t){return(0,D.pipe)(r,(0,u.reduce)(e,t))},qe=function(r){return function(e,t){var n=(0,u.foldMap)(r);return(0,D.pipe)(e,n(t))}},Ke=function(r,e,t){return(0,D.pipe)(r,(0,u.reduceRight)(e,t))},tt=function(r){var e=(0,u.traverse)(r);return function(t,n){return(0,D.pipe)(t,e(n))}},pn=function(r,e,t){return(0,D.pipe)(r,(0,u.bimap)(e,t))},dn=function(r,e){return(0,D.pipe)(r,(0,u.mapLeft)(e))},Ha=function(r,e){return(0,D.pipe)(r,(0,u.alt)(e))},mn=function(r,e){return(0,D.pipe)(r,(0,u.extend)(e))},hn=function(r,e){return(0,_l.tailRec)(e(r),function(t){return(0,u.isLeft)(t)?(0,u.right)((0,u.left)(t.left)):(0,u.isLeft)(t.right)?(0,u.left)(e(t.right.left)):(0,u.right)((0,u.right)(t.right.right))})};u.URI="Either";var Tl=function(r,e){return{show:function(t){return(0,u.isLeft)(t)?"left(".concat(r.show(t.left),")"):"right(".concat(e.show(t.right),")")}}};u.getShow=Tl;var Fl=function(r,e){return{equals:function(t,n){return t===n||((0,u.isLeft)(t)?(0,u.isLeft)(n)&&r.equals(t.left,n.left):(0,u.isRight)(n)&&e.equals(t.right,n.right))}}};u.getEq=Fl;var Wl=function(r){return{concat:function(e,t){return(0,u.isLeft)(t)?e:(0,u.isLeft)(e)?t:(0,u.right)(r.concat(e.right,t.right))}}};u.getSemigroup=Wl;var ql=function(r){var e=(0,u.left)(r.empty);return{URI:u.URI,_E:void 0,compact:function(t){return(0,u.isLeft)(t)?t:t.right._tag==="None"?e:(0,u.right)(t.right.value)},separate:function(t){return(0,u.isLeft)(t)?(0,Rr.separated)(t,t):(0,u.isLeft)(t.right)?(0,Rr.separated)((0,u.right)(t.right.left),e):(0,Rr.separated)(e,(0,u.right)(t.right.right))}}};u.getCompactable=ql;var Kl=function(r){var e=(0,u.left)(r.empty),t=(0,u.getCompactable)(r),n=t.compact,i=t.separate,s=function(m,v){return(0,u.isLeft)(m)||v(m.right)?m:e},d=function(m,v){return(0,u.isLeft)(m)?(0,Rr.separated)(m,m):v(m.right)?(0,Rr.separated)(e,(0,u.right)(m.right)):(0,Rr.separated)((0,u.right)(m.right),e)};return{URI:u.URI,_E:void 0,map:H,compact:n,separate:i,filter:s,filterMap:function(m,v){if((0,u.isLeft)(m))return m;var h=v(m.right);return h._tag==="None"?e:(0,u.right)(h.value)},partition:d,partitionMap:function(m,v){if((0,u.isLeft)(m))return(0,Rr.separated)(m,m);var h=v(m.right);return(0,u.isLeft)(h)?(0,Rr.separated)((0,u.right)(h.left),e):(0,Rr.separated)(e,(0,u.right)(h.right))}}};u.getFilterable=Kl;var wl=function(r){var e=(0,u.getFilterable)(r),t=(0,u.getCompactable)(r);return{URI:u.URI,_E:void 0,map:H,compact:e.compact,separate:e.separate,filter:e.filter,filterMap:e.filterMap,partition:e.partition,partitionMap:e.partitionMap,traverse:tt,sequence:u.sequence,reduce:We,foldMap:qe,reduceRight:Ke,wither:(0,Ga.witherDefault)(u.Traversable,t),wilt:(0,Ga.wiltDefault)(u.Traversable,t)}};u.getWitherable=wl;var Ul=function(r){return{URI:u.URI,_E:void 0,map:H,ap:function(e,t){return(0,u.isLeft)(e)?(0,u.isLeft)(t)?(0,u.left)(r.concat(e.left,t.left)):e:(0,u.isLeft)(t)?t:(0,u.right)(e.right(t.right))},of:u.of}};u.getApplicativeValidation=Ul;var Ml=function(r){return{URI:u.URI,_E:void 0,map:H,alt:function(e,t){if((0,u.isRight)(e))return e;var n=t();return(0,u.isLeft)(n)?(0,u.left)(r.concat(e.left,n.left)):n}}};u.getAltValidation=Ml;var kl=function(r){return function(e){return(0,u.isLeft)(e)?e:(0,u.right)(r(e.right))}};u.map=kl;u.Functor={URI:u.URI,map:H};u.of=u.right;u.Pointed={URI:u.URI,of:u.of};var xl=function(r){return function(e){return(0,u.isLeft)(e)?e:(0,u.isLeft)(r)?r:(0,u.right)(e.right(r.right))}};u.apW=xl;u.ap=u.apW;u.Apply={URI:u.URI,map:H,ap:$r};u.Applicative={URI:u.URI,map:H,ap:$r,of:u.of};var Pl=function(r){return function(e){return(0,u.isLeft)(e)?e:r(e.right)}};u.chainW=Pl;u.chain=u.chainW;u.Chain={URI:u.URI,map:H,ap:$r,chain:ae};u.Monad={URI:u.URI,map:H,ap:$r,of:u.of,chain:ae};var Nl=function(r,e){return function(t){return(0,u.isLeft)(t)?r:e(r,t.right)}};u.reduce=Nl;var Cl=function(r){return function(e){return function(t){return(0,u.isLeft)(t)?r.empty:e(t.right)}}};u.foldMap=Cl;var Ll=function(r,e){return function(t){return(0,u.isLeft)(t)?r:e(t.right,r)}};u.reduceRight=Ll;u.Foldable={URI:u.URI,reduce:We,foldMap:qe,reduceRight:Ke};var jl=function(r){return function(e){return function(t){return(0,u.isLeft)(t)?r.of((0,u.left)(t.left)):r.map(e(t.right),u.right)}}};u.traverse=jl;var Dl=function(r){return function(e){return(0,u.isLeft)(e)?r.of((0,u.left)(e.left)):r.map(e.right,u.right)}};u.sequence=Dl;u.Traversable={URI:u.URI,map:H,reduce:We,foldMap:qe,reduceRight:Ke,traverse:tt,sequence:u.sequence};var Bl=function(r,e){return function(t){return(0,u.isLeft)(t)?(0,u.left)(r(t.left)):(0,u.right)(e(t.right))}};u.bimap=Bl;var $l=function(r){return function(e){return(0,u.isLeft)(e)?(0,u.left)(r(e.left)):e}};u.mapLeft=$l;u.Bifunctor={URI:u.URI,bimap:pn,mapLeft:dn};var Gl=function(r){return function(e){return(0,u.isLeft)(e)?r():e}};u.altW=Gl;u.alt=u.altW;u.Alt={URI:u.URI,map:H,alt:Ha};var Vl=function(r){return function(e){return(0,u.isLeft)(e)?e:(0,u.right)(r(e))}};u.extend=Vl;u.Extend={URI:u.URI,map:H,extend:mn};u.ChainRec={URI:u.URI,map:H,ap:$r,chain:ae,chainRec:hn};u.throwError=u.left;u.MonadThrow={URI:u.URI,map:H,ap:$r,of:u.of,chain:ae,throwError:u.throwError};u.FromEither={URI:u.URI,fromEither:D.identity};u.fromPredicate=(0,Fe.fromPredicate)(u.FromEither);u.fromOption=(0,Fe.fromOption)(u.FromEither);u.isLeft=Fr.isLeft;u.isRight=Fr.isRight;var zl=function(r,e){return function(t){return(0,u.isLeft)(t)?r(t.left):e(t.right)}};u.matchW=zl;u.foldW=u.matchW;u.match=u.matchW;u.fold=u.match;var Hl=function(r){return function(e){return(0,u.isLeft)(e)?r(e.left):e.right}};u.getOrElseW=Hl;u.getOrElse=u.getOrElseW;u.flap=(0,ln.flap)(u.Functor);u.apFirst=(0,Te.apFirst)(u.Apply);u.apFirstW=u.apFirst;u.apSecond=(0,Te.apSecond)(u.Apply);u.apSecondW=u.apSecond;u.chainFirst=(0,za.chainFirst)(u.Chain);u.chainFirstW=u.chainFirst;u.flattenW=(0,u.chainW)(D.identity);u.flatten=u.flattenW;u.duplicate=(0,u.extend)(D.identity);u.fromOptionK=(0,Fe.fromOptionK)(u.FromEither);u.chainOptionK=(0,Fe.chainOptionK)(u.FromEither,u.Chain);u.filterOrElse=(0,Fe.filterOrElse)(u.FromEither,u.Chain);u.filterOrElseW=u.filterOrElse;var Jl=function(r){return(0,u.isLeft)(r)?(0,u.right)(r.left):(0,u.left)(r.right)};u.swap=Jl;var Xl=function(r){return function(e){return(0,u.isLeft)(e)?r(e.left):e}};u.orElseW=Xl;u.orElse=u.orElseW;var Ql=function(r){return function(e){return e==null?(0,u.left)(r):(0,u.right)(e)}};u.fromNullable=Ql;var Yl=function(r,e){try{return(0,u.right)(r())}catch(t){return(0,u.left)(e(t))}};u.tryCatch=Yl;var Zl=function(r,e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(0,u.tryCatch)(function(){return r.apply(void 0,t)},e)}};u.tryCatchK=Zl;var rp=function(r){var e=(0,u.fromNullable)(r);return function(t){return(0,D.flow)(t,e)}};u.fromNullableK=rp;var ep=function(r){var e=(0,u.fromNullableK)(r);return function(t){return(0,u.chain)(e(t))}};u.chainNullableK=ep;u.toUnion=(0,u.foldW)(D.identity,D.identity);function tp(r){return r instanceof Error?r:new Error(String(r))}u.toError=tp;function Ja(r){return function(e,t){if(t===void 0){var n=Ja(r);return function(i){return n(e,i)}}return(0,u.isLeft)(t)?!1:r.equals(e,t.right)}}u.elem=Ja;var np=function(r){return function(e){return(0,u.isLeft)(e)?!1:r(e.right)}};u.exists=np;u.Do=(0,u.of)(Fr.emptyRecord);u.bindTo=(0,ln.bindTo)(u.Functor);var ap=(0,ln.let)(u.Functor);u.let=ap;u.bind=(0,za.bind)(u.Chain);u.bindW=u.bind;u.apS=(0,Te.apS)(u.Apply);u.apSW=u.apS;u.ApT=(0,u.of)(Fr.emptyReadonlyArray);var ip=function(r){return function(e){var t=r(0,Fr.head(e));if((0,u.isLeft)(t))return t;for(var n=[t.right],i=1;i<e.length;i++){var s=r(i,e[i]);if((0,u.isLeft)(s))return s;n.push(s.right)}return(0,u.right)(n)}};u.traverseReadonlyNonEmptyArrayWithIndex=ip;var op=function(r){var e=(0,u.traverseReadonlyNonEmptyArrayWithIndex)(r);return function(t){return Fr.isNonEmpty(t)?e(t):u.ApT}};u.traverseReadonlyArrayWithIndex=op;u.traverseArrayWithIndex=u.traverseReadonlyArrayWithIndex;var up=function(r){return(0,u.traverseReadonlyArrayWithIndex)(function(e,t){return r(t)})};u.traverseArray=up;u.sequenceArray=(0,u.traverseArray)(D.identity);function cp(r,e){return(0,u.tryCatch)(function(){return JSON.parse(r)},e)}u.parseJSON=cp;var sp=function(r,e){return(0,u.tryCatch)(function(){var t=JSON.stringify(r);if(typeof t!="string")throw new Error("Converting unsupported structure to JSON");return t},e)};u.stringifyJSON=sp;u.either={URI:u.URI,map:H,of:u.of,ap:$r,chain:ae,reduce:We,foldMap:qe,reduceRight:Ke,traverse:tt,sequence:u.sequence,bimap:pn,mapLeft:dn,alt:Ha,extend:mn,chainRec:hn,throwError:u.throwError};u.getApplySemigroup=(0,Te.getApplySemigroup)(u.Apply);u.getApplyMonoid=(0,Va.getApplicativeMonoid)(u.Applicative);var fp=function(r,e){return(0,Te.getApplySemigroup)((0,u.getApplicativeValidation)(r))(e)};u.getValidationSemigroup=fp;var lp=function(r,e){return(0,Va.getApplicativeMonoid)((0,u.getApplicativeValidation)(r))(e)};u.getValidationMonoid=lp;function pp(r){var e=(0,u.getApplicativeValidation)(r).ap,t=(0,u.getAltValidation)(r).alt;return{URI:u.URI,_E:void 0,map:H,of:u.of,chain:ae,bimap:pn,mapLeft:dn,reduce:We,foldMap:qe,reduceRight:Ke,extend:mn,traverse:tt,sequence:u.sequence,chainRec:hn,throwError:u.throwError,ap:e,alt:t}}u.getValidation=pp});var In=R(b=>{"use strict";var dp=b&&b.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),mp=b&&b.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),hp=b&&b.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&dp(e,r,t);return mp(e,r),e};Object.defineProperty(b,"__esModule",{value:!0});b.getEitherM=b.toUnion=b.swap=b.orLeft=b.orElseFirst=b.orElse=b.getOrElse=b.matchE=b.match=b.altValidation=b.mapLeft=b.bimap=b.alt=b.chain=b.ap=b.map=b.chainNullableK=b.fromNullableK=b.fromNullable=b.leftF=b.rightF=b.left=b.right=void 0;var vp=vr(),k=hp(we()),er=W(),gp=Z();function vn(r){return(0,er.flow)(k.right,r.of)}b.right=vn;function Xa(r){return(0,er.flow)(k.left,r.of)}b.left=Xa;function Qa(r){return function(e){return r.map(e,k.right)}}b.rightF=Qa;function Ya(r){return function(e){return r.map(e,k.left)}}b.leftF=Ya;function Za(r){return function(e){return(0,er.flow)(k.fromNullable(e),r.of)}}b.fromNullable=Za;function ri(r){var e=Za(r);return function(t){var n=e(t);return function(i){return(0,er.flow)(i,n)}}}b.fromNullableK=ri;function yp(r){var e=gn(r),t=ri(r);return function(n){var i=t(n);return function(s){return e(i(s))}}}b.chainNullableK=yp;function ei(r){return(0,gp.map)(r,k.Functor)}b.map=ei;function ti(r){return(0,vp.ap)(r,k.Apply)}b.ap=ti;function gn(r){return function(e){return function(t){return r.chain(t,function(n){return k.isLeft(n)?r.of(n):e(n.right)})}}}b.chain=gn;function ni(r){return function(e){return function(t){return r.chain(t,function(n){return k.isLeft(n)?e():r.of(n)})}}}b.alt=ni;function ai(r){return function(e,t){return function(n){return r.map(n,k.bimap(e,t))}}}b.bimap=ai;function ii(r){return function(e){return function(t){return r.map(t,k.mapLeft(e))}}}b.mapLeft=ii;function Ip(r,e){return function(t){return function(n){return r.chain(n,k.match(function(i){return r.map(t(),k.mapLeft(function(s){return e.concat(i,s)}))},vn(r)))}}}b.altValidation=Ip;function Rp(r){return function(e,t){return function(n){return r.map(n,k.match(e,t))}}}b.match=Rp;function oi(r){return function(e,t){return function(n){return r.chain(n,k.match(e,t))}}}b.matchE=oi;function ui(r){return function(e){return function(t){return r.chain(t,k.match(e,r.of))}}}b.getOrElse=ui;function yn(r){return function(e){return function(t){return r.chain(t,function(n){return k.isLeft(n)?e(n.left):r.of(n)})}}}b.orElse=yn;function Ep(r){var e=yn(r);return function(t){return e(function(n){return r.map(t(n),function(i){return k.isLeft(i)?i:k.left(n)})})}}b.orElseFirst=Ep;function bp(r){return function(e){return function(t){return r.chain(t,k.match(function(n){return r.map(e(n),k.left)},function(n){return r.of(k.right(n))}))}}}b.orLeft=bp;function ci(r){return function(e){return r.map(e,k.swap)}}b.swap=ci;function Op(r){return function(e){return r.map(e,k.toUnion)}}b.toUnion=Op;function Sp(r){var e=ti(r),t=ei(r),n=gn(r),i=ni(r),s=ai(r),d=ii(r),m=oi(r),v=ui(r),h=yn(r);return{map:function(I,A){return(0,er.pipe)(I,t(A))},ap:function(I,A){return(0,er.pipe)(I,e(A))},of:vn(r),chain:function(I,A){return(0,er.pipe)(I,n(A))},alt:function(I,A){return(0,er.pipe)(I,i(A))},bimap:function(I,A,j){return(0,er.pipe)(I,s(A,j))},mapLeft:function(I,A){return(0,er.pipe)(I,d(A))},fold:function(I,A,j){return(0,er.pipe)(I,m(A,j))},getOrElse:function(I,A){return(0,er.pipe)(I,v(A))},orElse:function(I,A){return(0,er.pipe)(I,h(A))},swap:ci(r),rightM:Qa(r),leftM:Ya(r),left:Xa(r)}}b.getEitherM=Sp});var bn=R(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.getFilterableComposition=fr.partitionMap=fr.partition=fr.filterMap=fr.filter=void 0;var si=rt(),ie=W(),Ap=Z(),fi=sn(),_p=zt(),li=Ae();function Rn(r,e){return function(t){return function(n){return r.map(n,function(i){return e.filter(i,t)})}}}fr.filter=Rn;function En(r,e){return function(t){return function(n){return r.map(n,function(i){return e.filterMap(i,t)})}}}fr.filterMap=En;function pi(r,e){var t=Rn(r,e);return function(n){var i=t((0,_p.not)(n)),s=t(n);return function(d){return(0,li.separated)(i(d),s(d))}}}fr.partition=pi;function di(r,e){var t=En(r,e);return function(n){return function(i){return(0,li.separated)((0,ie.pipe)(i,t(function(s){return(0,fi.getLeft)(n(s))})),(0,ie.pipe)(i,t(function(s){return(0,fi.getRight)(n(s))})))}}}fr.partitionMap=di;function Tp(r,e){var t=(0,Ap.getFunctorComposition)(r,e).map,n=(0,si.compact)(r,e),i=(0,si.separate)(r,e,e),s=Rn(r,e),d=En(r,e),m=pi(r,e),v=di(r,e);return{map:t,compact:n,separate:i,filter:function(h,I){return(0,ie.pipe)(h,s(I))},filterMap:function(h,I){return(0,ie.pipe)(h,d(I))},partition:function(h,I){return(0,ie.pipe)(h,m(I))},partitionMap:function(h,I){return(0,ie.pipe)(h,v(I))}}}fr.getFilterableComposition=Tp});var Ue=R(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.chainFirstIOK=Wr.chainIOK=Wr.fromIOK=void 0;var Fp=cr(),On=W();function Wp(r){return function(e){return(0,On.flow)(e,r.fromIO)}}Wr.fromIOK=Wp;function qp(r,e){return function(t){var n=(0,On.flow)(t,r.fromIO);return function(i){return e.chain(i,n)}}}Wr.chainIOK=qp;function Kp(r,e){var t=(0,Fp.chainFirst)(e);return function(n){return t((0,On.flow)(n,r.fromIO))}}Wr.chainFirstIOK=Kp});var nt=R(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.chainFirstTaskK=qr.chainTaskK=qr.fromTaskK=void 0;var wp=cr(),Sn=W();function Up(r){return function(e){return(0,Sn.flow)(e,r.fromTask)}}qr.fromTaskK=Up;function Mp(r,e){return function(t){var n=(0,Sn.flow)(t,r.fromTask);return function(i){return e.chain(i,n)}}}qr.chainTaskK=Mp;function kp(r,e){var t=(0,wp.chainFirst)(e);return function(n){return t((0,Sn.flow)(n,r.fromTask))}}qr.chainFirstTaskK=kp});var it=R(l=>{"use strict";var xp=l&&l.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Pp=l&&l.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Np=l&&l.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&xp(e,r,t);return Pp(e,r),e};Object.defineProperty(l,"__esModule",{value:!0});l.getMonoid=l.getSemigroup=l.taskSeq=l.task=l.sequenceSeqArray=l.traverseSeqArray=l.traverseSeqArrayWithIndex=l.sequenceArray=l.traverseArray=l.traverseArrayWithIndex=l.traverseReadonlyArrayWithIndexSeq=l.traverseReadonlyNonEmptyArrayWithIndexSeq=l.traverseReadonlyArrayWithIndex=l.traverseReadonlyNonEmptyArrayWithIndex=l.ApT=l.apS=l.bind=l.let=l.bindTo=l.Do=l.never=l.FromTask=l.chainFirstIOK=l.chainIOK=l.fromIOK=l.FromIO=l.chainFirst=l.MonadTask=l.fromTask=l.MonadIO=l.Monad=l.Chain=l.ApplicativeSeq=l.ApplySeq=l.ApplicativePar=l.apSecond=l.apFirst=l.ApplyPar=l.Pointed=l.flap=l.Functor=l.getRaceMonoid=l.URI=l.flatten=l.chain=l.of=l.ap=l.map=l.delay=l.fromIO=void 0;var Cp=Tr(),at=vr(),mi=cr(),An=Ue(),Er=W(),_n=Z(),Gr=Np(or()),Lp=function(r){return function(){return Promise.resolve().then(r)}};l.fromIO=Lp;function jp(r){return function(e){return function(){return new Promise(function(t){setTimeout(function(){Promise.resolve().then(e).then(t)},r)})}}}l.delay=jp;var mr=function(r,e){return(0,Er.pipe)(r,(0,l.map)(e))},Vr=function(r,e){return(0,Er.pipe)(r,(0,l.ap)(e))},Tn=function(r,e){return(0,Er.pipe)(r,(0,l.chain)(function(t){return(0,Er.pipe)(e,(0,l.map)(t))}))},oe=function(r,e){return(0,Er.pipe)(r,(0,l.chain)(e))},Dp=function(r){return function(e){return function(){return Promise.resolve().then(e).then(r)}}};l.map=Dp;var Bp=function(r){return function(e){return function(){return Promise.all([Promise.resolve().then(e),Promise.resolve().then(r)]).then(function(t){var n=t[0],i=t[1];return n(i)})}}};l.ap=Bp;var $p=function(r){return function(){return Promise.resolve(r)}};l.of=$p;var Gp=function(r){return function(e){return function(){return Promise.resolve().then(e).then(function(t){return r(t)()})}}};l.chain=Gp;l.flatten=(0,l.chain)(Er.identity);l.URI="Task";function Vp(){return{concat:function(r,e){return function(){return Promise.race([Promise.resolve().then(r),Promise.resolve().then(e)])}},empty:l.never}}l.getRaceMonoid=Vp;l.Functor={URI:l.URI,map:mr};l.flap=(0,_n.flap)(l.Functor);l.Pointed={URI:l.URI,of:l.of};l.ApplyPar={URI:l.URI,map:mr,ap:Vr};l.apFirst=(0,at.apFirst)(l.ApplyPar);l.apSecond=(0,at.apSecond)(l.ApplyPar);l.ApplicativePar={URI:l.URI,map:mr,ap:Vr,of:l.of};l.ApplySeq={URI:l.URI,map:mr,ap:Tn};l.ApplicativeSeq={URI:l.URI,map:mr,ap:Tn,of:l.of};l.Chain={URI:l.URI,map:mr,ap:Vr,chain:oe};l.Monad={URI:l.URI,map:mr,of:l.of,ap:Vr,chain:oe};l.MonadIO={URI:l.URI,map:mr,of:l.of,ap:Vr,chain:oe,fromIO:l.fromIO};l.fromTask=Er.identity;l.MonadTask={URI:l.URI,map:mr,of:l.of,ap:Vr,chain:oe,fromIO:l.fromIO,fromTask:l.fromTask};l.chainFirst=(0,mi.chainFirst)(l.Chain);l.FromIO={URI:l.URI,fromIO:l.fromIO};l.fromIOK=(0,An.fromIOK)(l.FromIO);l.chainIOK=(0,An.chainIOK)(l.FromIO,l.Chain);l.chainFirstIOK=(0,An.chainFirstIOK)(l.FromIO,l.Chain);l.FromTask={URI:l.URI,fromIO:l.fromIO,fromTask:l.fromTask};var zp=function(){return new Promise(function(r){})};l.never=zp;l.Do=(0,l.of)(Gr.emptyRecord);l.bindTo=(0,_n.bindTo)(l.Functor);var Hp=(0,_n.let)(l.Functor);l.let=Hp;l.bind=(0,mi.bind)(l.Chain);l.apS=(0,at.apS)(l.ApplyPar);l.ApT=(0,l.of)(Gr.emptyReadonlyArray);var Jp=function(r){return function(e){return function(){return Promise.all(e.map(function(t,n){return Promise.resolve().then(function(){return r(n,t)()})}))}}};l.traverseReadonlyNonEmptyArrayWithIndex=Jp;var Xp=function(r){var e=(0,l.traverseReadonlyNonEmptyArrayWithIndex)(r);return function(t){return Gr.isNonEmpty(t)?e(t):l.ApT}};l.traverseReadonlyArrayWithIndex=Xp;var Qp=function(r){return function(e){return function(){return Gr.tail(e).reduce(function(t,n,i){return t.then(function(s){return Promise.resolve().then(r(i+1,n)).then(function(d){return s.push(d),s})})},Promise.resolve().then(r(0,Gr.head(e))).then(Gr.singleton))}}};l.traverseReadonlyNonEmptyArrayWithIndexSeq=Qp;var Yp=function(r){var e=(0,l.traverseReadonlyNonEmptyArrayWithIndexSeq)(r);return function(t){return Gr.isNonEmpty(t)?e(t):l.ApT}};l.traverseReadonlyArrayWithIndexSeq=Yp;l.traverseArrayWithIndex=l.traverseReadonlyArrayWithIndex;var Zp=function(r){return(0,l.traverseReadonlyArrayWithIndex)(function(e,t){return r(t)})};l.traverseArray=Zp;l.sequenceArray=(0,l.traverseArray)(Er.identity);l.traverseSeqArrayWithIndex=l.traverseReadonlyArrayWithIndexSeq;var rd=function(r){return(0,l.traverseReadonlyArrayWithIndexSeq)(function(e,t){return r(t)})};l.traverseSeqArray=rd;l.sequenceSeqArray=(0,l.traverseSeqArray)(Er.identity);l.task={URI:l.URI,map:mr,of:l.of,ap:Vr,chain:oe,fromIO:l.fromIO,fromTask:l.fromTask};l.taskSeq={URI:l.URI,map:mr,of:l.of,ap:Tn,chain:oe,fromIO:l.fromIO,fromTask:l.fromTask};l.getSemigroup=(0,at.getApplySemigroup)(l.ApplySeq);l.getMonoid=(0,Cp.getApplicativeMonoid)(l.ApplicativeSeq)});var kr=R(o=>{"use strict";var ed=o&&o.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),td=o&&o.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ut=o&&o.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ed(e,r,t);return td(e,r),e},nd=o&&o.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(d){d(s)})}return new(t||(t=Promise))(function(s,d){function m(I){try{h(n.next(I))}catch(A){d(A)}}function v(I){try{h(n.throw(I))}catch(A){d(A)}}function h(I){I.done?s(I.value):i(I.value).then(m,v)}h((n=n.apply(r,e||[])).next())})},ad=o&&o.__generator||function(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(h){return function(I){return v([h,I])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,i=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){t.label=h[1];break}if(h[0]===6&&t.label<s[1]){t.label=s[1],s=h;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(h);break}s[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(r,t)}catch(I){h=[6,I],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});o.altW=o.alt=o.flatten=o.flattenW=o.chainW=o.chain=o.apW=o.ap=o.mapLeft=o.bimap=o.map=o.chainIOEitherK=o.chainIOEitherKW=o.fromIOEitherK=o.chainTaskOptionK=o.chainTaskOptionKW=o.fromTaskOptionK=o.swap=o.orLeft=o.orElseFirstTaskK=o.orElseFirstIOK=o.orElseFirstW=o.orElseFirst=o.orElseW=o.orElse=o.chainNullableK=o.fromNullableK=o.fromNullable=o.toUnion=o.tryCatchK=o.tryCatch=o.getOrElseW=o.getOrElse=o.foldW=o.matchEW=o.fold=o.matchE=o.matchW=o.match=o.fromTaskOption=o.fromIOEither=o.fromEither=o.fromTask=o.fromIO=o.leftIO=o.rightIO=o.leftTask=o.rightTask=o.right=o.left=void 0;o.bracketW=o.bracket=o.taskify=o.chainFirstTaskK=o.chainTaskK=o.fromTaskK=o.FromTask=o.chainFirstIOK=o.chainIOK=o.fromIOK=o.FromIO=o.fromEitherK=o.filterOrElseW=o.filterOrElse=o.fromPredicate=o.chainFirstEitherKW=o.chainFirstEitherK=o.chainEitherKW=o.chainEitherK=o.chainOptionK=o.fromOptionK=o.fromOption=o.FromEither=o.Alt=o.Bifunctor=o.chainFirstW=o.chainFirst=o.MonadThrow=o.MonadTask=o.MonadIO=o.Monad=o.Chain=o.ApplicativeSeq=o.ApplySeq=o.ApplicativePar=o.apSecondW=o.apSecond=o.apFirstW=o.apFirst=o.ApplyPar=o.Pointed=o.flap=o.Functor=o.getFilterable=o.getCompactable=o.getAltTaskValidation=o.getApplicativeTaskValidation=o.URI=o.throwError=o.of=void 0;o.getTaskValidation=o.getSemigroup=o.getApplyMonoid=o.getApplySemigroup=o.taskEitherSeq=o.taskEither=o.sequenceSeqArray=o.traverseSeqArray=o.traverseSeqArrayWithIndex=o.sequenceArray=o.traverseArray=o.traverseArrayWithIndex=o.traverseReadonlyArrayWithIndexSeq=o.traverseReadonlyNonEmptyArrayWithIndexSeq=o.traverseReadonlyArrayWithIndex=o.traverseReadonlyNonEmptyArrayWithIndex=o.ApT=o.apSW=o.apS=o.bindW=o.bind=o.let=o.bindTo=o.Do=void 0;var id=Tr(),ue=vr(),vi=cr(),hi=rt(),Kr=ut(we()),C=ut(In()),ot=bn(),wr=Se(),Fn=Ue(),Wn=nt(),w=W(),qn=Z(),tr=ut(or()),S=ut(it());o.left=C.left(S.Pointed);o.right=C.right(S.Pointed);o.rightTask=C.rightF(S.Functor);o.leftTask=C.leftF(S.Functor);o.rightIO=(0,w.flow)(S.fromIO,o.rightTask);o.leftIO=(0,w.flow)(S.fromIO,o.leftTask);o.fromIO=o.rightIO;o.fromTask=o.rightTask;o.fromEither=S.of;o.fromIOEither=S.fromIO;var od=function(r){return S.map(Kr.fromOption(r))};o.fromTaskOption=od;o.match=C.match(S.Functor);o.matchW=o.match;o.matchE=C.matchE(S.Monad);o.fold=o.matchE;o.matchEW=o.matchE;o.foldW=o.matchEW;o.getOrElse=C.getOrElse(S.Monad);o.getOrElseW=o.getOrElse;var ud=function(r,e){return function(){return nd(void 0,void 0,void 0,function(){var t;return ad(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,r().then(tr.right)];case 1:return[2,n.sent()];case 2:return t=n.sent(),[2,tr.left(e(t))];case 3:return[2]}})})}};o.tryCatch=ud;var cd=function(r,e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(0,o.tryCatch)(function(){return r.apply(void 0,t)},e)}};o.tryCatchK=cd;o.toUnion=C.toUnion(S.Functor);o.fromNullable=C.fromNullable(S.Pointed);o.fromNullableK=C.fromNullableK(S.Pointed);o.chainNullableK=C.chainNullableK(S.Monad);o.orElse=C.orElse(S.Monad);o.orElseW=o.orElse;o.orElseFirst=C.orElseFirst(S.Monad);o.orElseFirstW=o.orElseFirst;var sd=function(r){return(0,o.orElseFirst)((0,o.fromIOK)(r))};o.orElseFirstIOK=sd;var fd=function(r){return(0,o.orElseFirst)((0,o.fromTaskK)(r))};o.orElseFirstTaskK=fd;o.orLeft=C.orLeft(S.Monad);o.swap=C.swap(S.Functor);var ld=function(r){var e=(0,o.fromTaskOption)(r);return function(t){return(0,w.flow)(t,e)}};o.fromTaskOptionK=ld;var pd=function(r){return function(e){return function(t){return(0,w.pipe)(t,(0,o.chain)((0,o.fromTaskOptionK)(r)(e)))}}};o.chainTaskOptionKW=pd;o.chainTaskOptionK=o.chainTaskOptionKW;var dd=function(r){return(0,w.flow)(r,o.fromIOEither)};o.fromIOEitherK=dd;var md=function(r){return(0,o.chainW)((0,o.fromIOEitherK)(r))};o.chainIOEitherKW=md;o.chainIOEitherK=o.chainIOEitherKW;var V=function(r,e){return(0,w.pipe)(r,(0,o.map)(e))},Ur=function(r,e){return(0,w.pipe)(r,(0,o.ap)(e))},Kn=function(r,e){return(0,w.pipe)(r,(0,o.chain)(function(t){return(0,w.pipe)(e,(0,o.map)(t))}))},Mr=function(r,e){return(0,w.pipe)(r,(0,o.chain)(e))},ct=function(r,e,t){return(0,w.pipe)(r,(0,o.bimap)(e,t))},st=function(r,e){return(0,w.pipe)(r,(0,o.mapLeft)(e))},wn=function(r,e){return(0,w.pipe)(r,(0,o.alt)(e))};o.map=C.map(S.Functor);o.bimap=C.bimap(S.Functor);o.mapLeft=C.mapLeft(S.Functor);o.ap=C.ap(S.ApplyPar);o.apW=o.ap;o.chain=C.chain(S.Monad);o.chainW=o.chain;o.flattenW=(0,o.chainW)(w.identity);o.flatten=o.flattenW;o.alt=C.alt(S.Monad);o.altW=o.alt;o.of=o.right;o.throwError=o.left;o.URI="TaskEither";function gi(r,e){var t=(0,ue.ap)(r,Kr.getApplicativeValidation(e));return{URI:o.URI,_E:void 0,map:V,ap:function(n,i){return(0,w.pipe)(n,t(i))},of:o.of}}o.getApplicativeTaskValidation=gi;function yi(r){var e=C.altValidation(S.Monad,r);return{URI:o.URI,_E:void 0,map:V,alt:function(t,n){return(0,w.pipe)(t,e(n))}}}o.getAltTaskValidation=yi;var hd=function(r){var e=Kr.getCompactable(r);return{URI:o.URI,_E:void 0,compact:(0,hi.compact)(S.Functor,e),separate:(0,hi.separate)(S.Functor,e,Kr.Functor)}};o.getCompactable=hd;function vd(r){var e=Kr.getFilterable(r),t=(0,o.getCompactable)(r),n=(0,ot.filter)(S.Functor,e),i=(0,ot.filterMap)(S.Functor,e),s=(0,ot.partition)(S.Functor,e),d=(0,ot.partitionMap)(S.Functor,e);return{URI:o.URI,_E:void 0,map:V,compact:t.compact,separate:t.separate,filter:function(m,v){return(0,w.pipe)(m,n(v))},filterMap:function(m,v){return(0,w.pipe)(m,i(v))},partition:function(m,v){return(0,w.pipe)(m,s(v))},partitionMap:function(m,v){return(0,w.pipe)(m,d(v))}}}o.getFilterable=vd;o.Functor={URI:o.URI,map:V};o.flap=(0,qn.flap)(o.Functor);o.Pointed={URI:o.URI,of:o.of};o.ApplyPar={URI:o.URI,map:V,ap:Ur};o.apFirst=(0,ue.apFirst)(o.ApplyPar);o.apFirstW=o.apFirst;o.apSecond=(0,ue.apSecond)(o.ApplyPar);o.apSecondW=o.apSecond;o.ApplicativePar={URI:o.URI,map:V,ap:Ur,of:o.of};o.ApplySeq={URI:o.URI,map:V,ap:Kn};o.ApplicativeSeq={URI:o.URI,map:V,ap:Kn,of:o.of};o.Chain={URI:o.URI,map:V,ap:Ur,chain:Mr};o.Monad={URI:o.URI,map:V,ap:Ur,chain:Mr,of:o.of};o.MonadIO={URI:o.URI,map:V,ap:Ur,chain:Mr,of:o.of,fromIO:o.fromIO};o.MonadTask={URI:o.URI,map:V,ap:Ur,chain:Mr,of:o.of,fromIO:o.fromIO,fromTask:o.fromTask};o.MonadThrow={URI:o.URI,map:V,ap:Ur,chain:Mr,of:o.of,throwError:o.throwError};o.chainFirst=(0,vi.chainFirst)(o.Chain);o.chainFirstW=o.chainFirst;o.Bifunctor={URI:o.URI,bimap:ct,mapLeft:st};o.Alt={URI:o.URI,map:V,alt:wn};o.FromEither={URI:o.URI,fromEither:o.fromEither};o.fromOption=(0,wr.fromOption)(o.FromEither);o.fromOptionK=(0,wr.fromOptionK)(o.FromEither);o.chainOptionK=(0,wr.chainOptionK)(o.FromEither,o.Chain);o.chainEitherK=(0,wr.chainEitherK)(o.FromEither,o.Chain);o.chainEitherKW=o.chainEitherK;o.chainFirstEitherK=(0,wr.chainFirstEitherK)(o.FromEither,o.Chain);o.chainFirstEitherKW=o.chainFirstEitherK;o.fromPredicate=(0,wr.fromPredicate)(o.FromEither);o.filterOrElse=(0,wr.filterOrElse)(o.FromEither,o.Chain);o.filterOrElseW=o.filterOrElse;o.fromEitherK=(0,wr.fromEitherK)(o.FromEither);o.FromIO={URI:o.URI,fromIO:o.fromIO};o.fromIOK=(0,Fn.fromIOK)(o.FromIO);o.chainIOK=(0,Fn.chainIOK)(o.FromIO,o.Chain);o.chainFirstIOK=(0,Fn.chainFirstIOK)(o.FromIO,o.Chain);o.FromTask={URI:o.URI,fromIO:o.fromIO,fromTask:o.fromTask};o.fromTaskK=(0,Wn.fromTaskK)(o.FromTask);o.chainTaskK=(0,Wn.chainTaskK)(o.FromTask,o.Chain);o.chainFirstTaskK=(0,Wn.chainFirstTaskK)(o.FromTask,o.Chain);function gd(r){return function(){var e=Array.prototype.slice.call(arguments);return function(){return new Promise(function(t){var n=function(i,s){return i!=null?t(tr.left(i)):t(tr.right(s))};r.apply(null,e.concat(n))})}}}o.taskify=gd;var yd=function(r,e,t){return(0,o.bracketW)(r,e,t)};o.bracket=yd;var Id=function(r,e,t){return(0,w.pipe)(r,(0,o.chainW)(function(n){return(0,w.pipe)(e(n),S.chain(function(i){return(0,w.pipe)(t(n,i),(0,o.chainW)(function(){return S.of(i)}))}))}))};o.bracketW=Id;o.Do=(0,o.of)(tr.emptyRecord);o.bindTo=(0,qn.bindTo)(o.Functor);var Rd=(0,qn.let)(o.Functor);o.let=Rd;o.bind=(0,vi.bind)(o.Chain);o.bindW=o.bind;o.apS=(0,ue.apS)(o.ApplyPar);o.apSW=o.apS;o.ApT=(0,o.of)(tr.emptyReadonlyArray);var Ed=function(r){return(0,w.flow)(S.traverseReadonlyNonEmptyArrayWithIndex(r),S.map(Kr.traverseReadonlyNonEmptyArrayWithIndex(w.SK)))};o.traverseReadonlyNonEmptyArrayWithIndex=Ed;var bd=function(r){var e=(0,o.traverseReadonlyNonEmptyArrayWithIndex)(r);return function(t){return tr.isNonEmpty(t)?e(t):o.ApT}};o.traverseReadonlyArrayWithIndex=bd;var Od=function(r){return function(e){return function(){return tr.tail(e).reduce(function(t,n,i){return t.then(function(s){return tr.isLeft(s)?t:r(i+1,n)().then(function(d){return tr.isLeft(d)?d:(s.right.push(d.right),s)})})},r(0,tr.head(e))().then(Kr.map(tr.singleton)))}}};o.traverseReadonlyNonEmptyArrayWithIndexSeq=Od;var Sd=function(r){var e=(0,o.traverseReadonlyNonEmptyArrayWithIndexSeq)(r);return function(t){return tr.isNonEmpty(t)?e(t):o.ApT}};o.traverseReadonlyArrayWithIndexSeq=Sd;o.traverseArrayWithIndex=o.traverseReadonlyArrayWithIndex;var Ad=function(r){return(0,o.traverseReadonlyArrayWithIndex)(function(e,t){return r(t)})};o.traverseArray=Ad;o.sequenceArray=(0,o.traverseArray)(w.identity);o.traverseSeqArrayWithIndex=o.traverseReadonlyArrayWithIndexSeq;var _d=function(r){return(0,o.traverseReadonlyArrayWithIndexSeq)(function(e,t){return r(t)})};o.traverseSeqArray=_d;o.sequenceSeqArray=(0,o.traverseSeqArray)(w.identity);o.taskEither={URI:o.URI,bimap:ct,mapLeft:st,map:V,of:o.of,ap:Ur,chain:Mr,alt:wn,fromIO:o.fromIO,fromTask:o.fromTask,throwError:o.throwError};o.taskEitherSeq={URI:o.URI,bimap:ct,mapLeft:st,map:V,of:o.of,ap:Kn,chain:Mr,alt:wn,fromIO:o.fromIO,fromTask:o.fromTask,throwError:o.throwError};o.getApplySemigroup=(0,ue.getApplySemigroup)(o.ApplySeq);o.getApplyMonoid=(0,id.getApplicativeMonoid)(o.ApplicativeSeq);var Td=function(r){return(0,ue.getApplySemigroup)(S.ApplySeq)(Kr.getSemigroup(r))};o.getSemigroup=Td;function Fd(r){var e=gi(S.ApplicativePar,r),t=yi(r);return{URI:o.URI,_E:void 0,map:V,ap:e.ap,of:o.of,chain:Mr,bimap:ct,mapLeft:st,alt:t.alt,fromIO:o.fromIO,fromTask:o.fromTask,throwError:o.throwError}}o.getTaskValidation=Fd});var Oi=R((Bg,bi)=>{bi.exports=Ei;Ei.sync=qd;var Ii=require("fs");function Wd(r,e){var t=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!t||(t=t.split(";"),t.indexOf("")!==-1))return!0;for(var n=0;n<t.length;n++){var i=t[n].toLowerCase();if(i&&r.substr(-i.length).toLowerCase()===i)return!0}return!1}function Ri(r,e,t){return!r.isSymbolicLink()&&!r.isFile()?!1:Wd(e,t)}function Ei(r,e,t){Ii.stat(r,function(n,i){t(n,n?!1:Ri(i,r,e))})}function qd(r,e){return Ri(Ii.statSync(r),r,e)}});var Fi=R(($g,Ti)=>{Ti.exports=Ai;Ai.sync=Kd;var Si=require("fs");function Ai(r,e,t){Si.stat(r,function(n,i){t(n,n?!1:_i(i,e))})}function Kd(r,e){return _i(Si.statSync(r),e)}function _i(r,e){return r.isFile()&&wd(r,e)}function wd(r,e){var t=r.mode,n=r.uid,i=r.gid,s=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),d=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),m=parseInt("100",8),v=parseInt("010",8),h=parseInt("001",8),I=m|v,A=t&h||t&v&&i===d||t&m&&n===s||t&I&&s===0;return A}});var qi=R((Vg,Wi)=>{var Gg=require("fs"),ft;process.platform==="win32"||global.TESTING_WINDOWS?ft=Oi():ft=Fi();Wi.exports=Un;Un.sync=Ud;function Un(r,e,t){if(typeof e=="function"&&(t=e,e={}),!t){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Un(r,e||{},function(s,d){s?i(s):n(d)})})}ft(r,e||{},function(n,i){n&&(n.code==="EACCES"||e&&e.ignoreErrors)&&(n=null,i=!1),t(n,i)})}function Ud(r,e){try{return ft.sync(r,e||{})}catch(t){if(e&&e.ignoreErrors||t.code==="EACCES")return!1;throw t}}});var Pi=R((zg,xi)=>{var ce=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Ki=require("path"),Md=ce?";":":",wi=qi(),Ui=r=>Object.assign(new Error(`not found: ${r}`),{code:"ENOENT"}),Mi=(r,e)=>{let t=e.colon||Md,n=r.match(/\//)||ce&&r.match(/\\/)?[""]:[...ce?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(t)],i=ce?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=ce?i.split(t):[""];return ce&&r.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:n,pathExt:s,pathExtExe:i}},ki=(r,e,t)=>{typeof e=="function"&&(t=e,e={}),e||(e={});let{pathEnv:n,pathExt:i,pathExtExe:s}=Mi(r,e),d=[],m=h=>new Promise((I,A)=>{if(h===n.length)return e.all&&d.length?I(d):A(Ui(r));let j=n[h],ar=/^".*"$/.test(j)?j.slice(1,-1):j,ir=Ki.join(ar,r),dr=!ar&&/^\.[\\\/]/.test(r)?r.slice(0,2)+ir:ir;I(v(dr,h,0))}),v=(h,I,A)=>new Promise((j,ar)=>{if(A===i.length)return j(m(I+1));let ir=i[A];wi(h+ir,{pathExt:s},(dr,re)=>{if(!dr&&re)if(e.all)d.push(h+ir);else return j(h+ir);return j(v(h,I,A+1))})});return t?m(0).then(h=>t(null,h),t):m(0)},kd=(r,e)=>{e=e||{};let{pathEnv:t,pathExt:n,pathExtExe:i}=Mi(r,e),s=[];for(let d=0;d<t.length;d++){let m=t[d],v=/^".*"$/.test(m)?m.slice(1,-1):m,h=Ki.join(v,r),I=!v&&/^\.[\\\/]/.test(r)?r.slice(0,2)+h:h;for(let A=0;A<n.length;A++){let j=I+n[A];try{if(wi.sync(j,{pathExt:i}))if(e.all)s.push(j);else return j}catch{}}}if(e.all&&s.length)return s;if(e.nothrow)return null;throw Ui(r)};xi.exports=ki;ki.sync=kd});var kn=R((Hg,Mn)=>{"use strict";var Ni=(r={})=>{let e=r.env||process.env;return(r.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Mn.exports=Ni;Mn.exports.default=Ni});var Di=R((Jg,ji)=>{"use strict";var Ci=require("path"),xd=Pi(),Pd=kn();function Li(r,e){let t=r.options.env||process.env,n=process.cwd(),i=r.options.cwd!=null,s=i&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(r.options.cwd)}catch{}let d;try{d=xd.sync(r.command,{path:t[Pd({env:t})],pathExt:e?Ci.delimiter:void 0})}catch{}finally{s&&process.chdir(n)}return d&&(d=Ci.resolve(i?r.options.cwd:"",d)),d}function Nd(r){return Li(r)||Li(r,!0)}ji.exports=Nd});var Bi=R((Xg,Pn)=>{"use strict";var xn=/([()\][%!^"`<>&|;, *?])/g;function Cd(r){return r=r.replace(xn,"^$1"),r}function Ld(r,e){return r=`${r}`,r=r.replace(/(\\*)"/g,'$1$1\\"'),r=r.replace(/(\\*)$/,"$1$1"),r=`"${r}"`,r=r.replace(xn,"^$1"),e&&(r=r.replace(xn,"^$1")),r}Pn.exports.command=Cd;Pn.exports.argument=Ld});var Gi=R((Qg,$i)=>{"use strict";$i.exports=/^#!(.*)/});var zi=R((Yg,Vi)=>{"use strict";var jd=Gi();Vi.exports=(r="")=>{let e=r.match(jd);if(!e)return null;let[t,n]=e[0].replace(/#! ?/,"").split(" "),i=t.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var Ji=R((Zg,Hi)=>{"use strict";var Nn=require("fs"),Dd=zi();function Bd(r){let t=Buffer.alloc(150),n;try{n=Nn.openSync(r,"r"),Nn.readSync(n,t,0,150,0),Nn.closeSync(n)}catch{}return Dd(t.toString())}Hi.exports=Bd});var Zi=R((ry,Yi)=>{"use strict";var $d=require("path"),Xi=Di(),Qi=Bi(),Gd=Ji(),Vd=process.platform==="win32",zd=/\.(?:com|exe)$/i,Hd=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Jd(r){r.file=Xi(r);let e=r.file&&Gd(r.file);return e?(r.args.unshift(r.file),r.command=e,Xi(r)):r.file}function Xd(r){if(!Vd)return r;let e=Jd(r),t=!zd.test(e);if(r.options.forceShell||t){let n=Hd.test(e);r.command=$d.normalize(r.command),r.command=Qi.command(r.command),r.args=r.args.map(s=>Qi.argument(s,n));let i=[r.command].concat(r.args).join(" ");r.args=["/d","/s","/c",`"${i}"`],r.command=process.env.comspec||"cmd.exe",r.options.windowsVerbatimArguments=!0}return r}function Qd(r,e,t){e&&!Array.isArray(e)&&(t=e,e=null),e=e?e.slice(0):[],t=Object.assign({},t);let n={command:r,args:e,options:t,file:void 0,original:{command:r,args:e}};return t.shell?n:Xd(n)}Yi.exports=Qd});var to=R((ey,eo)=>{"use strict";var Cn=process.platform==="win32";function Ln(r,e){return Object.assign(new Error(`${e} ${r.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${r.command}`,path:r.command,spawnargs:r.args})}function Yd(r,e){if(!Cn)return;let t=r.emit;r.emit=function(n,i){if(n==="exit"){let s=ro(i,e,"spawn");if(s)return t.call(r,"error",s)}return t.apply(r,arguments)}}function ro(r,e){return Cn&&r===1&&!e.file?Ln(e.original,"spawn"):null}function Zd(r,e){return Cn&&r===1&&!e.file?Ln(e.original,"spawnSync"):null}eo.exports={hookChildProcess:Yd,verifyENOENT:ro,verifyENOENTSync:Zd,notFoundError:Ln}});var io=R((ty,se)=>{"use strict";var no=require("child_process"),jn=Zi(),Dn=to();function ao(r,e,t){let n=jn(r,e,t),i=no.spawn(n.command,n.args,n.options);return Dn.hookChildProcess(i,n),i}function rm(r,e,t){let n=jn(r,e,t),i=no.spawnSync(n.command,n.args,n.options);return i.error=i.error||Dn.verifyENOENTSync(i.status,n),i}se.exports=ao;se.exports.spawn=ao;se.exports.sync=rm;se.exports._parse=jn;se.exports._enoent=Dn});var uo=R((ny,oo)=>{"use strict";oo.exports=r=>{let e=typeof r=="string"?`
`:`
`.charCodeAt(),t=typeof r=="string"?"\r":"\r".charCodeAt();return r[r.length-1]===e&&(r=r.slice(0,r.length-1)),r[r.length-1]===t&&(r=r.slice(0,r.length-1)),r}});var fo=R((ay,ke)=>{"use strict";var Me=require("path"),co=kn(),so=r=>{r={cwd:process.cwd(),path:process.env[co()],execPath:process.execPath,...r};let e,t=Me.resolve(r.cwd),n=[];for(;e!==t;)n.push(Me.join(t,"node_modules/.bin")),e=t,t=Me.resolve(t,"..");let i=Me.resolve(r.cwd,r.execPath,"..");return n.push(i),n.concat(r.path).join(Me.delimiter)};ke.exports=so;ke.exports.default=so;ke.exports.env=r=>{r={env:process.env,...r};let e={...r.env},t=co({env:e});return r.path=e[t],e[t]=ke.exports(r),e}});var po=R((iy,Bn)=>{"use strict";var lo=(r,e)=>{for(let t of Reflect.ownKeys(e))Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t));return r};Bn.exports=lo;Bn.exports.default=lo});var ho=R((oy,pt)=>{"use strict";var em=po(),lt=new WeakMap,mo=(r,e={})=>{if(typeof r!="function")throw new TypeError("Expected a function");let t,n=0,i=r.displayName||r.name||"<anonymous>",s=function(...d){if(lt.set(s,++n),n===1)t=r.apply(this,d),r=null;else if(e.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return t};return em(s,r),lt.set(s,n),s};pt.exports=mo;pt.exports.default=mo;pt.exports.callCount=r=>{if(!lt.has(r))throw new Error(`The given function \`${r.name}\` is not wrapped by the \`onetime\` package`);return lt.get(r)}});var vo=R(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.SIGNALS=void 0;var tm=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];dt.SIGNALS=tm});var $n=R(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.SIGRTMAX=fe.getRealtimeSignals=void 0;var nm=function(){let r=yo-go+1;return Array.from({length:r},am)};fe.getRealtimeSignals=nm;var am=function(r,e){return{name:`SIGRT${e+1}`,number:go+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},go=34,yo=64;fe.SIGRTMAX=yo});var Io=R(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.getSignals=void 0;var im=require("os"),om=vo(),um=$n(),cm=function(){let r=(0,um.getRealtimeSignals)();return[...om.SIGNALS,...r].map(sm)};mt.getSignals=cm;var sm=function({name:r,number:e,description:t,action:n,forced:i=!1,standard:s}){let{signals:{[r]:d}}=im.constants,m=d!==void 0;return{name:r,number:m?d:e,description:t,supported:m,action:n,forced:i,standard:s}}});var Eo=R(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.signalsByNumber=le.signalsByName=void 0;var fm=require("os"),Ro=Io(),lm=$n(),pm=function(){return(0,Ro.getSignals)().reduce(dm,{})},dm=function(r,{name:e,number:t,description:n,supported:i,action:s,forced:d,standard:m}){return{...r,[e]:{name:e,number:t,description:n,supported:i,action:s,forced:d,standard:m}}},mm=pm();le.signalsByName=mm;var hm=function(){let r=(0,Ro.getSignals)(),e=lm.SIGRTMAX+1,t=Array.from({length:e},(n,i)=>vm(i,r));return Object.assign({},...t)},vm=function(r,e){let t=gm(r,e);if(t===void 0)return{};let{name:n,description:i,supported:s,action:d,forced:m,standard:v}=t;return{[r]:{name:n,number:r,description:i,supported:s,action:d,forced:m,standard:v}}},gm=function(r,e){let t=e.find(({name:n})=>fm.constants.signals[n]===r);return t!==void 0?t:e.find(n=>n.number===r)},ym=hm();le.signalsByNumber=ym});var Oo=R((ly,bo)=>{"use strict";var{signalsByName:Im}=Eo(),Rm=({timedOut:r,timeout:e,errorCode:t,signal:n,signalDescription:i,exitCode:s,isCanceled:d})=>r?`timed out after ${e} milliseconds`:d?"was canceled":t!==void 0?`failed with ${t}`:n!==void 0?`was killed with ${n} (${i})`:s!==void 0?`failed with exit code ${s}`:"failed",Em=({stdout:r,stderr:e,all:t,error:n,signal:i,exitCode:s,command:d,escapedCommand:m,timedOut:v,isCanceled:h,killed:I,parsed:{options:{timeout:A}}})=>{s=s===null?void 0:s,i=i===null?void 0:i;let j=i===void 0?void 0:Im[i].description,ar=n&&n.code,dr=`Command ${Rm({timedOut:v,timeout:A,errorCode:ar,signal:i,signalDescription:j,exitCode:s,isCanceled:h})}: ${d}`,re=Object.prototype.toString.call(n)==="[object Error]",Be=re?`${dr}
${n.message}`:dr,$e=[Be,e,r].filter(Boolean).join(`
`);return re?(n.originalMessage=n.message,n.message=$e):n=new Error($e),n.shortMessage=Be,n.command=d,n.escapedCommand=m,n.exitCode=s,n.signal=i,n.signalDescription=j,n.stdout=r,n.stderr=e,t!==void 0&&(n.all=t),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=Boolean(v),n.isCanceled=h,n.killed=I&&!v,n};bo.exports=Em});var Ao=R((py,Gn)=>{"use strict";var ht=["stdin","stdout","stderr"],bm=r=>ht.some(e=>r[e]!==void 0),So=r=>{if(!r)return;let{stdio:e}=r;if(e===void 0)return ht.map(n=>r[n]);if(bm(r))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${ht.map(n=>`\`${n}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let t=Math.max(e.length,ht.length);return Array.from({length:t},(n,i)=>e[i])};Gn.exports=So;Gn.exports.node=r=>{let e=So(r);return e==="ipc"?"ipc":e===void 0||typeof e=="string"?[e,e,e,"ipc"]:e.includes("ipc")?e:[...e,"ipc"]}});var _o=R((dy,vt)=>{vt.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&vt.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&vt.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Ko=R((my,me)=>{var x=global.process,zr=function(r){return r&&typeof r=="object"&&typeof r.removeListener=="function"&&typeof r.emit=="function"&&typeof r.reallyExit=="function"&&typeof r.listeners=="function"&&typeof r.kill=="function"&&typeof r.pid=="number"&&typeof r.on=="function"};zr(x)?(To=require("assert"),pe=_o(),Fo=/^win/i.test(x.platform),xe=require("events"),typeof xe!="function"&&(xe=xe.EventEmitter),x.__signal_exit_emitter__?B=x.__signal_exit_emitter__:(B=x.__signal_exit_emitter__=new xe,B.count=0,B.emitted={}),B.infinite||(B.setMaxListeners(1/0),B.infinite=!0),me.exports=function(r,e){if(!zr(global.process))return function(){};To.equal(typeof r,"function","a callback must be provided for exit handler"),de===!1&&Vn();var t="exit";e&&e.alwaysLast&&(t="afterexit");var n=function(){B.removeListener(t,r),B.listeners("exit").length===0&&B.listeners("afterexit").length===0&&gt()};return B.on(t,r),n},gt=function(){!de||!zr(global.process)||(de=!1,pe.forEach(function(e){try{x.removeListener(e,yt[e])}catch{}}),x.emit=It,x.reallyExit=zn,B.count-=1)},me.exports.unload=gt,Hr=function(e,t,n){B.emitted[e]||(B.emitted[e]=!0,B.emit(e,t,n))},yt={},pe.forEach(function(r){yt[r]=function(){if(!!zr(global.process)){var t=x.listeners(r);t.length===B.count&&(gt(),Hr("exit",null,r),Hr("afterexit",null,r),Fo&&r==="SIGHUP"&&(r="SIGINT"),x.kill(x.pid,r))}}}),me.exports.signals=function(){return pe},de=!1,Vn=function(){de||!zr(global.process)||(de=!0,B.count+=1,pe=pe.filter(function(e){try{return x.on(e,yt[e]),!0}catch{return!1}}),x.emit=qo,x.reallyExit=Wo)},me.exports.load=Vn,zn=x.reallyExit,Wo=function(e){!zr(global.process)||(x.exitCode=e||0,Hr("exit",x.exitCode,null),Hr("afterexit",x.exitCode,null),zn.call(x,x.exitCode))},It=x.emit,qo=function(e,t){if(e==="exit"&&zr(global.process)){t!==void 0&&(x.exitCode=t);var n=It.apply(this,arguments);return Hr("exit",x.exitCode,null),Hr("afterexit",x.exitCode,null),n}else return It.apply(this,arguments)}):me.exports=function(){return function(){}};var To,pe,Fo,xe,B,gt,Hr,yt,de,Vn,zn,Wo,It,qo});var Uo=R((hy,wo)=>{"use strict";var Om=require("os"),Sm=Ko(),Am=1e3*5,_m=(r,e="SIGTERM",t={})=>{let n=r(e);return Tm(r,e,t,n),n},Tm=(r,e,t,n)=>{if(!Fm(e,t,n))return;let i=qm(t),s=setTimeout(()=>{r("SIGKILL")},i);s.unref&&s.unref()},Fm=(r,{forceKillAfterTimeout:e},t)=>Wm(r)&&e!==!1&&t,Wm=r=>r===Om.constants.signals.SIGTERM||typeof r=="string"&&r.toUpperCase()==="SIGTERM",qm=({forceKillAfterTimeout:r=!0})=>{if(r===!0)return Am;if(!Number.isFinite(r)||r<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${r}\` (${typeof r})`);return r},Km=(r,e)=>{r.kill()&&(e.isCanceled=!0)},wm=(r,e,t)=>{r.kill(e),t(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},Um=(r,{timeout:e,killSignal:t="SIGTERM"},n)=>{if(e===0||e===void 0)return n;let i,s=new Promise((m,v)=>{i=setTimeout(()=>{wm(r,t,v)},e)}),d=n.finally(()=>{clearTimeout(i)});return Promise.race([s,d])},Mm=({timeout:r})=>{if(r!==void 0&&(!Number.isFinite(r)||r<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${r}\` (${typeof r})`)},km=async(r,{cleanup:e,detached:t},n)=>{if(!e||t)return n;let i=Sm(()=>{r.kill()});return n.finally(()=>{i()})};wo.exports={spawnedKill:_m,spawnedCancel:Km,setupTimeout:Um,validateTimeout:Mm,setExitHandler:km}});var ko=R((vy,Mo)=>{"use strict";var gr=r=>r!==null&&typeof r=="object"&&typeof r.pipe=="function";gr.writable=r=>gr(r)&&r.writable!==!1&&typeof r._write=="function"&&typeof r._writableState=="object";gr.readable=r=>gr(r)&&r.readable!==!1&&typeof r._read=="function"&&typeof r._readableState=="object";gr.duplex=r=>gr.writable(r)&&gr.readable(r);gr.transform=r=>gr.duplex(r)&&typeof r._transform=="function";Mo.exports=gr});var Po=R((gy,xo)=>{"use strict";var{PassThrough:xm}=require("stream");xo.exports=r=>{r={...r};let{array:e}=r,{encoding:t}=r,n=t==="buffer",i=!1;e?i=!(t||n):t=t||"utf8",n&&(t=null);let s=new xm({objectMode:i});t&&s.setEncoding(t);let d=0,m=[];return s.on("data",v=>{m.push(v),i?d=m.length:d+=v.length}),s.getBufferedValue=()=>e?m:n?Buffer.concat(m,d):m.join(""),s.getBufferedLength=()=>d,s}});var No=R((yy,Pe)=>{"use strict";var{constants:Pm}=require("buffer"),Nm=require("stream"),{promisify:Cm}=require("util"),Lm=Po(),jm=Cm(Nm.pipeline),Rt=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function Hn(r,e){if(!r)throw new Error("Expected a stream");e={maxBuffer:1/0,...e};let{maxBuffer:t}=e,n=Lm(e);return await new Promise((i,s)=>{let d=m=>{m&&n.getBufferedLength()<=Pm.MAX_LENGTH&&(m.bufferedData=n.getBufferedValue()),s(m)};(async()=>{try{await jm(r,n),i()}catch(m){d(m)}})(),n.on("data",()=>{n.getBufferedLength()>t&&d(new Rt)})}),n.getBufferedValue()}Pe.exports=Hn;Pe.exports.buffer=(r,e)=>Hn(r,{...e,encoding:"buffer"});Pe.exports.array=(r,e)=>Hn(r,{...e,array:!0});Pe.exports.MaxBufferError=Rt});var Lo=R((Iy,Co)=>{"use strict";var{PassThrough:Dm}=require("stream");Co.exports=function(){var r=[],e=new Dm({objectMode:!0});return e.setMaxListeners(0),e.add=t,e.isEmpty=n,e.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(t),e;function t(s){return Array.isArray(s)?(s.forEach(t),this):(r.push(s),s.once("end",i.bind(null,s)),s.once("error",e.emit.bind(e,"error")),s.pipe(e,{end:!1}),this)}function n(){return r.length==0}function i(s){r=r.filter(function(d){return d!==s}),!r.length&&e.readable&&e.end()}}});var $o=R((Ry,Bo)=>{"use strict";var Do=ko(),jo=No(),Bm=Lo(),$m=(r,e)=>{e===void 0||r.stdin===void 0||(Do(e)?e.pipe(r.stdin):r.stdin.end(e))},Gm=(r,{all:e})=>{if(!e||!r.stdout&&!r.stderr)return;let t=Bm();return r.stdout&&t.add(r.stdout),r.stderr&&t.add(r.stderr),t},Jn=async(r,e)=>{if(!!r){r.destroy();try{return await e}catch(t){return t.bufferedData}}},Xn=(r,{encoding:e,buffer:t,maxBuffer:n})=>{if(!(!r||!t))return e?jo(r,{encoding:e,maxBuffer:n}):jo.buffer(r,{maxBuffer:n})},Vm=async({stdout:r,stderr:e,all:t},{encoding:n,buffer:i,maxBuffer:s},d)=>{let m=Xn(r,{encoding:n,buffer:i,maxBuffer:s}),v=Xn(e,{encoding:n,buffer:i,maxBuffer:s}),h=Xn(t,{encoding:n,buffer:i,maxBuffer:s*2});try{return await Promise.all([d,m,v,h])}catch(I){return Promise.all([{error:I,signal:I.signal,timedOut:I.timedOut},Jn(r,m),Jn(e,v),Jn(t,h)])}},zm=({input:r})=>{if(Do(r))throw new TypeError("The `input` option cannot be a stream in sync mode")};Bo.exports={handleInput:$m,makeAllStream:Gm,getSpawnedResult:Vm,validateInputSync:zm}});var Vo=R((Ey,Go)=>{"use strict";var Hm=(async()=>{})().constructor.prototype,Jm=["then","catch","finally"].map(r=>[r,Reflect.getOwnPropertyDescriptor(Hm,r)]),Xm=(r,e)=>{for(let[t,n]of Jm){let i=typeof e=="function"?(...s)=>Reflect.apply(n.value,e(),s):n.value.bind(e);Reflect.defineProperty(r,t,{...n,value:i})}return r},Qm=r=>new Promise((e,t)=>{r.on("exit",(n,i)=>{e({exitCode:n,signal:i})}),r.on("error",n=>{t(n)}),r.stdin&&r.stdin.on("error",n=>{t(n)})});Go.exports={mergePromise:Xm,getSpawnedPromise:Qm}});var Jo=R((by,Ho)=>{"use strict";var zo=(r,e=[])=>Array.isArray(e)?[r,...e]:[r],Ym=/^[\w.-]+$/,Zm=/"/g,rh=r=>typeof r!="string"||Ym.test(r)?r:`"${r.replace(Zm,'\\"')}"`,eh=(r,e)=>zo(r,e).join(" "),th=(r,e)=>zo(r,e).map(t=>rh(t)).join(" "),nh=/ +/g,ah=r=>{let e=[];for(let t of r.trim().split(nh)){let n=e[e.length-1];n&&n.endsWith("\\")?e[e.length-1]=`${n.slice(0,-1)} ${t}`:e.push(t)}return e};Ho.exports={joinCommand:eh,getEscapedCommand:th,parseCommand:ah}});var tu=R((Oy,he)=>{"use strict";var ih=require("path"),Qn=require("child_process"),oh=io(),uh=uo(),ch=fo(),sh=ho(),Et=Oo(),Qo=Ao(),{spawnedKill:fh,spawnedCancel:lh,setupTimeout:ph,validateTimeout:dh,setExitHandler:mh}=Uo(),{handleInput:hh,getSpawnedResult:vh,makeAllStream:gh,validateInputSync:yh}=$o(),{mergePromise:Xo,getSpawnedPromise:Ih}=Vo(),{joinCommand:Yo,parseCommand:Zo,getEscapedCommand:ru}=Jo(),Rh=1e3*1e3*100,Eh=({env:r,extendEnv:e,preferLocal:t,localDir:n,execPath:i})=>{let s=e?{...process.env,...r}:r;return t?ch.env({env:s,cwd:n,execPath:i}):s},eu=(r,e,t={})=>{let n=oh._parse(r,e,t);return r=n.command,e=n.args,t=n.options,t={maxBuffer:Rh,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:t.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...t},t.env=Eh(t),t.stdio=Qo(t),process.platform==="win32"&&ih.basename(r,".exe")==="cmd"&&e.unshift("/q"),{file:r,args:e,options:t,parsed:n}},Ne=(r,e,t)=>typeof e!="string"&&!Buffer.isBuffer(e)?t===void 0?void 0:"":r.stripFinalNewline?uh(e):e,bt=(r,e,t)=>{let n=eu(r,e,t),i=Yo(r,e),s=ru(r,e);dh(n.options);let d;try{d=Qn.spawn(n.file,n.args,n.options)}catch(ar){let ir=new Qn.ChildProcess,dr=Promise.reject(Et({error:ar,stdout:"",stderr:"",all:"",command:i,escapedCommand:s,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return Xo(ir,dr)}let m=Ih(d),v=ph(d,n.options,m),h=mh(d,n.options,v),I={isCanceled:!1};d.kill=fh.bind(null,d.kill.bind(d)),d.cancel=lh.bind(null,d,I);let j=sh(async()=>{let[{error:ar,exitCode:ir,signal:dr,timedOut:re},Be,$e,ju]=await vh(d,n.options,h),va=Ne(n.options,Be),ga=Ne(n.options,$e),ya=Ne(n.options,ju);if(ar||ir!==0||dr!==null){let Ia=Et({error:ar,exitCode:ir,signal:dr,stdout:va,stderr:ga,all:ya,command:i,escapedCommand:s,parsed:n,timedOut:re,isCanceled:I.isCanceled,killed:d.killed});if(!n.options.reject)return Ia;throw Ia}return{command:i,escapedCommand:s,exitCode:0,stdout:va,stderr:ga,all:ya,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return hh(d,n.options.input),d.all=gh(d,n.options),Xo(d,j)};he.exports=bt;he.exports.sync=(r,e,t)=>{let n=eu(r,e,t),i=Yo(r,e),s=ru(r,e);yh(n.options);let d;try{d=Qn.spawnSync(n.file,n.args,n.options)}catch(h){throw Et({error:h,stdout:"",stderr:"",all:"",command:i,escapedCommand:s,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}let m=Ne(n.options,d.stdout,d.error),v=Ne(n.options,d.stderr,d.error);if(d.error||d.status!==0||d.signal!==null){let h=Et({stdout:m,stderr:v,error:d.error,signal:d.signal,exitCode:d.status,command:i,escapedCommand:s,parsed:n,timedOut:d.error&&d.error.code==="ETIMEDOUT",isCanceled:!1,killed:d.signal!==null});if(!n.options.reject)return h;throw h}return{command:i,escapedCommand:s,exitCode:0,stdout:m,stderr:v,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};he.exports.command=(r,e)=>{let[t,...n]=Zo(r);return bt(t,n,e)};he.exports.commandSync=(r,e)=>{let[t,...n]=Zo(r);return bt.sync(t,n,e)};he.exports.node=(r,e,t={})=>{e&&!Array.isArray(e)&&typeof e=="object"&&(t=e,e=[]);let n=Qo.node(t),i=process.execArgv.filter(m=>!m.startsWith("--inspect")),{nodePath:s=process.execPath,nodeOptions:d=i}=t;return bt(s,[...d,r,...Array.isArray(e)?e:[]],{...t,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var ge=R(p=>{"use strict";var Sh=p&&p.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ah=p&&p.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),lu=p&&p.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Sh(e,r,t);return Ah(e,r),e};Object.defineProperty(p,"__esModule",{value:!0});p.traverseArray=p.traverseArrayWithIndex=p.traverseReadonlyArrayWithIndex=p.traverseReadonlyNonEmptyArrayWithIndex=p.ApT=p.apSW=p.apS=p.Do=p.bindW=p.bind=p.let=p.bindTo=p.Choice=p.Strong=p.Category=p.Profunctor=p.chainFirstW=p.chainFirst=p.Monad=p.Chain=p.Applicative=p.apSecondW=p.apSecond=p.apFirstW=p.apFirst=p.Apply=p.Pointed=p.flap=p.Functor=p.URI=p.right=p.left=p.second=p.first=p.id=p.promap=p.compose=p.flatten=p.flattenW=p.chain=p.chainW=p.of=p.ap=p.apW=p.map=p.asksReader=p.asksReaderW=p.local=p.asks=p.ask=void 0;p.getMonoid=p.getSemigroup=p.reader=p.sequenceArray=void 0;var _h=Tr(),St=vr(),pu=cr(),Ot=lu(we()),lr=W(),Zn=Z(),ve=lu(or()),Th=function(){return lr.identity};p.ask=Th;p.asks=lr.identity;var Fh=function(r){return function(e){return function(t){return e(r(t))}}};p.local=Fh;var Wh=function(r){return function(e){return r(e)(e)}};p.asksReaderW=Wh;p.asksReader=p.asksReaderW;var Or=function(r,e){return(0,lr.pipe)(r,(0,p.map)(e))},Ce=function(r,e){return(0,lr.pipe)(r,(0,p.ap)(e))},ra=function(r,e){return(0,lr.pipe)(r,(0,p.chain)(e))},du=function(r,e){return(0,lr.pipe)(r,(0,p.compose)(e))},At=function(r,e,t){return(0,lr.pipe)(r,(0,p.promap)(e,t))},qh=function(r){return function(e){return function(t){return r(e(t))}}};p.map=qh;var Kh=function(r){return function(e){return function(t){return e(t)(r(t))}}};p.apW=Kh;p.ap=p.apW;p.of=lr.constant;var wh=function(r){return function(e){return function(t){return r(e(t))(t)}}};p.chainW=wh;p.chain=p.chainW;p.flattenW=(0,p.chainW)(lr.identity);p.flatten=p.flattenW;var Uh=function(r){return function(e){return(0,lr.flow)(r,e)}};p.compose=Uh;var Mh=function(r,e){return function(t){return function(n){return e(t(r(n)))}}};p.promap=Mh;var kh=function(){return lr.identity};p.id=kh;var xh=function(r){return function(e){var t=e[0],n=e[1];return[r(t),n]}};p.first=xh;var Ph=function(r){return function(e){var t=e[0],n=e[1];return[t,r(n)]}};p.second=Ph;var Nh=function(r){return Ot.fold(function(e){return ve.left(r(e))},Ot.right)};p.left=Nh;var Ch=function(r){return Ot.fold(Ot.left,function(e){return ve.right(r(e))})};p.right=Ch;p.URI="Reader";p.Functor={URI:p.URI,map:Or};p.flap=(0,Zn.flap)(p.Functor);p.Pointed={URI:p.URI,of:p.of};p.Apply={URI:p.URI,map:Or,ap:Ce};p.apFirst=(0,St.apFirst)(p.Apply);p.apFirstW=p.apFirst;p.apSecond=(0,St.apSecond)(p.Apply);p.apSecondW=p.apSecond;p.Applicative={URI:p.URI,map:Or,ap:Ce,of:p.of};p.Chain={URI:p.URI,map:Or,ap:Ce,chain:ra};p.Monad={URI:p.URI,map:Or,of:p.of,ap:Ce,chain:ra};p.chainFirst=(0,pu.chainFirst)(p.Chain);p.chainFirstW=p.chainFirst;p.Profunctor={URI:p.URI,map:Or,promap:At};p.Category={URI:p.URI,compose:du,id:p.id};p.Strong={URI:p.URI,map:Or,promap:At,first:p.first,second:p.second};p.Choice={URI:p.URI,map:Or,promap:At,left:p.left,right:p.right};p.bindTo=(0,Zn.bindTo)(p.Functor);var Lh=(0,Zn.let)(p.Functor);p.let=Lh;p.bind=(0,pu.bind)(p.Chain);p.bindW=p.bind;p.Do=(0,p.of)(ve.emptyRecord);p.apS=(0,St.apS)(p.Apply);p.apSW=p.apS;p.ApT=(0,p.of)(ve.emptyReadonlyArray);var jh=function(r){return function(e){return function(t){for(var n=[r(0,ve.head(e))(t)],i=1;i<e.length;i++)n.push(r(i,e[i])(t));return n}}};p.traverseReadonlyNonEmptyArrayWithIndex=jh;var Dh=function(r){var e=(0,p.traverseReadonlyNonEmptyArrayWithIndex)(r);return function(t){return ve.isNonEmpty(t)?e(t):p.ApT}};p.traverseReadonlyArrayWithIndex=Dh;p.traverseArrayWithIndex=p.traverseReadonlyArrayWithIndex;var Bh=function(r){return(0,p.traverseReadonlyArrayWithIndex)(function(e,t){return r(t)})};p.traverseArray=Bh;p.sequenceArray=(0,p.traverseArray)(lr.identity);p.reader={URI:p.URI,map:Or,of:p.of,ap:Ce,chain:ra,promap:At,compose:du,id:p.id,first:p.first,second:p.second,left:p.left,right:p.right};p.getSemigroup=(0,St.getApplySemigroup)(p.Apply);p.getMonoid=(0,_h.getApplicativeMonoid)(p.Applicative)});var ia=R($=>{"use strict";var rv=$&&$.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ev=$&&$.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),tv=$&&$.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&rv(e,r,t);return ev(e,r),e};Object.defineProperty($,"__esModule",{value:!0});$.chainFirstReaderK=$.chainReaderK=$.fromReaderK=$.asks=$.ask=void 0;var nv=cr(),Iu=W(),av=tv(ge());function iv(r){return function(){return r.fromReader(av.ask())}}$.ask=iv;function ov(r){return r.fromReader}$.asks=ov;function aa(r){return function(e){return(0,Iu.flow)(e,r.fromReader)}}$.fromReaderK=aa;function uv(r,e){var t=aa(r);return function(n){return function(i){return e.chain(i,t(n))}}}$.chainReaderK=uv;function cv(r,e){return(0,Iu.flow)(aa(r),(0,nv.chainFirst)(e))}$.chainFirstReaderK=cv});var Au=R(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.getReaderM=J.fromNaturalTransformation=J.fromReader=J.chain=J.ap=J.map=J.of=void 0;var ye=W();function Ru(r){return function(e){return function(){return r.of(e)}}}J.of=Ru;function Eu(r){return function(e){return function(t){return function(n){return r.map(t(n),e)}}}}J.map=Eu;function bu(r){return function(e){return function(t){return function(n){return r.ap(t(n),e(n))}}}}J.ap=bu;function Ou(r){return function(e){return function(t){return function(n){return r.chain(t(n),function(i){return e(i)(n)})}}}}J.chain=Ou;function Su(r){return function(e){return(0,ye.flow)(e,r.of)}}J.fromReader=Su;function sv(r){return function(e){return(0,ye.flow)(e,r)}}J.fromNaturalTransformation=sv;function fv(r){var e=bu(r),t=Eu(r),n=Ou(r);return{map:function(i,s){return(0,ye.pipe)(i,t(s))},ap:function(i,s){return(0,ye.pipe)(i,e(s))},of:Ru(r),chain:function(i,s){return(0,ye.pipe)(i,n(s))},ask:function(){return r.of},asks:function(i){return(0,ye.flow)(i,r.of)},local:function(i,s){return function(d){return i(s(d))}},fromReader:Su(r),fromM:function(i){return function(){return i}}}}J.getReaderM=fv});var Tu=R(f=>{"use strict";var lv=f&&f.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),pv=f&&f.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Kt=f&&f.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&lv(e,r,t);return pv(e,r),e};Object.defineProperty(f,"__esModule",{value:!0});f.fromTaskK=f.FromTask=f.chainFirstReaderIOK=f.chainFirstReaderIOKW=f.chainReaderIOK=f.chainReaderIOKW=f.fromReaderIOK=f.chainFirstReaderKW=f.chainFirstReaderK=f.chainReaderKW=f.chainReaderK=f.fromReaderK=f.asks=f.ask=f.FromReader=f.chainFirstIOK=f.chainIOK=f.fromIOK=f.FromIO=f.chainFirstW=f.chainFirst=f.MonadTask=f.MonadIO=f.Monad=f.Chain=f.ApplicativeSeq=f.ApplySeq=f.ApplicativePar=f.apSecond=f.apFirst=f.ApplyPar=f.Pointed=f.flap=f.Functor=f.URI=f.flatten=f.flattenW=f.chainW=f.chain=f.of=f.apW=f.ap=f.map=f.asksReaderTask=f.asksReaderTaskW=f.local=f.fromReaderIO=f.fromIO=f.fromTask=f.fromReader=void 0;f.run=f.getMonoid=f.getSemigroup=f.readerTaskSeq=f.readerTask=f.sequenceSeqArray=f.traverseSeqArray=f.traverseSeqArrayWithIndex=f.sequenceArray=f.traverseArray=f.traverseArrayWithIndex=f.traverseReadonlyArrayWithIndexSeq=f.traverseReadonlyNonEmptyArrayWithIndexSeq=f.traverseReadonlyArrayWithIndex=f.traverseReadonlyNonEmptyArrayWithIndex=f.ApT=f.apSW=f.apS=f.bindW=f.bind=f.let=f.bindTo=f.Do=f.chainFirstTaskK=f.chainTaskK=void 0;var dv=Tr(),wt=vr(),_u=cr(),oa=Ue(),Le=ia(),ua=nt(),nr=W(),ca=Z(),Ut=Kt(or()),xr=Kt(ge()),je=Kt(Au()),Ar=Kt(it());f.fromReader=je.fromReader(Ar.Pointed);f.fromTask=xr.of;f.fromIO=(0,nr.flow)(Ar.fromIO,f.fromTask);f.fromReaderIO=xr.map(Ar.fromIO);f.local=xr.local;f.asksReaderTaskW=xr.asksReaderW;f.asksReaderTask=f.asksReaderTaskW;var hr=function(r,e){return(0,nr.pipe)(r,(0,f.map)(e))},Qr=function(r,e){return(0,nr.pipe)(r,(0,f.ap)(e))},sa=function(r,e){return(0,nr.pipe)(r,(0,f.chain)(function(t){return(0,nr.pipe)(e,(0,f.map)(t))}))},Ie=function(r,e){return(0,nr.pipe)(r,(0,f.chain)(e))};f.map=je.map(Ar.Functor);f.ap=je.ap(Ar.ApplyPar);f.apW=f.ap;f.of=je.of(Ar.Pointed);f.chain=je.chain(Ar.Monad);f.chainW=f.chain;f.flattenW=(0,f.chainW)(nr.identity);f.flatten=f.flattenW;f.URI="ReaderTask";f.Functor={URI:f.URI,map:hr};f.flap=(0,ca.flap)(f.Functor);f.Pointed={URI:f.URI,of:f.of};f.ApplyPar={URI:f.URI,map:hr,ap:Qr};f.apFirst=(0,wt.apFirst)(f.ApplyPar);f.apSecond=(0,wt.apSecond)(f.ApplyPar);f.ApplicativePar={URI:f.URI,map:hr,ap:Qr,of:f.of};f.ApplySeq={URI:f.URI,map:hr,ap:sa};f.ApplicativeSeq={URI:f.URI,map:hr,ap:sa,of:f.of};f.Chain={URI:f.URI,map:hr,ap:Qr,chain:Ie};f.Monad={URI:f.URI,map:hr,of:f.of,ap:Qr,chain:Ie};f.MonadIO={URI:f.URI,map:hr,of:f.of,ap:Qr,chain:Ie,fromIO:f.fromIO};f.MonadTask={URI:f.URI,map:hr,of:f.of,ap:Qr,chain:Ie,fromIO:f.fromIO,fromTask:f.fromTask};f.chainFirst=(0,_u.chainFirst)(f.Chain);f.chainFirstW=f.chainFirst;f.FromIO={URI:f.URI,fromIO:f.fromIO};f.fromIOK=(0,oa.fromIOK)(f.FromIO);f.chainIOK=(0,oa.chainIOK)(f.FromIO,f.Chain);f.chainFirstIOK=(0,oa.chainFirstIOK)(f.FromIO,f.Chain);f.FromReader={URI:f.URI,fromReader:f.fromReader};f.ask=(0,Le.ask)(f.FromReader);f.asks=(0,Le.asks)(f.FromReader);f.fromReaderK=(0,Le.fromReaderK)(f.FromReader);f.chainReaderK=(0,Le.chainReaderK)(f.FromReader,f.Chain);f.chainReaderKW=f.chainReaderK;f.chainFirstReaderK=(0,Le.chainFirstReaderK)(f.FromReader,f.Chain);f.chainFirstReaderKW=f.chainFirstReaderK;var mv=function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,f.fromReaderIO)(r.apply(void 0,e))}};f.fromReaderIOK=mv;var hv=function(r){return(0,f.chainW)((0,f.fromReaderIOK)(r))};f.chainReaderIOKW=hv;f.chainReaderIOK=f.chainReaderIOKW;var vv=function(r){return(0,f.chainFirstW)((0,f.fromReaderIOK)(r))};f.chainFirstReaderIOKW=vv;f.chainFirstReaderIOK=f.chainFirstReaderIOKW;f.FromTask={URI:f.URI,fromIO:f.fromIO,fromTask:f.fromTask};f.fromTaskK=(0,ua.fromTaskK)(f.FromTask);f.chainTaskK=(0,ua.chainTaskK)(f.FromTask,f.Chain);f.chainFirstTaskK=(0,ua.chainFirstTaskK)(f.FromTask,f.Chain);f.Do=(0,f.of)(Ut.emptyRecord);f.bindTo=(0,ca.bindTo)(f.Functor);var gv=(0,ca.let)(f.Functor);f.let=gv;f.bind=(0,_u.bind)(f.Chain);f.bindW=f.bind;f.apS=(0,wt.apS)(f.ApplyPar);f.apSW=f.apS;f.ApT=(0,f.of)(Ut.emptyReadonlyArray);var yv=function(r){return(0,nr.flow)(xr.traverseReadonlyNonEmptyArrayWithIndex(r),xr.map(Ar.traverseReadonlyNonEmptyArrayWithIndex(nr.SK)))};f.traverseReadonlyNonEmptyArrayWithIndex=yv;var Iv=function(r){var e=(0,f.traverseReadonlyNonEmptyArrayWithIndex)(r);return function(t){return Ut.isNonEmpty(t)?e(t):f.ApT}};f.traverseReadonlyArrayWithIndex=Iv;var Rv=function(r){return(0,nr.flow)(xr.traverseReadonlyNonEmptyArrayWithIndex(r),xr.map(Ar.traverseReadonlyNonEmptyArrayWithIndexSeq(nr.SK)))};f.traverseReadonlyNonEmptyArrayWithIndexSeq=Rv;var Ev=function(r){var e=(0,f.traverseReadonlyNonEmptyArrayWithIndexSeq)(r);return function(t){return Ut.isNonEmpty(t)?e(t):f.ApT}};f.traverseReadonlyArrayWithIndexSeq=Ev;f.traverseArrayWithIndex=f.traverseReadonlyArrayWithIndex;var bv=function(r){return(0,f.traverseReadonlyArrayWithIndex)(function(e,t){return r(t)})};f.traverseArray=bv;f.sequenceArray=(0,f.traverseArray)(nr.identity);f.traverseSeqArrayWithIndex=f.traverseReadonlyArrayWithIndexSeq;var Ov=function(r){return(0,f.traverseReadonlyArrayWithIndexSeq)(function(e,t){return r(t)})};f.traverseSeqArray=Ov;f.sequenceSeqArray=(0,f.traverseSeqArray)(nr.identity);f.readerTask={URI:f.URI,map:hr,of:f.of,ap:Qr,chain:Ie,fromIO:f.fromIO,fromTask:f.fromTask};f.readerTaskSeq={URI:f.URI,map:hr,of:f.of,ap:sa,chain:Ie,fromIO:f.fromIO,fromTask:f.fromTask};f.getSemigroup=(0,wt.getApplySemigroup)(f.ApplySeq);f.getMonoid=(0,dv.getApplicativeMonoid)(f.ApplicativeSeq);function Sv(r,e){return r(e)()}f.run=Sv});var Uu=R(a=>{"use strict";var Av=a&&a.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_v=a&&a.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Yr=a&&a.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Av(e,r,t);return _v(e,r),e};Object.defineProperty(a,"__esModule",{value:!0});a.chainReaderEitherKW=a.fromReaderEitherK=a.chainFirstTaskEitherK=a.chainFirstTaskEitherKW=a.chainTaskEitherK=a.chainTaskEitherKW=a.fromTaskEitherK=a.chainIOEitherK=a.chainIOEitherKW=a.fromIOEitherK=a.swap=a.orLeft=a.orElseFirstW=a.orElseFirst=a.orElseW=a.orElse=a.asksReaderTaskEither=a.asksReaderTaskEitherW=a.local=a.chainNullableK=a.fromNullableK=a.fromNullable=a.toUnion=a.getOrElseW=a.getOrElse=a.foldW=a.matchEW=a.fold=a.matchE=a.matchW=a.match=a.fromReaderEither=a.fromIOEither=a.fromTask=a.fromIO=a.fromReader=a.fromEither=a.leftReaderIO=a.rightReaderIO=a.leftIO=a.rightIO=a.leftReaderTask=a.rightReaderTask=a.leftReader=a.rightReader=a.leftTask=a.rightTask=a.right=a.left=a.fromTaskEither=void 0;a.fromReaderTaskK=a.chainFirstReaderKW=a.chainFirstReaderK=a.chainReaderKW=a.chainReaderK=a.fromReaderK=a.asks=a.ask=a.FromReader=a.Alt=a.Bifunctor=a.chainFirstW=a.chainFirst=a.MonadThrow=a.MonadTask=a.MonadIO=a.Monad=a.Chain=a.ApplicativeSeq=a.ApplySeq=a.ApplicativePar=a.apSecondW=a.apSecond=a.apFirstW=a.apFirst=a.ApplyPar=a.Pointed=a.flap=a.Functor=a.getAltReaderTaskValidation=a.getApplicativeReaderTaskValidation=a.getFilterable=a.getCompactable=a.URI=a.throwError=a.altW=a.alt=a.flatten=a.flattenW=a.chainW=a.chain=a.of=a.apW=a.ap=a.mapLeft=a.bimap=a.map=a.chainFirstReaderEitherK=a.chainFirstReaderEitherKW=a.chainReaderEitherK=void 0;a.readerTaskEither=a.sequenceSeqArray=a.traverseSeqArray=a.traverseSeqArrayWithIndex=a.sequenceArray=a.traverseArray=a.traverseArrayWithIndex=a.traverseReadonlyArrayWithIndexSeq=a.traverseReadonlyNonEmptyArrayWithIndexSeq=a.traverseReadonlyArrayWithIndex=a.traverseReadonlyNonEmptyArrayWithIndex=a.ApT=a.apSW=a.apS=a.bindW=a.bind=a.let=a.bindTo=a.Do=a.bracketW=a.bracket=a.chainFirstTaskK=a.chainTaskK=a.fromTaskK=a.FromTask=a.chainFirstIOK=a.chainIOK=a.fromIOK=a.FromIO=a.fromEitherK=a.filterOrElseW=a.filterOrElse=a.fromPredicate=a.chainFirstEitherKW=a.chainFirstEitherK=a.chainEitherKW=a.chainEitherK=a.chainOptionK=a.fromOptionK=a.fromOption=a.FromEither=a.chainFirstReaderIOK=a.chainFirstReaderIOKW=a.chainReaderIOK=a.chainReaderIOKW=a.fromReaderIOK=a.chainFirstReaderTaskK=a.chainFirstReaderTaskKW=a.chainReaderTaskK=a.chainReaderTaskKW=void 0;a.run=a.getReaderTaskValidation=a.getSemigroup=a.getApplyMonoid=a.getApplySemigroup=a.readerTaskEitherSeq=void 0;var Tv=Tr(),Re=vr(),Wu=cr(),Fu=rt(),kt=Yr(we()),L=Yr(In()),Mt=bn(),Nr=Se(),fa=Ue(),De=ia(),la=nt(),F=W(),pa=Z(),xt=Yr(or()),Pr=Yr(ge()),q=Yr(Tu()),Fv=Yr(it()),Y=Yr(kr());a.fromTaskEither=Pr.of;a.left=L.left(q.Pointed);a.right=L.right(q.Pointed);a.rightTask=(0,F.flow)(Y.rightTask,a.fromTaskEither);a.leftTask=(0,F.flow)(Y.leftTask,a.fromTaskEither);var Wv=function(r){return(0,F.flow)(r,Y.right)};a.rightReader=Wv;var qv=function(r){return(0,F.flow)(r,Y.left)};a.leftReader=qv;a.rightReaderTask=L.rightF(q.Functor);a.leftReaderTask=L.leftF(q.Functor);a.rightIO=(0,F.flow)(Y.rightIO,a.fromTaskEither);a.leftIO=(0,F.flow)(Y.leftIO,a.fromTaskEither);var Kv=function(r){return(0,F.flow)(r,Y.rightIO)};a.rightReaderIO=Kv;var wv=function(r){return(0,F.flow)(r,Y.leftIO)};a.leftReaderIO=wv;a.fromEither=q.of;a.fromReader=a.rightReader;a.fromIO=a.rightIO;a.fromTask=a.rightTask;a.fromIOEither=(0,F.flow)(Y.fromIOEither,a.fromTaskEither);var Uv=function(r){return(0,F.flow)(r,Y.fromEither)};a.fromReaderEither=Uv;a.match=L.match(q.Functor);a.matchW=a.match;a.matchE=L.matchE(q.Chain);a.fold=a.matchE;a.matchEW=a.matchE;a.foldW=a.matchEW;a.getOrElse=L.getOrElse(q.Monad);a.getOrElseW=a.getOrElse;a.toUnion=L.toUnion(q.Functor);a.fromNullable=L.fromNullable(q.Pointed);a.fromNullableK=L.fromNullableK(q.Pointed);a.chainNullableK=L.chainNullableK(q.Monad);a.local=Pr.local;a.asksReaderTaskEitherW=Pr.asksReaderW;a.asksReaderTaskEither=a.asksReaderTaskEitherW;a.orElse=L.orElse(q.Monad);a.orElseW=a.orElse;a.orElseFirst=L.orElseFirst(q.Monad);a.orElseFirstW=a.orElseFirst;a.orLeft=L.orLeft(q.Monad);a.swap=L.swap(q.Functor);var Mv=function(r){return(0,F.flow)(r,a.fromIOEither)};a.fromIOEitherK=Mv;var kv=function(r){return(0,a.chainW)((0,a.fromIOEitherK)(r))};a.chainIOEitherKW=kv;a.chainIOEitherK=a.chainIOEitherKW;var xv=function(r){return(0,F.flow)(r,a.fromTaskEither)};a.fromTaskEitherK=xv;var Pv=function(r){return(0,a.chainW)((0,a.fromTaskEitherK)(r))};a.chainTaskEitherKW=Pv;a.chainTaskEitherK=a.chainTaskEitherKW;var Nv=function(r){return(0,a.chainFirstW)((0,a.fromTaskEitherK)(r))};a.chainFirstTaskEitherKW=Nv;a.chainFirstTaskEitherK=a.chainFirstTaskEitherKW;var Cv=function(r){return(0,F.flow)(r,a.fromReaderEither)};a.fromReaderEitherK=Cv;var Lv=function(r){return(0,a.chainW)((0,a.fromReaderEitherK)(r))};a.chainReaderEitherKW=Lv;a.chainReaderEitherK=a.chainReaderEitherKW;var jv=function(r){return(0,a.chainFirstW)((0,a.fromReaderEitherK)(r))};a.chainFirstReaderEitherKW=jv;a.chainFirstReaderEitherK=a.chainFirstReaderEitherKW;var z=function(r,e){return(0,F.pipe)(r,(0,a.map)(e))},Cr=function(r,e){return(0,F.pipe)(r,(0,a.ap)(e))},da=function(r,e){return(0,F.pipe)(r,(0,a.chain)(function(t){return(0,F.pipe)(e,(0,a.map)(t))}))},Lr=function(r,e){return(0,F.pipe)(r,(0,a.chain)(e))},ma=function(r,e){return(0,F.pipe)(r,(0,a.alt)(e))},Pt=function(r,e,t){return(0,F.pipe)(r,(0,a.bimap)(e,t))},Nt=function(r,e){return(0,F.pipe)(r,(0,a.mapLeft)(e))};a.map=L.map(q.Functor);a.bimap=L.bimap(q.Functor);a.mapLeft=L.mapLeft(q.Functor);a.ap=L.ap(q.ApplyPar);a.apW=a.ap;a.of=a.right;a.chain=L.chain(q.Monad);a.chainW=a.chain;a.flattenW=(0,a.chainW)(F.identity);a.flatten=a.flattenW;a.alt=L.alt(q.Monad);a.altW=a.alt;a.throwError=a.left;a.URI="ReaderTaskEither";var Dv=function(r){var e=kt.getCompactable(r);return{URI:a.URI,_E:void 0,compact:(0,Fu.compact)(q.Functor,e),separate:(0,Fu.separate)(q.Functor,e,kt.Functor)}};a.getCompactable=Dv;function Bv(r){var e=kt.getFilterable(r),t=(0,a.getCompactable)(r),n=(0,Mt.filter)(q.Functor,e),i=(0,Mt.filterMap)(q.Functor,e),s=(0,Mt.partition)(q.Functor,e),d=(0,Mt.partitionMap)(q.Functor,e);return{URI:a.URI,_E:void 0,map:z,compact:t.compact,separate:t.separate,filter:function(m,v){return(0,F.pipe)(m,n(v))},filterMap:function(m,v){return(0,F.pipe)(m,i(v))},partition:function(m,v){return(0,F.pipe)(m,s(v))},partitionMap:function(m,v){return(0,F.pipe)(m,d(v))}}}a.getFilterable=Bv;function qu(r,e){var t=(0,Re.ap)(Pr.Apply,Y.getApplicativeTaskValidation(r,e));return{URI:a.URI,_E:void 0,map:z,ap:function(n,i){return(0,F.pipe)(n,t(i))},of:a.of}}a.getApplicativeReaderTaskValidation=qu;function Ku(r){var e=L.altValidation(q.Monad,r);return{URI:a.URI,_E:void 0,map:z,alt:function(t,n){return(0,F.pipe)(t,e(n))}}}a.getAltReaderTaskValidation=Ku;a.Functor={URI:a.URI,map:z};a.flap=(0,pa.flap)(a.Functor);a.Pointed={URI:a.URI,of:a.of};a.ApplyPar={URI:a.URI,map:z,ap:Cr};a.apFirst=(0,Re.apFirst)(a.ApplyPar);a.apFirstW=a.apFirst;a.apSecond=(0,Re.apSecond)(a.ApplyPar);a.apSecondW=a.apSecond;a.ApplicativePar={URI:a.URI,map:z,ap:Cr,of:a.of};a.ApplySeq={URI:a.URI,map:z,ap:da};a.ApplicativeSeq={URI:a.URI,map:z,ap:da,of:a.of};a.Chain={URI:a.URI,map:z,ap:Cr,chain:Lr};a.Monad={URI:a.URI,map:z,ap:Cr,chain:Lr,of:a.of};a.MonadIO={URI:a.URI,map:z,ap:Cr,chain:Lr,of:a.of,fromIO:a.fromIO};a.MonadTask={URI:a.URI,map:z,ap:Cr,chain:Lr,of:a.of,fromIO:a.fromIO,fromTask:a.fromTask};a.MonadThrow={URI:a.URI,map:z,ap:Cr,chain:Lr,of:a.of,throwError:a.throwError};a.chainFirst=(0,Wu.chainFirst)(a.Chain);a.chainFirstW=a.chainFirst;a.Bifunctor={URI:a.URI,bimap:Pt,mapLeft:Nt};a.Alt={URI:a.URI,map:z,alt:ma};a.FromReader={URI:a.URI,fromReader:a.fromReader};a.ask=(0,De.ask)(a.FromReader);a.asks=(0,De.asks)(a.FromReader);a.fromReaderK=(0,De.fromReaderK)(a.FromReader);a.chainReaderK=(0,De.chainReaderK)(a.FromReader,a.Chain);a.chainReaderKW=a.chainReaderK;a.chainFirstReaderK=(0,De.chainFirstReaderK)(a.FromReader,a.Chain);a.chainFirstReaderKW=a.chainFirstReaderK;var $v=function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.rightReaderTask)(r.apply(void 0,e))}};a.fromReaderTaskK=$v;var Gv=function(r){return(0,a.chainW)((0,a.fromReaderTaskK)(r))};a.chainReaderTaskKW=Gv;a.chainReaderTaskK=a.chainReaderTaskKW;var Vv=function(r){return(0,a.chainFirstW)((0,a.fromReaderTaskK)(r))};a.chainFirstReaderTaskKW=Vv;a.chainFirstReaderTaskK=a.chainFirstReaderTaskKW;var zv=function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.rightReaderIO)(r.apply(void 0,e))}};a.fromReaderIOK=zv;var Hv=function(r){return(0,a.chainW)((0,a.fromReaderIOK)(r))};a.chainReaderIOKW=Hv;a.chainReaderIOK=a.chainReaderIOKW;var Jv=function(r){return(0,a.chainFirstW)((0,a.fromReaderIOK)(r))};a.chainFirstReaderIOKW=Jv;a.chainFirstReaderIOK=a.chainFirstReaderIOKW;a.FromEither={URI:a.URI,fromEither:a.fromEither};a.fromOption=(0,Nr.fromOption)(a.FromEither);a.fromOptionK=(0,Nr.fromOptionK)(a.FromEither);a.chainOptionK=(0,Nr.chainOptionK)(a.FromEither,a.Chain);a.chainEitherK=(0,Nr.chainEitherK)(a.FromEither,a.Chain);a.chainEitherKW=a.chainEitherK;a.chainFirstEitherK=(0,Nr.chainFirstEitherK)(a.FromEither,a.Chain);a.chainFirstEitherKW=a.chainFirstEitherK;a.fromPredicate=(0,Nr.fromPredicate)(a.FromEither);a.filterOrElse=(0,Nr.filterOrElse)(a.FromEither,a.Chain);a.filterOrElseW=a.filterOrElse;a.fromEitherK=(0,Nr.fromEitherK)(a.FromEither);a.FromIO={URI:a.URI,fromIO:a.fromIO};a.fromIOK=(0,fa.fromIOK)(a.FromIO);a.chainIOK=(0,fa.chainIOK)(a.FromIO,a.Chain);a.chainFirstIOK=(0,fa.chainFirstIOK)(a.FromIO,a.Chain);a.FromTask={URI:a.URI,fromIO:a.fromIO,fromTask:a.fromTask};a.fromTaskK=(0,la.fromTaskK)(a.FromTask);a.chainTaskK=(0,la.chainTaskK)(a.FromTask,a.Chain);a.chainFirstTaskK=(0,la.chainFirstTaskK)(a.FromTask,a.Chain);function Xv(r,e,t){return wu(r,e,t)}a.bracket=Xv;function wu(r,e,t){return function(n){return Y.bracketW(r(n),function(i){return e(i)(n)},function(i,s){return t(i,s)(n)})}}a.bracketW=wu;a.Do=(0,a.of)(xt.emptyRecord);a.bindTo=(0,pa.bindTo)(a.Functor);var Qv=(0,pa.let)(a.Functor);a.let=Qv;a.bind=(0,Wu.bind)(a.Chain);a.bindW=a.bind;a.apS=(0,Re.apS)(a.ApplyPar);a.apSW=a.apS;a.ApT=(0,a.of)(xt.emptyReadonlyArray);var Yv=function(r){return(0,F.flow)(Pr.traverseReadonlyNonEmptyArrayWithIndex(r),Pr.map(Y.traverseReadonlyNonEmptyArrayWithIndex(F.SK)))};a.traverseReadonlyNonEmptyArrayWithIndex=Yv;var Zv=function(r){var e=(0,a.traverseReadonlyNonEmptyArrayWithIndex)(r);return function(t){return xt.isNonEmpty(t)?e(t):a.ApT}};a.traverseReadonlyArrayWithIndex=Zv;var rg=function(r){return(0,F.flow)(Pr.traverseReadonlyNonEmptyArrayWithIndex(r),Pr.map(Y.traverseReadonlyNonEmptyArrayWithIndexSeq(F.SK)))};a.traverseReadonlyNonEmptyArrayWithIndexSeq=rg;var eg=function(r){var e=(0,a.traverseReadonlyNonEmptyArrayWithIndexSeq)(r);return function(t){return xt.isNonEmpty(t)?e(t):a.ApT}};a.traverseReadonlyArrayWithIndexSeq=eg;a.traverseArrayWithIndex=a.traverseReadonlyArrayWithIndex;var tg=function(r){return(0,a.traverseReadonlyArrayWithIndex)(function(e,t){return r(t)})};a.traverseArray=tg;a.sequenceArray=(0,a.traverseArray)(F.identity);a.traverseSeqArrayWithIndex=a.traverseReadonlyArrayWithIndexSeq;var ng=function(r){return(0,a.traverseReadonlyArrayWithIndexSeq)(function(e,t){return r(t)})};a.traverseSeqArray=ng;a.sequenceSeqArray=(0,a.traverseSeqArray)(F.identity);a.readerTaskEither={URI:a.URI,map:z,of:a.of,ap:Cr,chain:Lr,alt:ma,bimap:Pt,mapLeft:Nt,fromIO:a.fromIO,fromTask:a.fromTask,throwError:a.throwError};a.readerTaskEitherSeq={URI:a.URI,map:z,of:a.of,ap:da,chain:Lr,alt:ma,bimap:Pt,mapLeft:Nt,fromIO:a.fromIO,fromTask:a.fromTask,throwError:a.throwError};a.getApplySemigroup=(0,Re.getApplySemigroup)(a.ApplySeq);a.getApplyMonoid=(0,Tv.getApplicativeMonoid)(a.ApplicativeSeq);var ag=function(r){return(0,Re.getApplySemigroup)(q.ApplySeq)(kt.getSemigroup(r))};a.getSemigroup=ag;function ig(r){var e=qu(Fv.ApplicativePar,r),t=Ku(r);return{URI:a.URI,_E:void 0,map:z,of:a.of,chain:Lr,bimap:Pt,mapLeft:Nt,ap:e.ap,alt:t.alt,fromIO:a.fromIO,fromTask:a.fromTask,throwError:a.throwError}}a.getReaderTaskValidation=ig;function og(r,e){return r(e)()}a.run=og});var hg={};jt(hg,{default:()=>mg});module.exports=zu(hg);var Lu=G(W());var cu=G(W()),su=G(kr());var nu=G(require("node:process"),1),au=G(tu(),1);async function iu(r,{humanReadableOutput:e=!0}={}){if(nu.default.platform!=="darwin")throw new Error("macOS only");let t=e?[]:["-ss"],{stdout:n}=await(0,au.default)("osascript",["-e",r,t]);return n}var ou=require("@raycast/api"),uu=r=>(ou.environment.isDevelopment&&console.debug(r),r);function bh(r){return r}var br=r=>su.tryCatch(()=>(0,cu.pipe)(r,uu,iu),bh),U=(r,e)=>br(`tell application "${r}" to ${e}`),Jr=r=>Object.entries(r).reduce((e,[t,n],i)=>{let s=`"${i>0?"$BREAK":""}${t}=" & ${n}`;return e?`${e} & ${s}`:s},""),fu=()=>r=>Object.fromEntries(r.split("$BREAK").map(e=>e.split("=")));var Ky=br(`
	set output to ""
	set albumList to {}
	tell application "Music"
		set results to (every track of playlist 1)
		repeat with aTrack in results
			set albumName to the album of aTrack
			set trackCount to count (every track of playlist 1 whose album contains albumName)
			tell album of aTrack to if albumList does not contain it then
				set end of albumList to it
				set trackId to the id of aTrack
				set artistName to the artist of aTrack
				set output to output & ${Jr({id:"trackId",name:"albumName",artist:"artistName",count:"trackCount"})} & "
"
			end if
		end repeat
	end tell
	return output
`);var qt={};jt(qt,{addToLibrary:()=>Jh,addToPlaylist:()=>Yh,dislike:()=>Hh,getCurrentTrack:()=>Zh,getCurrentTrackRating:()=>Qh,love:()=>zh,reveal:()=>Vh,setCurrentTrackRating:()=>Xh});var Sr=G(W()),Wt=G(ge()),yr=G(kr());var _t=Symbol("@ts-pattern/matcher"),mu="@ts-pattern/anonymous-select-key",hu=function(r){return Boolean(r&&typeof r=="object")},ea=function(r){return r&&!!r[_t]},$h=function r(e,t,n){if(hu(e)){if(ea(e)){var i=e[_t]().match(t),s=i.matched,d=i.selections;return s&&d&&Object.keys(d).forEach(function(v){return n(v,d[v])}),s}if(!hu(t))return!1;if(Array.isArray(e))return!!Array.isArray(t)&&e.length===t.length&&e.every(function(v,h){return r(v,t[h],n)});if(e instanceof Map)return t instanceof Map&&Array.from(e.keys()).every(function(v){return r(e.get(v),t.get(v),n)});if(e instanceof Set){if(!(t instanceof Set))return!1;if(e.size===0)return t.size===0;if(e.size===1){var m=Array.from(e.values())[0];return ea(m)?Array.from(t.values()).every(function(v){return r(m,v,n)}):t.has(m)}return Array.from(e.values()).every(function(v){return t.has(v)})}return Object.keys(e).every(function(v){var h,I=e[v];return(v in t||ea(h=I)&&h[_t]().matcherType==="optional")&&r(I,t[v],n)})}return Object.is(t,e)};function Xr(r){var e;return(e={})[_t]=function(){return{match:function(t){return{matched:Boolean(r(t))}}}},e}var Uy=Xr(function(r){return!0});var My=Xr(function(r){return typeof r=="string"}),ky=Xr(function(r){return typeof r=="number"}),xy=Xr(function(r){return typeof r=="boolean"}),Py=Xr(function(r){return typeof r=="bigint"}),Ny=Xr(function(r){return typeof r=="symbol"}),Cy=Xr(function(r){return r==null});function vu(r){return new Gh(r,[])}var Gh=function(){function r(t,n){this.value=void 0,this.cases=void 0,this.value=t,this.cases=n}var e=r.prototype;return e.with=function(){var t=[].slice.call(arguments),n=t[t.length-1],i=[t[0]],s=[];return t.length===3&&typeof t[1]=="function"?(i.push(t[0]),s.push(t[1])):t.length>2&&i.push.apply(i,t.slice(1,t.length-1)),new r(this.value,this.cases.concat([{match:function(d){var m={},v=Boolean(i.some(function(h){return $h(h,d,function(I,A){m[I]=A})})&&s.every(function(h){return h(d)}));return{matched:v,value:v&&Object.keys(m).length?mu in m?m[mu]:m:d}},handler:n}]))},e.when=function(t,n){return new r(this.value,this.cases.concat([{match:function(i){return{matched:Boolean(t(i)),value:i}},handler:n}]))},e.otherwise=function(t){return new r(this.value,this.cases.concat([{match:function(n){return{matched:!0,value:n}},handler:t}])).run()},e.exhaustive=function(){return this.run()},e.run=function(){for(var t=this.value,n=void 0,i=0;i<this.cases.length;i++){var s=this.cases[i],d=s.match(this.value);if(d.matched){t=d.value,n=s.handler;break}}if(!n){var m;try{m=JSON.stringify(this.value)}catch{m=this.value}throw new Error("Pattern matching error: no pattern matches value "+m)}return n(t,this.value)},r}();var ta=G(W()),Tt=G(ge()),Ft=G(kr());var Dy=U("Music","activate"),By=(0,ta.pipe)(Tt.ask(),Tt.map(r=>U("Music",`set shuffle enabled to ${r.toString()}`))),na=(0,ta.pipe)(U("Music","get name of source 1"),Ft.orElse(r=>(console.error(r),Ft.right("Library"))));var Vh=U("Music","reveal current track"),zh=U("Music","set loved of current track to true"),Hh=U("Music","set disliked of current track to true"),Jh=(0,Sr.pipe)(U("Music","duplicate current track to source 1"),yr.orElse(r=>(console.error(r),(0,Sr.pipe)(na,yr.chain(e=>U("Music",`duplicate current track to library playlist "${e}"`)))))),Xh=(0,Sr.pipe)(Wt.ask(),Wt.map(r=>U("Music",`set rating of current track to ${r*20}`))),Qh=(0,Sr.pipe)(U("Music","get rating of current track"),yr.map(r=>parseInt(r)),yr.map(r=>Math.round(r/20))),gu=(r,e="source 1")=>vu(e).with("source 1",()=>`
tell application "Music"
	set theName to name of current track
	set theArtist to artist of current track
	set theAlbum to album of the current track
	set existingTracks to get tracks of source 1 whose name is theName and artist is theArtist and album is theAlbum
	
	if (count of existingTracks) = 0 then
		set theCount to count of tracks of source 1
		duplicate current track to source 1
		
		repeat while theCount = (count of tracks of source 1)
			delay 1
		end repeat
	end if
	
	set theTrack to first track of source 1 whose name is theName and artist is theArtist and album is theAlbum
	duplicate theTrack to playlist "${r}"
end tell
`).otherwise(()=>`
tell application "Music"
	set theName to name of current track
	set theArtist to artist of current track
	set theAlbum to album of the current track
	set existingTracks to get tracks of source "${e}" whose name is theName and artist is theArtist and album is theAlbum
	
	if (count of existingTracks) = 0 then
		set theCount to count of tracks of "${e}"
		duplicate current track to library playlist "${e}"
		
		repeat while theCount = (count of tracks of "${e}")
			delay 1
		end repeat
	end if
	
	set theTrack to first track of library playlist "${e}" whose name is theName and artist is theArtist and album is theAlbum
	duplicate theTrack to playlist "${r}"
end tell
`),Yh=r=>(0,Sr.pipe)(na,yr.chain(e=>(0,Sr.pipe)(gu(r,e),br,yr.orElse(t=>(console.error(t),(0,Sr.pipe)(gu(r,"source 1"),br)))))),Zh=()=>{let r=Jr({id:"trackId",name:"trackName",artist:"trackArtist",album:"trackAlbum",duration:"trackDuration",rating:"trackRating"});return(0,Sr.pipe)(br(`
      set output to ""
        tell application "Music"
          set t to (get current track)
          set trackId to id of t
          set trackName to name of t
          set trackArtist to artist of t
          set trackAlbum to album of t
          set trackDuration to duration of t
          set trackRating to rating of t

          set output to ${r}
        end tell
      return output
    `),yr.map(fu()))};var Zr=G(W()),_r=G(Uu()),Ee=G(kr());var pr=require("@raycast/api"),Mu=require("@raycast/api"),ku=G(W());var Ir={};jt(Ir,{tap:()=>ha,tapLeft:()=>Lt});var Ct=G(kr());be(Ir,G(kr()));var ha=r=>e=>Ct.map(t=>(r?.(t),t))(e),Lt=r=>e=>Ct.mapLeft(t=>(r?.(t),t))(e);var ug=()=>Mu.environment.commandMode=="menu-bar",cg={is:r=>"shortMessage"in r};function sg(r){let e=cg.is(r)?r.shortMessage:r.message;if(ug()){(0,pr.showHUD)(`Error: ${e}`);return}(0,pr.showToast)({title:"Error",message:e,style:pr.Toast.Style.Failure,primaryAction:{title:"Copy stack trace",onAction:()=>pr.Clipboard.copy(r.stack??r.message),shortcut:{key:"enter",modifiers:["shift"]}},secondaryAction:{title:"Report Issue",onAction:async()=>{await(0,pr.open)(`https://github.com/raycast/extensions/issues/new?template=extension_bug_report.yml&extension-url=https%3A%2F%2Fraycast.com%2Ffedevitaledev%2Fmusic&description=${encodeURIComponent(r.message)}&title=${encodeURIComponent("[Music]: ")}`),await(0,pr.showHUD)("Thanks for reporting this bug!")},shortcut:{key:"enter",modifiers:["cmd"]}}})}function xu(r,e){let t=typeof e=="string"?()=>(0,pr.showHUD)(e):e,n=typeof r=="string"?()=>{}:r;return i=>(0,ku.pipe)(i,ha(t),Lt(n),Lt(console.error),Ir.mapLeft(sg))}var Pu=(r,e)=>t=>Math.max(Math.min(t,e),r);var n0=U("Music","pause"),a0=U("Music","play"),i0=U("Music","stop"),o0=U("Music","next track"),u0=U("Music","previous track"),c0=U("Music","playpause"),s0=(0,Zr.pipe)(_r.ask(),_r.map(Pu(0,100)),_r.chainTaskEitherKW(r=>U("Music",`set sound volume to ${r}`))),f0=(0,Zr.pipe)(U("Music","get sound volume"),Ee.map(parseInt)),Nu=(0,Zr.pipe)(U("Music","get shuffle enabled"),Ee.map(r=>r==="true")),Cu=(0,Zr.pipe)(_r.ask(),_r.chainTaskEitherK(r=>U("Music",`set shuffle enabled to ${r.toString()}`))),l0={get:Nu,set:Cu,toggle:(0,Zr.pipe)(Nu,Ee.chain(r=>Cu(!r)))};var p0=(0,Zr.pipe)(U("Music","player state"),Ee.map(r=>r));var v0=Jr({id:"pId",name:"pName",duration:"pDuration",count:"pCount",time:"pTime",kind:"pKind"});var mg=async()=>{await(0,Lu.pipe)(qt.dislike,xu("\u{10005F}"+" Could not dislike the track","\u{100282}"+" Disliked"))()};0&&(module.exports={});
