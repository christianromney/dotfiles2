"use strict";var Bu=Object.create;var ze=Object.defineProperty;var $u=Object.getOwnPropertyDescriptor;var Gu=Object.getOwnPropertyNames;var Vu=Object.getPrototypeOf,zu=Object.prototype.hasOwnProperty;var R=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),jt=(r,e)=>{for(var t in e)ze(r,t,{get:e[t],enumerable:!0})},Ve=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Gu(e))!zu.call(r,i)&&i!==t&&ze(r,i,{get:()=>e[i],enumerable:!(n=$u(e,i))||n.enumerable});return r},be=(r,e,t)=>(Ve(r,e,"default"),t&&Ve(t,e,"default")),D=(r,e,t)=>(t=r!=null?Bu(Vu(r)):{},Ve(e||!r||!r.__esModule?ze(t,"default",{value:r,enumerable:!0}):t,r)),Hu=r=>Ve(ze({},"__esModule",{value:!0}),r);var W=R(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.getEndomorphismMonoid=E.not=E.SK=E.hole=E.pipe=E.untupled=E.tupled=E.absurd=E.decrement=E.increment=E.tuple=E.flow=E.flip=E.constVoid=E.constUndefined=E.constNull=E.constFalse=E.constTrue=E.constant=E.unsafeCoerce=E.identity=E.apply=E.getRing=E.getSemiring=E.getMonoid=E.getSemigroup=E.getBooleanAlgebra=void 0;var Ju=function(r){return function(){return{meet:function(e,t){return function(n){return r.meet(e(n),t(n))}},join:function(e,t){return function(n){return r.join(e(n),t(n))}},zero:function(){return r.zero},one:function(){return r.one},implies:function(e,t){return function(n){return r.implies(e(n),t(n))}},not:function(e){return function(t){return r.not(e(t))}}}}};E.getBooleanAlgebra=Ju;var Xu=function(r){return function(){return{concat:function(e,t){return function(n){return r.concat(e(n),t(n))}}}}};E.getSemigroup=Xu;var Qu=function(r){var e=(0,E.getSemigroup)(r);return function(){return{concat:e().concat,empty:function(){return r.empty}}}};E.getMonoid=Qu;var Yu=function(r){return{add:function(e,t){return function(n){return r.add(e(n),t(n))}},zero:function(){return r.zero},mul:function(e,t){return function(n){return r.mul(e(n),t(n))}},one:function(){return r.one}}};E.getSemiring=Yu;var Zu=function(r){var e=(0,E.getSemiring)(r);return{add:e.add,mul:e.mul,one:e.one,zero:e.zero,sub:function(t,n){return function(i){return r.sub(t(i),n(i))}}}};E.getRing=Zu;var rc=function(r){return function(e){return e(r)}};E.apply=rc;function Dt(r){return r}E.identity=Dt;E.unsafeCoerce=Dt;function Oe(r){return function(){return r}}E.constant=Oe;E.constTrue=Oe(!0);E.constFalse=Oe(!1);E.constNull=Oe(null);E.constUndefined=Oe(void 0);E.constVoid=E.constUndefined;function ec(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length>1?r(e[1],e[0]):function(n){return r(n)(e[0])}}}E.flip=ec;function Ea(r,e,t,n,i,s,d,m,v){switch(arguments.length){case 1:return r;case 2:return function(){return e(r.apply(this,arguments))};case 3:return function(){return t(e(r.apply(this,arguments)))};case 4:return function(){return n(t(e(r.apply(this,arguments))))};case 5:return function(){return i(n(t(e(r.apply(this,arguments)))))};case 6:return function(){return s(i(n(t(e(r.apply(this,arguments))))))};case 7:return function(){return d(s(i(n(t(e(r.apply(this,arguments)))))))};case 8:return function(){return m(d(s(i(n(t(e(r.apply(this,arguments))))))))};case 9:return function(){return v(m(d(s(i(n(t(e(r.apply(this,arguments)))))))))}}}E.flow=Ea;function tc(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r}E.tuple=tc;function nc(r){return r+1}E.increment=nc;function ac(r){return r-1}E.decrement=ac;function ba(r){throw new Error("Called `absurd` function which should be uncallable")}E.absurd=ba;function ic(r){return function(e){return r.apply(void 0,e)}}E.tupled=ic;function oc(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(e)}}E.untupled=oc;function uc(r,e,t,n,i,s,d,m,v){switch(arguments.length){case 1:return r;case 2:return e(r);case 3:return t(e(r));case 4:return n(t(e(r)));case 5:return i(n(t(e(r))));case 6:return s(i(n(t(e(r)))));case 7:return d(s(i(n(t(e(r))))));case 8:return m(d(s(i(n(t(e(r)))))));case 9:return v(m(d(s(i(n(t(e(r))))))));default:{for(var h=arguments[0],I=1;I<arguments.length;I++)h=arguments[I](h);return h}}}E.pipe=uc;E.hole=ba;var cc=function(r,e){return e};E.SK=cc;function sc(r){return function(e){return!r(e)}}E.not=sc;var fc=function(){return{concat:function(r,e){return Ea(r,e)},empty:Dt}};E.getEndomorphismMonoid=fc});var or=R(_=>{"use strict";var lc=_&&_.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(_,"__esModule",{value:!0});_.fromReadonlyNonEmptyArray=_.has=_.emptyRecord=_.emptyReadonlyArray=_.tail=_.head=_.isNonEmpty=_.singleton=_.right=_.left=_.isRight=_.isLeft=_.some=_.none=_.isSome=_.isNone=void 0;var pc=function(r){return r._tag==="None"};_.isNone=pc;var dc=function(r){return r._tag==="Some"};_.isSome=dc;_.none={_tag:"None"};var mc=function(r){return{_tag:"Some",value:r}};_.some=mc;var hc=function(r){return r._tag==="Left"};_.isLeft=hc;var vc=function(r){return r._tag==="Right"};_.isRight=vc;var gc=function(r){return{_tag:"Left",left:r}};_.left=gc;var yc=function(r){return{_tag:"Right",right:r}};_.right=yc;var Ic=function(r){return[r]};_.singleton=Ic;var Rc=function(r){return r.length>0};_.isNonEmpty=Rc;var Ec=function(r){return r[0]};_.head=Ec;var bc=function(r){return r.slice(1)};_.tail=bc;_.emptyReadonlyArray=[];_.emptyRecord={};_.has=Object.prototype.hasOwnProperty;var Oc=function(r){return lc([r[0]],r.slice(1),!0)};_.fromReadonlyNonEmptyArray=Oc});var vr=R(P=>{"use strict";var Sc=P&&P.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ac=P&&P.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Tc=P&&P.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Sc(e,r,t);return Ac(e,r),e};Object.defineProperty(P,"__esModule",{value:!0});P.sequenceS=P.sequenceT=P.getApplySemigroup=P.apS=P.apSecond=P.apFirst=P.ap=void 0;var _c=W(),Fc=Tc(or());function Wc(r,e){return function(t){return function(n){return r.ap(r.map(n,function(i){return function(s){return e.ap(i,s)}}),t)}}}P.ap=Wc;function qc(r){return function(e){return function(t){return r.ap(r.map(t,function(n){return function(){return n}}),e)}}}P.apFirst=qc;function Kc(r){return function(e){return function(t){return r.ap(r.map(t,function(){return function(n){return n}}),e)}}}P.apSecond=Kc;function wc(r){return function(e,t){return function(n){return r.ap(r.map(n,function(i){return function(s){var d;return Object.assign({},i,(d={},d[e]=s,d))}}),t)}}}P.apS=wc;function Uc(r){return function(e){return{concat:function(t,n){return r.ap(r.map(t,function(i){return function(s){return e.concat(i,s)}}),n)}}}}P.getApplySemigroup=Uc;function $t(r,e,t){return function(n){for(var i=Array(t.length+1),s=0;s<t.length;s++)i[s]=t[s];return i[t.length]=n,e===0?r.apply(null,i):$t(r,e-1,i)}}var Bt={1:function(r){return[r]},2:function(r){return function(e){return[r,e]}},3:function(r){return function(e){return function(t){return[r,e,t]}}},4:function(r){return function(e){return function(t){return function(n){return[r,e,t,n]}}}},5:function(r){return function(e){return function(t){return function(n){return function(i){return[r,e,t,n,i]}}}}}};function Mc(r){return Fc.has.call(Bt,r)||(Bt[r]=$t(_c.tuple,r-1,[])),Bt[r]}function kc(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e.length,i=Mc(n),s=r.map(e[0],i),d=1;d<n;d++)s=r.ap(s,e[d]);return s}}P.sequenceT=kc;function xc(r){var e=r.length;switch(e){case 1:return function(t){var n;return n={},n[r[0]]=t,n};case 2:return function(t){return function(n){var i;return i={},i[r[0]]=t,i[r[1]]=n,i}};case 3:return function(t){return function(n){return function(i){var s;return s={},s[r[0]]=t,s[r[1]]=n,s[r[2]]=i,s}}};case 4:return function(t){return function(n){return function(i){return function(s){var d;return d={},d[r[0]]=t,d[r[1]]=n,d[r[2]]=i,d[r[3]]=s,d}}}};case 5:return function(t){return function(n){return function(i){return function(s){return function(d){var m;return m={},m[r[0]]=t,m[r[1]]=n,m[r[2]]=i,m[r[3]]=s,m[r[4]]=d,m}}}}};default:return $t(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i={},s=0;s<e;s++)i[r[s]]=t[s];return i},e-1,[])}}function Pc(r){return function(e){for(var t=Object.keys(e),n=t.length,i=xc(t),s=r.map(e[t[0]],i),d=1;d<n;d++)s=r.ap(s,e[t[d]]);return s}}P.sequenceS=Pc});var Z=R(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.getFunctorComposition=ur.let=ur.bindTo=ur.flap=ur.map=void 0;var Nc=W();function Oa(r,e){return function(t){return function(n){return r.map(n,function(i){return e.map(i,t)})}}}ur.map=Oa;function Cc(r){return function(e){return function(t){return r.map(t,function(n){return n(e)})}}}ur.flap=Cc;function Lc(r){return function(e){return function(t){return r.map(t,function(n){var i;return i={},i[e]=n,i})}}}ur.bindTo=Lc;function jc(r){return function(e,t){return function(n){return r.map(n,function(i){var s;return Object.assign({},i,(s={},s[e]=t(i),s))})}}}ur.let=jc;function Dc(r,e){var t=Oa(r,e);return{map:function(n,i){return(0,Nc.pipe)(n,t(i))}}}ur.getFunctorComposition=Dc});var Fr=R(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.getApplicativeComposition=ee.getApplicativeMonoid=void 0;var Sa=vr(),Bc=W(),$c=Z();function Gc(r){var e=(0,Sa.getApplySemigroup)(r);return function(t){return{concat:e(t).concat,empty:r.of(t.empty)}}}ee.getApplicativeMonoid=Gc;function Vc(r,e){var t=(0,$c.getFunctorComposition)(r,e).map,n=(0,Sa.ap)(r,e);return{map:t,of:function(i){return r.of(e.of(i))},ap:function(i,s){return(0,Bc.pipe)(i,n(s))}}}ee.getApplicativeComposition=Vc});var cr=R(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.bind=te.chainFirst=void 0;function zc(r){return function(e){return function(t){return r.chain(t,function(n){return r.map(e(n),function(){return n})})}}}te.chainFirst=zc;function Hc(r){return function(e,t){return function(n){return r.chain(n,function(i){return r.map(t(i),function(s){var d;return Object.assign({},i,(d={},d[e]=s,d))})})}}}te.bind=Hc});var Se=R(M=>{"use strict";var Jc=M&&M.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Xc=M&&M.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Qc=M&&M.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Jc(e,r,t);return Xc(e,r),e};Object.defineProperty(M,"__esModule",{value:!0});M.filterOrElse=M.chainFirstEitherK=M.chainEitherK=M.fromEitherK=M.chainOptionK=M.fromOptionK=M.fromPredicate=M.fromOption=void 0;var Yc=cr(),Gt=W(),jr=Qc(or());function Aa(r){return function(e){return function(t){return r.fromEither(jr.isNone(t)?jr.left(e()):jr.right(t.value))}}}M.fromOption=Aa;function Zc(r){return function(e,t){return function(n){return r.fromEither(e(n)?jr.right(n):jr.left(t(n)))}}}M.fromPredicate=Zc;function Ta(r){var e=Aa(r);return function(t){var n=e(t);return function(i){return(0,Gt.flow)(i,n)}}}M.fromOptionK=Ta;function rs(r,e){var t=Ta(r);return function(n){var i=t(n);return function(s){return function(d){return e.chain(d,i(s))}}}}M.chainOptionK=rs;function Vt(r){return function(e){return(0,Gt.flow)(e,r.fromEither)}}M.fromEitherK=Vt;function es(r,e){var t=Vt(r);return function(n){return function(i){return e.chain(i,t(n))}}}M.chainEitherK=es;function ts(r,e){return(0,Gt.flow)(Vt(r),(0,Yc.chainFirst)(e))}M.chainFirstEitherK=ts;function ns(r,e){return function(t,n){return function(i){return e.chain(i,function(s){return r.fromEither(t(s)?jr.right(s):jr.left(n(s)))})}}}M.filterOrElse=ns});var zt=R(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.and=K.or=K.not=K.Contravariant=K.getMonoidAll=K.getSemigroupAll=K.getMonoidAny=K.getSemigroupAny=K.URI=K.contramap=void 0;var ne=W(),as=function(r,e){return(0,ne.pipe)(r,(0,K.contramap)(e))},is=function(r){return function(e){return(0,ne.flow)(r,e)}};K.contramap=is;K.URI="Predicate";var os=function(){return{concat:function(r,e){return(0,ne.pipe)(r,(0,K.or)(e))}}};K.getSemigroupAny=os;var us=function(){return{concat:(0,K.getSemigroupAny)().concat,empty:ne.constFalse}};K.getMonoidAny=us;var cs=function(){return{concat:function(r,e){return(0,ne.pipe)(r,(0,K.and)(e))}}};K.getSemigroupAll=cs;var ss=function(){return{concat:(0,K.getSemigroupAll)().concat,empty:ne.constTrue}};K.getMonoidAll=ss;K.Contravariant={URI:K.URI,contramap:as};var fs=function(r){return function(e){return!r(e)}};K.not=fs;var ls=function(r){return function(e){return function(t){return e(t)||r(t)}}};K.or=ls;var ps=function(r){return function(e){return function(t){return e(t)&&r(t)}}};K.and=ps});var _a=R(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.concatAll=sr.endo=sr.filterSecond=sr.filterFirst=sr.reverse=void 0;var ds=function(r){return{concat:function(e,t){return r.concat(t,e)}}};sr.reverse=ds;var ms=function(r){return function(e){return{concat:function(t,n){return r(t)?e.concat(t,n):n}}}};sr.filterFirst=ms;var hs=function(r){return function(e){return{concat:function(t,n){return r(n)?e.concat(t,n):t}}}};sr.filterSecond=hs;var vs=function(r){return function(e){return{concat:function(t,n){return e.concat(r(t),r(n))}}}};sr.endo=vs;var gs=function(r){return function(e){return function(t){return t.reduce(function(n,i){return r.concat(n,i)},e)}}};sr.concatAll=gs});var Fa=R(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.eqDate=O.eqNumber=O.eqString=O.eqBoolean=O.eq=O.strictEqual=O.getStructEq=O.getTupleEq=O.Contravariant=O.getMonoid=O.getSemigroup=O.eqStrict=O.URI=O.contramap=O.tuple=O.struct=O.fromEquals=void 0;var ys=W(),Is=function(r){return{equals:function(e,t){return e===t||r(e,t)}}};O.fromEquals=Is;var Rs=function(r){return(0,O.fromEquals)(function(e,t){for(var n in r)if(!r[n].equals(e[n],t[n]))return!1;return!0})};O.struct=Rs;var Es=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return(0,O.fromEquals)(function(t,n){return r.every(function(i,s){return i.equals(t[s],n[s])})})};O.tuple=Es;var bs=function(r,e){return(0,ys.pipe)(r,(0,O.contramap)(e))},Os=function(r){return function(e){return(0,O.fromEquals)(function(t,n){return e.equals(r(t),r(n))})}};O.contramap=Os;O.URI="Eq";O.eqStrict={equals:function(r,e){return r===e}};var Ss={equals:function(){return!0}},As=function(){return{concat:function(r,e){return(0,O.fromEquals)(function(t,n){return r.equals(t,n)&&e.equals(t,n)})}}};O.getSemigroup=As;var Ts=function(){return{concat:(0,O.getSemigroup)().concat,empty:Ss}};O.getMonoid=Ts;O.Contravariant={URI:O.URI,contramap:bs};O.getTupleEq=O.tuple;O.getStructEq=O.struct;O.strictEqual=O.eqStrict.equals;O.eq=O.Contravariant;O.eqBoolean=O.eqStrict;O.eqString=O.eqStrict;O.eqNumber=O.eqStrict;O.eqDate={equals:function(r,e){return r.valueOf()===e.valueOf()}}});var Wa=R(g=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});g.ordDate=g.ordNumber=g.ordString=g.ordBoolean=g.ord=g.getDualOrd=g.getTupleOrd=g.between=g.clamp=g.max=g.min=g.geq=g.leq=g.gt=g.lt=g.equals=g.trivial=g.Contravariant=g.getMonoid=g.getSemigroup=g.URI=g.contramap=g.reverse=g.tuple=g.fromCompare=g.equalsDefault=void 0;var _s=Fa(),He=W(),Fs=function(r){return function(e,t){return e===t||r(e,t)===0}};g.equalsDefault=Fs;var Ws=function(r){return{equals:(0,g.equalsDefault)(r),compare:function(e,t){return e===t?0:r(e,t)}}};g.fromCompare=Ws;var qs=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return(0,g.fromCompare)(function(t,n){for(var i=0;i<r.length-1;i++){var s=r[i].compare(t[i],n[i]);if(s!==0)return s}return r[i].compare(t[i],n[i])})};g.tuple=qs;var Ks=function(r){return(0,g.fromCompare)(function(e,t){return r.compare(t,e)})};g.reverse=Ks;var ws=function(r,e){return(0,He.pipe)(r,(0,g.contramap)(e))},Us=function(r){return function(e){return(0,g.fromCompare)(function(t,n){return e.compare(r(t),r(n))})}};g.contramap=Us;g.URI="Ord";var Ms=function(){return{concat:function(r,e){return(0,g.fromCompare)(function(t,n){var i=r.compare(t,n);return i!==0?i:e.compare(t,n)})}}};g.getSemigroup=Ms;var ks=function(){return{concat:(0,g.getSemigroup)().concat,empty:(0,g.fromCompare)(function(){return 0})}};g.getMonoid=ks;g.Contravariant={URI:g.URI,contramap:ws};g.trivial={equals:He.constTrue,compare:(0,He.constant)(0)};var xs=function(r){return function(e){return function(t){return t===e||r.compare(t,e)===0}}};g.equals=xs;var Ps=function(r){return function(e,t){return r.compare(e,t)===-1}};g.lt=Ps;var Ns=function(r){return function(e,t){return r.compare(e,t)===1}};g.gt=Ns;var Cs=function(r){return function(e,t){return r.compare(e,t)!==1}};g.leq=Cs;var Ls=function(r){return function(e,t){return r.compare(e,t)!==-1}};g.geq=Ls;var js=function(r){return function(e,t){return e===t||r.compare(e,t)<1?e:t}};g.min=js;var Ds=function(r){return function(e,t){return e===t||r.compare(e,t)>-1?e:t}};g.max=Ds;var Bs=function(r){var e=(0,g.min)(r),t=(0,g.max)(r);return function(n,i){return function(s){return t(e(s,i),n)}}};g.clamp=Bs;var $s=function(r){var e=(0,g.lt)(r),t=(0,g.gt)(r);return function(n,i){return function(s){return!(e(s,n)||t(s,i))}}};g.between=$s;g.getTupleOrd=g.tuple;g.getDualOrd=g.reverse;g.ord=g.Contravariant;function Gs(r,e){return r<e?-1:r>e?1:0}var Ht={equals:_s.eqStrict.equals,compare:Gs};g.ordBoolean=Ht;g.ordString=Ht;g.ordNumber=Ht;g.ordDate=(0,He.pipe)(g.ordNumber,(0,g.contramap)(function(r){return r.valueOf()}))});var Ua=R(y=>{"use strict";var Vs=y&&y.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),zs=y&&y.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Jt=y&&y.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Vs(e,r,t);return zs(e,r),e};Object.defineProperty(y,"__esModule",{value:!0});y.semigroupProduct=y.semigroupSum=y.semigroupString=y.getFunctionSemigroup=y.semigroupAny=y.semigroupAll=y.fold=y.getIntercalateSemigroup=y.getMeetSemigroup=y.getJoinSemigroup=y.getDualSemigroup=y.getStructSemigroup=y.getTupleSemigroup=y.getFirstSemigroup=y.getLastSemigroup=y.getObjectSemigroup=y.semigroupVoid=y.concatAll=y.last=y.first=y.intercalate=y.tuple=y.struct=y.reverse=y.constant=y.max=y.min=void 0;var qa=W(),Hs=Jt(or()),Ka=Jt(_a()),wa=Jt(Wa()),Js=function(r){return{concat:wa.min(r)}};y.min=Js;var Xs=function(r){return{concat:wa.max(r)}};y.max=Xs;var Qs=function(r){return{concat:function(){return r}}};y.constant=Qs;y.reverse=Ka.reverse;var Ys=function(r){return{concat:function(e,t){var n={};for(var i in r)Hs.has.call(r,i)&&(n[i]=r[i].concat(e[i],t[i]));return n}}};y.struct=Ys;var Zs=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return{concat:function(t,n){return r.map(function(i,s){return i.concat(t[s],n[s])})}}};y.tuple=Zs;var rf=function(r){return function(e){return{concat:function(t,n){return e.concat(t,e.concat(r,n))}}}};y.intercalate=rf;var ef=function(){return{concat:qa.identity}};y.first=ef;var tf=function(){return{concat:function(r,e){return e}}};y.last=tf;y.concatAll=Ka.concatAll;y.semigroupVoid=(0,y.constant)(void 0);var nf=function(){return{concat:function(r,e){return Object.assign({},r,e)}}};y.getObjectSemigroup=nf;y.getLastSemigroup=y.last;y.getFirstSemigroup=y.first;y.getTupleSemigroup=y.tuple;y.getStructSemigroup=y.struct;y.getDualSemigroup=y.reverse;y.getJoinSemigroup=y.max;y.getMeetSemigroup=y.min;y.getIntercalateSemigroup=y.intercalate;function af(r){var e=(0,y.concatAll)(r);return function(t,n){return n===void 0?e(t):e(t)(n)}}y.fold=af;y.semigroupAll={concat:function(r,e){return r&&e}};y.semigroupAny={concat:function(r,e){return r||e}};y.getFunctionSemigroup=qa.getSemigroup;y.semigroupString={concat:function(r,e){return r+e}};y.semigroupSum={concat:function(r,e){return r+e}};y.semigroupProduct={concat:function(r,e){return r*e}}});var Ae=R(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.right=T.left=T.flap=T.Functor=T.Bifunctor=T.URI=T.bimap=T.mapLeft=T.map=T.separated=void 0;var Xt=W(),of=Z(),uf=function(r,e){return{left:r,right:e}};T.separated=uf;var cf=function(r,e){return(0,Xt.pipe)(r,(0,T.map)(e))},sf=function(r,e){return(0,Xt.pipe)(r,(0,T.mapLeft)(e))},ff=function(r,e,t){return(0,Xt.pipe)(r,(0,T.bimap)(e,t))},lf=function(r){return function(e){return(0,T.separated)((0,T.left)(e),r((0,T.right)(e)))}};T.map=lf;var pf=function(r){return function(e){return(0,T.separated)(r((0,T.left)(e)),(0,T.right)(e))}};T.mapLeft=pf;var df=function(r,e){return function(t){return(0,T.separated)(r((0,T.left)(t)),e((0,T.right)(t)))}};T.bimap=df;T.URI="Separated";T.Bifunctor={URI:T.URI,mapLeft:sf,bimap:ff};T.Functor={URI:T.URI,map:cf};T.flap=(0,of.flap)(T.Functor);var mf=function(r){return r.left};T.left=mf;var hf=function(r){return r.right};T.right=hf});var Qt=R(X=>{"use strict";var vf=X&&X.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),gf=X&&X.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),yf=X&&X.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&vf(e,r,t);return gf(e,r),e};Object.defineProperty(X,"__esModule",{value:!0});X.filterE=X.witherDefault=X.wiltDefault=void 0;var Ma=yf(or());function If(r,e){return function(t){var n=r.traverse(t);return function(i,s){return t.map(n(i,s),e.separate)}}}X.wiltDefault=If;function Rf(r,e){return function(t){var n=r.traverse(t);return function(i,s){return t.map(n(i,s),e.compact)}}}X.witherDefault=Rf;function Ef(r){return function(e){var t=r.wither(e);return function(n){return function(i){return t(i,function(s){return e.map(n(s),function(d){return d?Ma.some(s):Ma.none})})}}}}X.filterE=Ef});var ka=R(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.guard=void 0;function bf(r,e){return function(t){return t?e.of(void 0):r.zero()}}Je.guard=bf});var sn=R(c=>{"use strict";var Of=c&&c.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Sf=c&&c.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Af=c&&c.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Of(e,r,t);return Sf(e,r),e};Object.defineProperty(c,"__esModule",{value:!0});c.fromEither=c.MonadThrow=c.throwError=c.Witherable=c.wilt=c.wither=c.Traversable=c.sequence=c.traverse=c.Filterable=c.partitionMap=c.partition=c.filterMap=c.filter=c.Compactable=c.separate=c.compact=c.Extend=c.extend=c.Alternative=c.guard=c.Zero=c.zero=c.Alt=c.alt=c.altW=c.Foldable=c.reduceRight=c.foldMap=c.reduce=c.Monad=c.Chain=c.chain=c.Applicative=c.Apply=c.ap=c.Pointed=c.of=c.Functor=c.map=c.getMonoid=c.getOrd=c.getEq=c.getShow=c.URI=c.getRight=c.getLeft=c.fromPredicate=c.some=c.none=void 0;c.getLastMonoid=c.getFirstMonoid=c.getApplyMonoid=c.getApplySemigroup=c.option=c.mapNullable=c.getRefinement=c.sequenceArray=c.traverseArray=c.traverseArrayWithIndex=c.traverseReadonlyArrayWithIndex=c.traverseReadonlyNonEmptyArrayWithIndex=c.ApT=c.apS=c.bind=c.let=c.bindTo=c.Do=c.exists=c.elem=c.toUndefined=c.toNullable=c.chainNullableK=c.fromNullableK=c.tryCatchK=c.tryCatch=c.fromNullable=c.chainFirstEitherK=c.chainEitherK=c.fromEitherK=c.duplicate=c.chainFirst=c.flatten=c.apSecond=c.apFirst=c.flap=c.getOrElse=c.getOrElseW=c.fold=c.match=c.foldW=c.matchW=c.isNone=c.isSome=c.FromEither=void 0;var Tf=Fr(),Xe=vr(),xa=cr(),Yt=Se(),N=W(),Zt=Z(),Dr=Af(or()),_f=zt(),Pa=Ua(),rn=Ae(),Na=Qt(),Ff=ka();c.none=Dr.none;c.some=Dr.some;function Wf(r){return function(e){return r(e)?(0,c.some)(e):c.none}}c.fromPredicate=Wf;var qf=function(r){return r._tag==="Right"?c.none:(0,c.some)(r.left)};c.getLeft=qf;var Kf=function(r){return r._tag==="Left"?c.none:(0,c.some)(r.right)};c.getRight=Kf;var rr=function(r,e){return(0,N.pipe)(r,(0,c.map)(e))},Br=function(r,e){return(0,N.pipe)(r,(0,c.ap)(e))},Qe=function(r,e){return(0,N.pipe)(r,(0,c.chain)(e))},Ye=function(r,e,t){return(0,N.pipe)(r,(0,c.reduce)(e,t))},Ze=function(r){var e=(0,c.foldMap)(r);return function(t,n){return(0,N.pipe)(t,e(n))}},rt=function(r,e,t){return(0,N.pipe)(r,(0,c.reduceRight)(e,t))},en=function(r){var e=(0,c.traverse)(r);return function(t,n){return(0,N.pipe)(t,e(n))}},tn=function(r,e){return(0,N.pipe)(r,(0,c.alt)(e))},Te=function(r,e){return(0,N.pipe)(r,(0,c.filter)(e))},nn=function(r,e){return(0,N.pipe)(r,(0,c.filterMap)(e))},Ca=function(r,e){return(0,N.pipe)(r,(0,c.extend)(e))},an=function(r,e){return(0,N.pipe)(r,(0,c.partition)(e))},on=function(r,e){return(0,N.pipe)(r,(0,c.partitionMap)(e))};c.URI="Option";var wf=function(r){return{show:function(e){return(0,c.isNone)(e)?"none":"some(".concat(r.show(e.value),")")}}};c.getShow=wf;var Uf=function(r){return{equals:function(e,t){return e===t||((0,c.isNone)(e)?(0,c.isNone)(t):(0,c.isNone)(t)?!1:r.equals(e.value,t.value))}}};c.getEq=Uf;var Mf=function(r){return{equals:(0,c.getEq)(r).equals,compare:function(e,t){return e===t?0:(0,c.isSome)(e)?(0,c.isSome)(t)?r.compare(e.value,t.value):1:-1}}};c.getOrd=Mf;var kf=function(r){return{concat:function(e,t){return(0,c.isNone)(e)?t:(0,c.isNone)(t)?e:(0,c.some)(r.concat(e.value,t.value))},empty:c.none}};c.getMonoid=kf;var xf=function(r){return function(e){return(0,c.isNone)(e)?c.none:(0,c.some)(r(e.value))}};c.map=xf;c.Functor={URI:c.URI,map:rr};c.of=c.some;c.Pointed={URI:c.URI,of:c.of};var Pf=function(r){return function(e){return(0,c.isNone)(e)||(0,c.isNone)(r)?c.none:(0,c.some)(e.value(r.value))}};c.ap=Pf;c.Apply={URI:c.URI,map:rr,ap:Br};c.Applicative={URI:c.URI,map:rr,ap:Br,of:c.of};var Nf=function(r){return function(e){return(0,c.isNone)(e)?c.none:r(e.value)}};c.chain=Nf;c.Chain={URI:c.URI,map:rr,ap:Br,chain:Qe};c.Monad={URI:c.URI,map:rr,ap:Br,of:c.of,chain:Qe};var Cf=function(r,e){return function(t){return(0,c.isNone)(t)?r:e(r,t.value)}};c.reduce=Cf;var Lf=function(r){return function(e){return function(t){return(0,c.isNone)(t)?r.empty:e(t.value)}}};c.foldMap=Lf;var jf=function(r,e){return function(t){return(0,c.isNone)(t)?r:e(t.value,r)}};c.reduceRight=jf;c.Foldable={URI:c.URI,reduce:Ye,foldMap:Ze,reduceRight:rt};var Df=function(r){return function(e){return(0,c.isNone)(e)?r():e}};c.altW=Df;c.alt=c.altW;c.Alt={URI:c.URI,map:rr,alt:tn};var Bf=function(){return c.none};c.zero=Bf;c.Zero={URI:c.URI,zero:c.zero};c.guard=(0,Ff.guard)(c.Zero,c.Pointed);c.Alternative={URI:c.URI,map:rr,ap:Br,of:c.of,alt:tn,zero:c.zero};var $f=function(r){return function(e){return(0,c.isNone)(e)?c.none:(0,c.some)(r(e))}};c.extend=$f;c.Extend={URI:c.URI,map:rr,extend:Ca};c.compact=(0,c.chain)(N.identity);var Gf=(0,rn.separated)(c.none,c.none),Vf=function(r){return(0,c.isNone)(r)?Gf:(0,rn.separated)((0,c.getLeft)(r.value),(0,c.getRight)(r.value))};c.separate=Vf;c.Compactable={URI:c.URI,compact:c.compact,separate:c.separate};var zf=function(r){return function(e){return(0,c.isNone)(e)?c.none:r(e.value)?e:c.none}};c.filter=zf;var Hf=function(r){return function(e){return(0,c.isNone)(e)?c.none:r(e.value)}};c.filterMap=Hf;var Jf=function(r){return function(e){return(0,rn.separated)(Te(e,(0,_f.not)(r)),Te(e,r))}};c.partition=Jf;var Xf=function(r){return(0,N.flow)((0,c.map)(r),c.separate)};c.partitionMap=Xf;c.Filterable={URI:c.URI,map:rr,compact:c.compact,separate:c.separate,filter:Te,filterMap:nn,partition:an,partitionMap:on};var Qf=function(r){return function(e){return function(t){return(0,c.isNone)(t)?r.of(c.none):r.map(e(t.value),c.some)}}};c.traverse=Qf;var Yf=function(r){return function(e){return(0,c.isNone)(e)?r.of(c.none):r.map(e.value,c.some)}};c.sequence=Yf;c.Traversable={URI:c.URI,map:rr,reduce:Ye,foldMap:Ze,reduceRight:rt,traverse:en,sequence:c.sequence};var un=(0,Na.witherDefault)(c.Traversable,c.Compactable),cn=(0,Na.wiltDefault)(c.Traversable,c.Compactable),Zf=function(r){var e=un(r);return function(t){return function(n){return e(n,t)}}};c.wither=Zf;var rl=function(r){var e=cn(r);return function(t){return function(n){return e(n,t)}}};c.wilt=rl;c.Witherable={URI:c.URI,map:rr,reduce:Ye,foldMap:Ze,reduceRight:rt,traverse:en,sequence:c.sequence,compact:c.compact,separate:c.separate,filter:Te,filterMap:nn,partition:an,partitionMap:on,wither:un,wilt:cn};var el=function(){return c.none};c.throwError=el;c.MonadThrow={URI:c.URI,map:rr,ap:Br,of:c.of,chain:Qe,throwError:c.throwError};c.fromEither=c.getRight;c.FromEither={URI:c.URI,fromEither:c.fromEither};c.isSome=Dr.isSome;var tl=function(r){return r._tag==="None"};c.isNone=tl;var nl=function(r,e){return function(t){return(0,c.isNone)(t)?r():e(t.value)}};c.matchW=nl;c.foldW=c.matchW;c.match=c.matchW;c.fold=c.match;var al=function(r){return function(e){return(0,c.isNone)(e)?r():e.value}};c.getOrElseW=al;c.getOrElse=c.getOrElseW;c.flap=(0,Zt.flap)(c.Functor);c.apFirst=(0,Xe.apFirst)(c.Apply);c.apSecond=(0,Xe.apSecond)(c.Apply);c.flatten=c.compact;c.chainFirst=(0,xa.chainFirst)(c.Chain);c.duplicate=(0,c.extend)(N.identity);c.fromEitherK=(0,Yt.fromEitherK)(c.FromEither);c.chainEitherK=(0,Yt.chainEitherK)(c.FromEither,c.Chain);c.chainFirstEitherK=(0,Yt.chainFirstEitherK)(c.FromEither,c.Chain);var il=function(r){return r==null?c.none:(0,c.some)(r)};c.fromNullable=il;var ol=function(r){try{return(0,c.some)(r())}catch{return c.none}};c.tryCatch=ol;var ul=function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,c.tryCatch)(function(){return r.apply(void 0,e)})}};c.tryCatchK=ul;var cl=function(r){return(0,N.flow)(r,c.fromNullable)};c.fromNullableK=cl;var sl=function(r){return function(e){return(0,c.isNone)(e)?c.none:(0,c.fromNullable)(r(e.value))}};c.chainNullableK=sl;c.toNullable=(0,c.match)(N.constNull,N.identity);c.toUndefined=(0,c.match)(N.constUndefined,N.identity);function La(r){return function(e,t){if(t===void 0){var n=La(r);return function(i){return n(e,i)}}return(0,c.isNone)(t)?!1:r.equals(e,t.value)}}c.elem=La;var fl=function(r){return function(e){return(0,c.isNone)(e)?!1:r(e.value)}};c.exists=fl;c.Do=(0,c.of)(Dr.emptyRecord);c.bindTo=(0,Zt.bindTo)(c.Functor);var ll=(0,Zt.let)(c.Functor);c.let=ll;c.bind=(0,xa.bind)(c.Chain);c.apS=(0,Xe.apS)(c.Apply);c.ApT=(0,c.of)(Dr.emptyReadonlyArray);var pl=function(r){return function(e){var t=r(0,Dr.head(e));if((0,c.isNone)(t))return c.none;for(var n=[t.value],i=1;i<e.length;i++){var s=r(i,e[i]);if((0,c.isNone)(s))return c.none;n.push(s.value)}return(0,c.some)(n)}};c.traverseReadonlyNonEmptyArrayWithIndex=pl;var dl=function(r){var e=(0,c.traverseReadonlyNonEmptyArrayWithIndex)(r);return function(t){return Dr.isNonEmpty(t)?e(t):c.ApT}};c.traverseReadonlyArrayWithIndex=dl;c.traverseArrayWithIndex=c.traverseReadonlyArrayWithIndex;var ml=function(r){return(0,c.traverseReadonlyArrayWithIndex)(function(e,t){return r(t)})};c.traverseArray=ml;c.sequenceArray=(0,c.traverseArray)(N.identity);function hl(r){return function(e){return(0,c.isSome)(r(e))}}c.getRefinement=hl;c.mapNullable=c.chainNullableK;c.option={URI:c.URI,map:rr,of:c.of,ap:Br,chain:Qe,reduce:Ye,foldMap:Ze,reduceRight:rt,traverse:en,sequence:c.sequence,zero:c.zero,alt:tn,extend:Ca,compact:c.compact,separate:c.separate,filter:Te,filterMap:nn,partition:an,partitionMap:on,wither:un,wilt:cn,throwError:c.throwError};c.getApplySemigroup=(0,Xe.getApplySemigroup)(c.Apply);c.getApplyMonoid=(0,Tf.getApplicativeMonoid)(c.Applicative);var vl=function(){return(0,c.getMonoid)((0,Pa.first)())};c.getFirstMonoid=vl;var gl=function(){return(0,c.getMonoid)((0,Pa.last)())};c.getLastMonoid=gl});var et=R(Q=>{"use strict";var yl=Q&&Q.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Il=Q&&Q.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Rl=Q&&Q.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&yl(e,r,t);return Il(e,r),e};Object.defineProperty(Q,"__esModule",{value:!0});Q.getCompactableComposition=Q.separate=Q.compact=void 0;var ja=W(),Ba=Z(),Da=sn(),El=Rl(Ae());function fn(r,e){return function(t){return r.map(t,e.compact)}}Q.compact=fn;function $a(r,e,t){var n=fn(r,e),i=(0,Ba.map)(r,t);return function(s){return El.separated(n((0,ja.pipe)(s,i(Da.getLeft))),n((0,ja.pipe)(s,i(Da.getRight))))}}Q.separate=$a;function bl(r,e){var t=(0,Ba.getFunctorComposition)(r,e).map;return{map:t,compact:fn(r,e),separate:$a(r,e,e)}}Q.getCompactableComposition=bl});var Ga=R(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.tailRec=void 0;var Ol=function(r,e){for(var t=e(r);t._tag==="Left";)t=e(t.left);return t.right};tt.tailRec=Ol});var we=R(u=>{"use strict";var Sl=u&&u.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Al=u&&u.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Tl=u&&u.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Sl(e,r,t);return Al(e,r),e};Object.defineProperty(u,"__esModule",{value:!0});u.fold=u.match=u.foldW=u.matchW=u.isRight=u.isLeft=u.fromOption=u.fromPredicate=u.FromEither=u.MonadThrow=u.throwError=u.ChainRec=u.Extend=u.extend=u.Alt=u.alt=u.altW=u.Bifunctor=u.mapLeft=u.bimap=u.Traversable=u.sequence=u.traverse=u.Foldable=u.reduceRight=u.foldMap=u.reduce=u.Monad=u.Chain=u.chain=u.chainW=u.Applicative=u.Apply=u.ap=u.apW=u.Pointed=u.of=u.Functor=u.map=u.getAltValidation=u.getApplicativeValidation=u.getWitherable=u.getFilterable=u.getCompactable=u.getSemigroup=u.getEq=u.getShow=u.URI=u.right=u.left=void 0;u.getValidation=u.getValidationMonoid=u.getValidationSemigroup=u.getApplyMonoid=u.getApplySemigroup=u.either=u.stringifyJSON=u.parseJSON=u.sequenceArray=u.traverseArray=u.traverseArrayWithIndex=u.traverseReadonlyArrayWithIndex=u.traverseReadonlyNonEmptyArrayWithIndex=u.ApT=u.apSW=u.apS=u.bindW=u.bind=u.let=u.bindTo=u.Do=u.exists=u.elem=u.toError=u.toUnion=u.chainNullableK=u.fromNullableK=u.tryCatchK=u.tryCatch=u.fromNullable=u.orElse=u.orElseW=u.swap=u.filterOrElseW=u.filterOrElse=u.chainOptionK=u.fromOptionK=u.duplicate=u.flatten=u.flattenW=u.chainFirstW=u.chainFirst=u.apSecondW=u.apSecond=u.apFirstW=u.apFirst=u.flap=u.getOrElse=u.getOrElseW=void 0;var za=Fr(),_e=vr(),Ha=cr(),_l=Ga(),Fe=Se(),B=W(),ln=Z(),Wr=Tl(or()),Rr=Ae(),Va=Qt();u.left=Wr.left;u.right=Wr.right;var H=function(r,e){return(0,B.pipe)(r,(0,u.map)(e))},$r=function(r,e){return(0,B.pipe)(r,(0,u.ap)(e))},ae=function(r,e){return(0,B.pipe)(r,(0,u.chain)(e))},We=function(r,e,t){return(0,B.pipe)(r,(0,u.reduce)(e,t))},qe=function(r){return function(e,t){var n=(0,u.foldMap)(r);return(0,B.pipe)(e,n(t))}},Ke=function(r,e,t){return(0,B.pipe)(r,(0,u.reduceRight)(e,t))},nt=function(r){var e=(0,u.traverse)(r);return function(t,n){return(0,B.pipe)(t,e(n))}},pn=function(r,e,t){return(0,B.pipe)(r,(0,u.bimap)(e,t))},dn=function(r,e){return(0,B.pipe)(r,(0,u.mapLeft)(e))},Ja=function(r,e){return(0,B.pipe)(r,(0,u.alt)(e))},mn=function(r,e){return(0,B.pipe)(r,(0,u.extend)(e))},hn=function(r,e){return(0,_l.tailRec)(e(r),function(t){return(0,u.isLeft)(t)?(0,u.right)((0,u.left)(t.left)):(0,u.isLeft)(t.right)?(0,u.left)(e(t.right.left)):(0,u.right)((0,u.right)(t.right.right))})};u.URI="Either";var Fl=function(r,e){return{show:function(t){return(0,u.isLeft)(t)?"left(".concat(r.show(t.left),")"):"right(".concat(e.show(t.right),")")}}};u.getShow=Fl;var Wl=function(r,e){return{equals:function(t,n){return t===n||((0,u.isLeft)(t)?(0,u.isLeft)(n)&&r.equals(t.left,n.left):(0,u.isRight)(n)&&e.equals(t.right,n.right))}}};u.getEq=Wl;var ql=function(r){return{concat:function(e,t){return(0,u.isLeft)(t)?e:(0,u.isLeft)(e)?t:(0,u.right)(r.concat(e.right,t.right))}}};u.getSemigroup=ql;var Kl=function(r){var e=(0,u.left)(r.empty);return{URI:u.URI,_E:void 0,compact:function(t){return(0,u.isLeft)(t)?t:t.right._tag==="None"?e:(0,u.right)(t.right.value)},separate:function(t){return(0,u.isLeft)(t)?(0,Rr.separated)(t,t):(0,u.isLeft)(t.right)?(0,Rr.separated)((0,u.right)(t.right.left),e):(0,Rr.separated)(e,(0,u.right)(t.right.right))}}};u.getCompactable=Kl;var wl=function(r){var e=(0,u.left)(r.empty),t=(0,u.getCompactable)(r),n=t.compact,i=t.separate,s=function(m,v){return(0,u.isLeft)(m)||v(m.right)?m:e},d=function(m,v){return(0,u.isLeft)(m)?(0,Rr.separated)(m,m):v(m.right)?(0,Rr.separated)(e,(0,u.right)(m.right)):(0,Rr.separated)((0,u.right)(m.right),e)};return{URI:u.URI,_E:void 0,map:H,compact:n,separate:i,filter:s,filterMap:function(m,v){if((0,u.isLeft)(m))return m;var h=v(m.right);return h._tag==="None"?e:(0,u.right)(h.value)},partition:d,partitionMap:function(m,v){if((0,u.isLeft)(m))return(0,Rr.separated)(m,m);var h=v(m.right);return(0,u.isLeft)(h)?(0,Rr.separated)((0,u.right)(h.left),e):(0,Rr.separated)(e,(0,u.right)(h.right))}}};u.getFilterable=wl;var Ul=function(r){var e=(0,u.getFilterable)(r),t=(0,u.getCompactable)(r);return{URI:u.URI,_E:void 0,map:H,compact:e.compact,separate:e.separate,filter:e.filter,filterMap:e.filterMap,partition:e.partition,partitionMap:e.partitionMap,traverse:nt,sequence:u.sequence,reduce:We,foldMap:qe,reduceRight:Ke,wither:(0,Va.witherDefault)(u.Traversable,t),wilt:(0,Va.wiltDefault)(u.Traversable,t)}};u.getWitherable=Ul;var Ml=function(r){return{URI:u.URI,_E:void 0,map:H,ap:function(e,t){return(0,u.isLeft)(e)?(0,u.isLeft)(t)?(0,u.left)(r.concat(e.left,t.left)):e:(0,u.isLeft)(t)?t:(0,u.right)(e.right(t.right))},of:u.of}};u.getApplicativeValidation=Ml;var kl=function(r){return{URI:u.URI,_E:void 0,map:H,alt:function(e,t){if((0,u.isRight)(e))return e;var n=t();return(0,u.isLeft)(n)?(0,u.left)(r.concat(e.left,n.left)):n}}};u.getAltValidation=kl;var xl=function(r){return function(e){return(0,u.isLeft)(e)?e:(0,u.right)(r(e.right))}};u.map=xl;u.Functor={URI:u.URI,map:H};u.of=u.right;u.Pointed={URI:u.URI,of:u.of};var Pl=function(r){return function(e){return(0,u.isLeft)(e)?e:(0,u.isLeft)(r)?r:(0,u.right)(e.right(r.right))}};u.apW=Pl;u.ap=u.apW;u.Apply={URI:u.URI,map:H,ap:$r};u.Applicative={URI:u.URI,map:H,ap:$r,of:u.of};var Nl=function(r){return function(e){return(0,u.isLeft)(e)?e:r(e.right)}};u.chainW=Nl;u.chain=u.chainW;u.Chain={URI:u.URI,map:H,ap:$r,chain:ae};u.Monad={URI:u.URI,map:H,ap:$r,of:u.of,chain:ae};var Cl=function(r,e){return function(t){return(0,u.isLeft)(t)?r:e(r,t.right)}};u.reduce=Cl;var Ll=function(r){return function(e){return function(t){return(0,u.isLeft)(t)?r.empty:e(t.right)}}};u.foldMap=Ll;var jl=function(r,e){return function(t){return(0,u.isLeft)(t)?r:e(t.right,r)}};u.reduceRight=jl;u.Foldable={URI:u.URI,reduce:We,foldMap:qe,reduceRight:Ke};var Dl=function(r){return function(e){return function(t){return(0,u.isLeft)(t)?r.of((0,u.left)(t.left)):r.map(e(t.right),u.right)}}};u.traverse=Dl;var Bl=function(r){return function(e){return(0,u.isLeft)(e)?r.of((0,u.left)(e.left)):r.map(e.right,u.right)}};u.sequence=Bl;u.Traversable={URI:u.URI,map:H,reduce:We,foldMap:qe,reduceRight:Ke,traverse:nt,sequence:u.sequence};var $l=function(r,e){return function(t){return(0,u.isLeft)(t)?(0,u.left)(r(t.left)):(0,u.right)(e(t.right))}};u.bimap=$l;var Gl=function(r){return function(e){return(0,u.isLeft)(e)?(0,u.left)(r(e.left)):e}};u.mapLeft=Gl;u.Bifunctor={URI:u.URI,bimap:pn,mapLeft:dn};var Vl=function(r){return function(e){return(0,u.isLeft)(e)?r():e}};u.altW=Vl;u.alt=u.altW;u.Alt={URI:u.URI,map:H,alt:Ja};var zl=function(r){return function(e){return(0,u.isLeft)(e)?e:(0,u.right)(r(e))}};u.extend=zl;u.Extend={URI:u.URI,map:H,extend:mn};u.ChainRec={URI:u.URI,map:H,ap:$r,chain:ae,chainRec:hn};u.throwError=u.left;u.MonadThrow={URI:u.URI,map:H,ap:$r,of:u.of,chain:ae,throwError:u.throwError};u.FromEither={URI:u.URI,fromEither:B.identity};u.fromPredicate=(0,Fe.fromPredicate)(u.FromEither);u.fromOption=(0,Fe.fromOption)(u.FromEither);u.isLeft=Wr.isLeft;u.isRight=Wr.isRight;var Hl=function(r,e){return function(t){return(0,u.isLeft)(t)?r(t.left):e(t.right)}};u.matchW=Hl;u.foldW=u.matchW;u.match=u.matchW;u.fold=u.match;var Jl=function(r){return function(e){return(0,u.isLeft)(e)?r(e.left):e.right}};u.getOrElseW=Jl;u.getOrElse=u.getOrElseW;u.flap=(0,ln.flap)(u.Functor);u.apFirst=(0,_e.apFirst)(u.Apply);u.apFirstW=u.apFirst;u.apSecond=(0,_e.apSecond)(u.Apply);u.apSecondW=u.apSecond;u.chainFirst=(0,Ha.chainFirst)(u.Chain);u.chainFirstW=u.chainFirst;u.flattenW=(0,u.chainW)(B.identity);u.flatten=u.flattenW;u.duplicate=(0,u.extend)(B.identity);u.fromOptionK=(0,Fe.fromOptionK)(u.FromEither);u.chainOptionK=(0,Fe.chainOptionK)(u.FromEither,u.Chain);u.filterOrElse=(0,Fe.filterOrElse)(u.FromEither,u.Chain);u.filterOrElseW=u.filterOrElse;var Xl=function(r){return(0,u.isLeft)(r)?(0,u.right)(r.left):(0,u.left)(r.right)};u.swap=Xl;var Ql=function(r){return function(e){return(0,u.isLeft)(e)?r(e.left):e}};u.orElseW=Ql;u.orElse=u.orElseW;var Yl=function(r){return function(e){return e==null?(0,u.left)(r):(0,u.right)(e)}};u.fromNullable=Yl;var Zl=function(r,e){try{return(0,u.right)(r())}catch(t){return(0,u.left)(e(t))}};u.tryCatch=Zl;var rp=function(r,e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(0,u.tryCatch)(function(){return r.apply(void 0,t)},e)}};u.tryCatchK=rp;var ep=function(r){var e=(0,u.fromNullable)(r);return function(t){return(0,B.flow)(t,e)}};u.fromNullableK=ep;var tp=function(r){var e=(0,u.fromNullableK)(r);return function(t){return(0,u.chain)(e(t))}};u.chainNullableK=tp;u.toUnion=(0,u.foldW)(B.identity,B.identity);function np(r){return r instanceof Error?r:new Error(String(r))}u.toError=np;function Xa(r){return function(e,t){if(t===void 0){var n=Xa(r);return function(i){return n(e,i)}}return(0,u.isLeft)(t)?!1:r.equals(e,t.right)}}u.elem=Xa;var ap=function(r){return function(e){return(0,u.isLeft)(e)?!1:r(e.right)}};u.exists=ap;u.Do=(0,u.of)(Wr.emptyRecord);u.bindTo=(0,ln.bindTo)(u.Functor);var ip=(0,ln.let)(u.Functor);u.let=ip;u.bind=(0,Ha.bind)(u.Chain);u.bindW=u.bind;u.apS=(0,_e.apS)(u.Apply);u.apSW=u.apS;u.ApT=(0,u.of)(Wr.emptyReadonlyArray);var op=function(r){return function(e){var t=r(0,Wr.head(e));if((0,u.isLeft)(t))return t;for(var n=[t.right],i=1;i<e.length;i++){var s=r(i,e[i]);if((0,u.isLeft)(s))return s;n.push(s.right)}return(0,u.right)(n)}};u.traverseReadonlyNonEmptyArrayWithIndex=op;var up=function(r){var e=(0,u.traverseReadonlyNonEmptyArrayWithIndex)(r);return function(t){return Wr.isNonEmpty(t)?e(t):u.ApT}};u.traverseReadonlyArrayWithIndex=up;u.traverseArrayWithIndex=u.traverseReadonlyArrayWithIndex;var cp=function(r){return(0,u.traverseReadonlyArrayWithIndex)(function(e,t){return r(t)})};u.traverseArray=cp;u.sequenceArray=(0,u.traverseArray)(B.identity);function sp(r,e){return(0,u.tryCatch)(function(){return JSON.parse(r)},e)}u.parseJSON=sp;var fp=function(r,e){return(0,u.tryCatch)(function(){var t=JSON.stringify(r);if(typeof t!="string")throw new Error("Converting unsupported structure to JSON");return t},e)};u.stringifyJSON=fp;u.either={URI:u.URI,map:H,of:u.of,ap:$r,chain:ae,reduce:We,foldMap:qe,reduceRight:Ke,traverse:nt,sequence:u.sequence,bimap:pn,mapLeft:dn,alt:Ja,extend:mn,chainRec:hn,throwError:u.throwError};u.getApplySemigroup=(0,_e.getApplySemigroup)(u.Apply);u.getApplyMonoid=(0,za.getApplicativeMonoid)(u.Applicative);var lp=function(r,e){return(0,_e.getApplySemigroup)((0,u.getApplicativeValidation)(r))(e)};u.getValidationSemigroup=lp;var pp=function(r,e){return(0,za.getApplicativeMonoid)((0,u.getApplicativeValidation)(r))(e)};u.getValidationMonoid=pp;function dp(r){var e=(0,u.getApplicativeValidation)(r).ap,t=(0,u.getAltValidation)(r).alt;return{URI:u.URI,_E:void 0,map:H,of:u.of,chain:ae,bimap:pn,mapLeft:dn,reduce:We,foldMap:qe,reduceRight:Ke,extend:mn,traverse:nt,sequence:u.sequence,chainRec:hn,throwError:u.throwError,ap:e,alt:t}}u.getValidation=dp});var In=R(b=>{"use strict";var mp=b&&b.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),hp=b&&b.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),vp=b&&b.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&mp(e,r,t);return hp(e,r),e};Object.defineProperty(b,"__esModule",{value:!0});b.getEitherM=b.toUnion=b.swap=b.orLeft=b.orElseFirst=b.orElse=b.getOrElse=b.matchE=b.match=b.altValidation=b.mapLeft=b.bimap=b.alt=b.chain=b.ap=b.map=b.chainNullableK=b.fromNullableK=b.fromNullable=b.leftF=b.rightF=b.left=b.right=void 0;var gp=vr(),k=vp(we()),er=W(),yp=Z();function vn(r){return(0,er.flow)(k.right,r.of)}b.right=vn;function Qa(r){return(0,er.flow)(k.left,r.of)}b.left=Qa;function Ya(r){return function(e){return r.map(e,k.right)}}b.rightF=Ya;function Za(r){return function(e){return r.map(e,k.left)}}b.leftF=Za;function ri(r){return function(e){return(0,er.flow)(k.fromNullable(e),r.of)}}b.fromNullable=ri;function ei(r){var e=ri(r);return function(t){var n=e(t);return function(i){return(0,er.flow)(i,n)}}}b.fromNullableK=ei;function Ip(r){var e=gn(r),t=ei(r);return function(n){var i=t(n);return function(s){return e(i(s))}}}b.chainNullableK=Ip;function ti(r){return(0,yp.map)(r,k.Functor)}b.map=ti;function ni(r){return(0,gp.ap)(r,k.Apply)}b.ap=ni;function gn(r){return function(e){return function(t){return r.chain(t,function(n){return k.isLeft(n)?r.of(n):e(n.right)})}}}b.chain=gn;function ai(r){return function(e){return function(t){return r.chain(t,function(n){return k.isLeft(n)?e():r.of(n)})}}}b.alt=ai;function ii(r){return function(e,t){return function(n){return r.map(n,k.bimap(e,t))}}}b.bimap=ii;function oi(r){return function(e){return function(t){return r.map(t,k.mapLeft(e))}}}b.mapLeft=oi;function Rp(r,e){return function(t){return function(n){return r.chain(n,k.match(function(i){return r.map(t(),k.mapLeft(function(s){return e.concat(i,s)}))},vn(r)))}}}b.altValidation=Rp;function Ep(r){return function(e,t){return function(n){return r.map(n,k.match(e,t))}}}b.match=Ep;function ui(r){return function(e,t){return function(n){return r.chain(n,k.match(e,t))}}}b.matchE=ui;function ci(r){return function(e){return function(t){return r.chain(t,k.match(e,r.of))}}}b.getOrElse=ci;function yn(r){return function(e){return function(t){return r.chain(t,function(n){return k.isLeft(n)?e(n.left):r.of(n)})}}}b.orElse=yn;function bp(r){var e=yn(r);return function(t){return e(function(n){return r.map(t(n),function(i){return k.isLeft(i)?i:k.left(n)})})}}b.orElseFirst=bp;function Op(r){return function(e){return function(t){return r.chain(t,k.match(function(n){return r.map(e(n),k.left)},function(n){return r.of(k.right(n))}))}}}b.orLeft=Op;function si(r){return function(e){return r.map(e,k.swap)}}b.swap=si;function Sp(r){return function(e){return r.map(e,k.toUnion)}}b.toUnion=Sp;function Ap(r){var e=ni(r),t=ti(r),n=gn(r),i=ai(r),s=ii(r),d=oi(r),m=ui(r),v=ci(r),h=yn(r);return{map:function(I,A){return(0,er.pipe)(I,t(A))},ap:function(I,A){return(0,er.pipe)(I,e(A))},of:vn(r),chain:function(I,A){return(0,er.pipe)(I,n(A))},alt:function(I,A){return(0,er.pipe)(I,i(A))},bimap:function(I,A,j){return(0,er.pipe)(I,s(A,j))},mapLeft:function(I,A){return(0,er.pipe)(I,d(A))},fold:function(I,A,j){return(0,er.pipe)(I,m(A,j))},getOrElse:function(I,A){return(0,er.pipe)(I,v(A))},orElse:function(I,A){return(0,er.pipe)(I,h(A))},swap:si(r),rightM:Ya(r),leftM:Za(r),left:Qa(r)}}b.getEitherM=Ap});var bn=R(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.getFilterableComposition=fr.partitionMap=fr.partition=fr.filterMap=fr.filter=void 0;var fi=et(),ie=W(),Tp=Z(),li=sn(),_p=zt(),pi=Ae();function Rn(r,e){return function(t){return function(n){return r.map(n,function(i){return e.filter(i,t)})}}}fr.filter=Rn;function En(r,e){return function(t){return function(n){return r.map(n,function(i){return e.filterMap(i,t)})}}}fr.filterMap=En;function di(r,e){var t=Rn(r,e);return function(n){var i=t((0,_p.not)(n)),s=t(n);return function(d){return(0,pi.separated)(i(d),s(d))}}}fr.partition=di;function mi(r,e){var t=En(r,e);return function(n){return function(i){return(0,pi.separated)((0,ie.pipe)(i,t(function(s){return(0,li.getLeft)(n(s))})),(0,ie.pipe)(i,t(function(s){return(0,li.getRight)(n(s))})))}}}fr.partitionMap=mi;function Fp(r,e){var t=(0,Tp.getFunctorComposition)(r,e).map,n=(0,fi.compact)(r,e),i=(0,fi.separate)(r,e,e),s=Rn(r,e),d=En(r,e),m=di(r,e),v=mi(r,e);return{map:t,compact:n,separate:i,filter:function(h,I){return(0,ie.pipe)(h,s(I))},filterMap:function(h,I){return(0,ie.pipe)(h,d(I))},partition:function(h,I){return(0,ie.pipe)(h,m(I))},partitionMap:function(h,I){return(0,ie.pipe)(h,v(I))}}}fr.getFilterableComposition=Fp});var Ue=R(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.chainFirstIOK=qr.chainIOK=qr.fromIOK=void 0;var Wp=cr(),On=W();function qp(r){return function(e){return(0,On.flow)(e,r.fromIO)}}qr.fromIOK=qp;function Kp(r,e){return function(t){var n=(0,On.flow)(t,r.fromIO);return function(i){return e.chain(i,n)}}}qr.chainIOK=Kp;function wp(r,e){var t=(0,Wp.chainFirst)(e);return function(n){return t((0,On.flow)(n,r.fromIO))}}qr.chainFirstIOK=wp});var at=R(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.chainFirstTaskK=Kr.chainTaskK=Kr.fromTaskK=void 0;var Up=cr(),Sn=W();function Mp(r){return function(e){return(0,Sn.flow)(e,r.fromTask)}}Kr.fromTaskK=Mp;function kp(r,e){return function(t){var n=(0,Sn.flow)(t,r.fromTask);return function(i){return e.chain(i,n)}}}Kr.chainTaskK=kp;function xp(r,e){var t=(0,Up.chainFirst)(e);return function(n){return t((0,Sn.flow)(n,r.fromTask))}}Kr.chainFirstTaskK=xp});var ot=R(l=>{"use strict";var Pp=l&&l.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Np=l&&l.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Cp=l&&l.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Pp(e,r,t);return Np(e,r),e};Object.defineProperty(l,"__esModule",{value:!0});l.getMonoid=l.getSemigroup=l.taskSeq=l.task=l.sequenceSeqArray=l.traverseSeqArray=l.traverseSeqArrayWithIndex=l.sequenceArray=l.traverseArray=l.traverseArrayWithIndex=l.traverseReadonlyArrayWithIndexSeq=l.traverseReadonlyNonEmptyArrayWithIndexSeq=l.traverseReadonlyArrayWithIndex=l.traverseReadonlyNonEmptyArrayWithIndex=l.ApT=l.apS=l.bind=l.let=l.bindTo=l.Do=l.never=l.FromTask=l.chainFirstIOK=l.chainIOK=l.fromIOK=l.FromIO=l.chainFirst=l.MonadTask=l.fromTask=l.MonadIO=l.Monad=l.Chain=l.ApplicativeSeq=l.ApplySeq=l.ApplicativePar=l.apSecond=l.apFirst=l.ApplyPar=l.Pointed=l.flap=l.Functor=l.getRaceMonoid=l.URI=l.flatten=l.chain=l.of=l.ap=l.map=l.delay=l.fromIO=void 0;var Lp=Fr(),it=vr(),hi=cr(),An=Ue(),Er=W(),Tn=Z(),Gr=Cp(or()),jp=function(r){return function(){return Promise.resolve().then(r)}};l.fromIO=jp;function Dp(r){return function(e){return function(){return new Promise(function(t){setTimeout(function(){Promise.resolve().then(e).then(t)},r)})}}}l.delay=Dp;var mr=function(r,e){return(0,Er.pipe)(r,(0,l.map)(e))},Vr=function(r,e){return(0,Er.pipe)(r,(0,l.ap)(e))},_n=function(r,e){return(0,Er.pipe)(r,(0,l.chain)(function(t){return(0,Er.pipe)(e,(0,l.map)(t))}))},oe=function(r,e){return(0,Er.pipe)(r,(0,l.chain)(e))},Bp=function(r){return function(e){return function(){return Promise.resolve().then(e).then(r)}}};l.map=Bp;var $p=function(r){return function(e){return function(){return Promise.all([Promise.resolve().then(e),Promise.resolve().then(r)]).then(function(t){var n=t[0],i=t[1];return n(i)})}}};l.ap=$p;var Gp=function(r){return function(){return Promise.resolve(r)}};l.of=Gp;var Vp=function(r){return function(e){return function(){return Promise.resolve().then(e).then(function(t){return r(t)()})}}};l.chain=Vp;l.flatten=(0,l.chain)(Er.identity);l.URI="Task";function zp(){return{concat:function(r,e){return function(){return Promise.race([Promise.resolve().then(r),Promise.resolve().then(e)])}},empty:l.never}}l.getRaceMonoid=zp;l.Functor={URI:l.URI,map:mr};l.flap=(0,Tn.flap)(l.Functor);l.Pointed={URI:l.URI,of:l.of};l.ApplyPar={URI:l.URI,map:mr,ap:Vr};l.apFirst=(0,it.apFirst)(l.ApplyPar);l.apSecond=(0,it.apSecond)(l.ApplyPar);l.ApplicativePar={URI:l.URI,map:mr,ap:Vr,of:l.of};l.ApplySeq={URI:l.URI,map:mr,ap:_n};l.ApplicativeSeq={URI:l.URI,map:mr,ap:_n,of:l.of};l.Chain={URI:l.URI,map:mr,ap:Vr,chain:oe};l.Monad={URI:l.URI,map:mr,of:l.of,ap:Vr,chain:oe};l.MonadIO={URI:l.URI,map:mr,of:l.of,ap:Vr,chain:oe,fromIO:l.fromIO};l.fromTask=Er.identity;l.MonadTask={URI:l.URI,map:mr,of:l.of,ap:Vr,chain:oe,fromIO:l.fromIO,fromTask:l.fromTask};l.chainFirst=(0,hi.chainFirst)(l.Chain);l.FromIO={URI:l.URI,fromIO:l.fromIO};l.fromIOK=(0,An.fromIOK)(l.FromIO);l.chainIOK=(0,An.chainIOK)(l.FromIO,l.Chain);l.chainFirstIOK=(0,An.chainFirstIOK)(l.FromIO,l.Chain);l.FromTask={URI:l.URI,fromIO:l.fromIO,fromTask:l.fromTask};var Hp=function(){return new Promise(function(r){})};l.never=Hp;l.Do=(0,l.of)(Gr.emptyRecord);l.bindTo=(0,Tn.bindTo)(l.Functor);var Jp=(0,Tn.let)(l.Functor);l.let=Jp;l.bind=(0,hi.bind)(l.Chain);l.apS=(0,it.apS)(l.ApplyPar);l.ApT=(0,l.of)(Gr.emptyReadonlyArray);var Xp=function(r){return function(e){return function(){return Promise.all(e.map(function(t,n){return Promise.resolve().then(function(){return r(n,t)()})}))}}};l.traverseReadonlyNonEmptyArrayWithIndex=Xp;var Qp=function(r){var e=(0,l.traverseReadonlyNonEmptyArrayWithIndex)(r);return function(t){return Gr.isNonEmpty(t)?e(t):l.ApT}};l.traverseReadonlyArrayWithIndex=Qp;var Yp=function(r){return function(e){return function(){return Gr.tail(e).reduce(function(t,n,i){return t.then(function(s){return Promise.resolve().then(r(i+1,n)).then(function(d){return s.push(d),s})})},Promise.resolve().then(r(0,Gr.head(e))).then(Gr.singleton))}}};l.traverseReadonlyNonEmptyArrayWithIndexSeq=Yp;var Zp=function(r){var e=(0,l.traverseReadonlyNonEmptyArrayWithIndexSeq)(r);return function(t){return Gr.isNonEmpty(t)?e(t):l.ApT}};l.traverseReadonlyArrayWithIndexSeq=Zp;l.traverseArrayWithIndex=l.traverseReadonlyArrayWithIndex;var rd=function(r){return(0,l.traverseReadonlyArrayWithIndex)(function(e,t){return r(t)})};l.traverseArray=rd;l.sequenceArray=(0,l.traverseArray)(Er.identity);l.traverseSeqArrayWithIndex=l.traverseReadonlyArrayWithIndexSeq;var ed=function(r){return(0,l.traverseReadonlyArrayWithIndexSeq)(function(e,t){return r(t)})};l.traverseSeqArray=ed;l.sequenceSeqArray=(0,l.traverseSeqArray)(Er.identity);l.task={URI:l.URI,map:mr,of:l.of,ap:Vr,chain:oe,fromIO:l.fromIO,fromTask:l.fromTask};l.taskSeq={URI:l.URI,map:mr,of:l.of,ap:_n,chain:oe,fromIO:l.fromIO,fromTask:l.fromTask};l.getSemigroup=(0,it.getApplySemigroup)(l.ApplySeq);l.getMonoid=(0,Lp.getApplicativeMonoid)(l.ApplicativeSeq)});var br=R(o=>{"use strict";var td=o&&o.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),nd=o&&o.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ct=o&&o.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&td(e,r,t);return nd(e,r),e},ad=o&&o.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(d){d(s)})}return new(t||(t=Promise))(function(s,d){function m(I){try{h(n.next(I))}catch(A){d(A)}}function v(I){try{h(n.throw(I))}catch(A){d(A)}}function h(I){I.done?s(I.value):i(I.value).then(m,v)}h((n=n.apply(r,e||[])).next())})},id=o&&o.__generator||function(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(h){return function(I){return v([h,I])}}function v(h){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,i=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){t.label=h[1];break}if(h[0]===6&&t.label<s[1]){t.label=s[1],s=h;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(h);break}s[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(r,t)}catch(I){h=[6,I],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});o.altW=o.alt=o.flatten=o.flattenW=o.chainW=o.chain=o.apW=o.ap=o.mapLeft=o.bimap=o.map=o.chainIOEitherK=o.chainIOEitherKW=o.fromIOEitherK=o.chainTaskOptionK=o.chainTaskOptionKW=o.fromTaskOptionK=o.swap=o.orLeft=o.orElseFirstTaskK=o.orElseFirstIOK=o.orElseFirstW=o.orElseFirst=o.orElseW=o.orElse=o.chainNullableK=o.fromNullableK=o.fromNullable=o.toUnion=o.tryCatchK=o.tryCatch=o.getOrElseW=o.getOrElse=o.foldW=o.matchEW=o.fold=o.matchE=o.matchW=o.match=o.fromTaskOption=o.fromIOEither=o.fromEither=o.fromTask=o.fromIO=o.leftIO=o.rightIO=o.leftTask=o.rightTask=o.right=o.left=void 0;o.bracketW=o.bracket=o.taskify=o.chainFirstTaskK=o.chainTaskK=o.fromTaskK=o.FromTask=o.chainFirstIOK=o.chainIOK=o.fromIOK=o.FromIO=o.fromEitherK=o.filterOrElseW=o.filterOrElse=o.fromPredicate=o.chainFirstEitherKW=o.chainFirstEitherK=o.chainEitherKW=o.chainEitherK=o.chainOptionK=o.fromOptionK=o.fromOption=o.FromEither=o.Alt=o.Bifunctor=o.chainFirstW=o.chainFirst=o.MonadThrow=o.MonadTask=o.MonadIO=o.Monad=o.Chain=o.ApplicativeSeq=o.ApplySeq=o.ApplicativePar=o.apSecondW=o.apSecond=o.apFirstW=o.apFirst=o.ApplyPar=o.Pointed=o.flap=o.Functor=o.getFilterable=o.getCompactable=o.getAltTaskValidation=o.getApplicativeTaskValidation=o.URI=o.throwError=o.of=void 0;o.getTaskValidation=o.getSemigroup=o.getApplyMonoid=o.getApplySemigroup=o.taskEitherSeq=o.taskEither=o.sequenceSeqArray=o.traverseSeqArray=o.traverseSeqArrayWithIndex=o.sequenceArray=o.traverseArray=o.traverseArrayWithIndex=o.traverseReadonlyArrayWithIndexSeq=o.traverseReadonlyNonEmptyArrayWithIndexSeq=o.traverseReadonlyArrayWithIndex=o.traverseReadonlyNonEmptyArrayWithIndex=o.ApT=o.apSW=o.apS=o.bindW=o.bind=o.let=o.bindTo=o.Do=void 0;var od=Fr(),ue=vr(),gi=cr(),vi=et(),wr=ct(we()),C=ct(In()),ut=bn(),Ur=Se(),Fn=Ue(),Wn=at(),w=W(),qn=Z(),tr=ct(or()),S=ct(ot());o.left=C.left(S.Pointed);o.right=C.right(S.Pointed);o.rightTask=C.rightF(S.Functor);o.leftTask=C.leftF(S.Functor);o.rightIO=(0,w.flow)(S.fromIO,o.rightTask);o.leftIO=(0,w.flow)(S.fromIO,o.leftTask);o.fromIO=o.rightIO;o.fromTask=o.rightTask;o.fromEither=S.of;o.fromIOEither=S.fromIO;var ud=function(r){return S.map(wr.fromOption(r))};o.fromTaskOption=ud;o.match=C.match(S.Functor);o.matchW=o.match;o.matchE=C.matchE(S.Monad);o.fold=o.matchE;o.matchEW=o.matchE;o.foldW=o.matchEW;o.getOrElse=C.getOrElse(S.Monad);o.getOrElseW=o.getOrElse;var cd=function(r,e){return function(){return ad(void 0,void 0,void 0,function(){var t;return id(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,r().then(tr.right)];case 1:return[2,n.sent()];case 2:return t=n.sent(),[2,tr.left(e(t))];case 3:return[2]}})})}};o.tryCatch=cd;var sd=function(r,e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(0,o.tryCatch)(function(){return r.apply(void 0,t)},e)}};o.tryCatchK=sd;o.toUnion=C.toUnion(S.Functor);o.fromNullable=C.fromNullable(S.Pointed);o.fromNullableK=C.fromNullableK(S.Pointed);o.chainNullableK=C.chainNullableK(S.Monad);o.orElse=C.orElse(S.Monad);o.orElseW=o.orElse;o.orElseFirst=C.orElseFirst(S.Monad);o.orElseFirstW=o.orElseFirst;var fd=function(r){return(0,o.orElseFirst)((0,o.fromIOK)(r))};o.orElseFirstIOK=fd;var ld=function(r){return(0,o.orElseFirst)((0,o.fromTaskK)(r))};o.orElseFirstTaskK=ld;o.orLeft=C.orLeft(S.Monad);o.swap=C.swap(S.Functor);var pd=function(r){var e=(0,o.fromTaskOption)(r);return function(t){return(0,w.flow)(t,e)}};o.fromTaskOptionK=pd;var dd=function(r){return function(e){return function(t){return(0,w.pipe)(t,(0,o.chain)((0,o.fromTaskOptionK)(r)(e)))}}};o.chainTaskOptionKW=dd;o.chainTaskOptionK=o.chainTaskOptionKW;var md=function(r){return(0,w.flow)(r,o.fromIOEither)};o.fromIOEitherK=md;var hd=function(r){return(0,o.chainW)((0,o.fromIOEitherK)(r))};o.chainIOEitherKW=hd;o.chainIOEitherK=o.chainIOEitherKW;var V=function(r,e){return(0,w.pipe)(r,(0,o.map)(e))},Mr=function(r,e){return(0,w.pipe)(r,(0,o.ap)(e))},Kn=function(r,e){return(0,w.pipe)(r,(0,o.chain)(function(t){return(0,w.pipe)(e,(0,o.map)(t))}))},kr=function(r,e){return(0,w.pipe)(r,(0,o.chain)(e))},st=function(r,e,t){return(0,w.pipe)(r,(0,o.bimap)(e,t))},ft=function(r,e){return(0,w.pipe)(r,(0,o.mapLeft)(e))},wn=function(r,e){return(0,w.pipe)(r,(0,o.alt)(e))};o.map=C.map(S.Functor);o.bimap=C.bimap(S.Functor);o.mapLeft=C.mapLeft(S.Functor);o.ap=C.ap(S.ApplyPar);o.apW=o.ap;o.chain=C.chain(S.Monad);o.chainW=o.chain;o.flattenW=(0,o.chainW)(w.identity);o.flatten=o.flattenW;o.alt=C.alt(S.Monad);o.altW=o.alt;o.of=o.right;o.throwError=o.left;o.URI="TaskEither";function yi(r,e){var t=(0,ue.ap)(r,wr.getApplicativeValidation(e));return{URI:o.URI,_E:void 0,map:V,ap:function(n,i){return(0,w.pipe)(n,t(i))},of:o.of}}o.getApplicativeTaskValidation=yi;function Ii(r){var e=C.altValidation(S.Monad,r);return{URI:o.URI,_E:void 0,map:V,alt:function(t,n){return(0,w.pipe)(t,e(n))}}}o.getAltTaskValidation=Ii;var vd=function(r){var e=wr.getCompactable(r);return{URI:o.URI,_E:void 0,compact:(0,vi.compact)(S.Functor,e),separate:(0,vi.separate)(S.Functor,e,wr.Functor)}};o.getCompactable=vd;function gd(r){var e=wr.getFilterable(r),t=(0,o.getCompactable)(r),n=(0,ut.filter)(S.Functor,e),i=(0,ut.filterMap)(S.Functor,e),s=(0,ut.partition)(S.Functor,e),d=(0,ut.partitionMap)(S.Functor,e);return{URI:o.URI,_E:void 0,map:V,compact:t.compact,separate:t.separate,filter:function(m,v){return(0,w.pipe)(m,n(v))},filterMap:function(m,v){return(0,w.pipe)(m,i(v))},partition:function(m,v){return(0,w.pipe)(m,s(v))},partitionMap:function(m,v){return(0,w.pipe)(m,d(v))}}}o.getFilterable=gd;o.Functor={URI:o.URI,map:V};o.flap=(0,qn.flap)(o.Functor);o.Pointed={URI:o.URI,of:o.of};o.ApplyPar={URI:o.URI,map:V,ap:Mr};o.apFirst=(0,ue.apFirst)(o.ApplyPar);o.apFirstW=o.apFirst;o.apSecond=(0,ue.apSecond)(o.ApplyPar);o.apSecondW=o.apSecond;o.ApplicativePar={URI:o.URI,map:V,ap:Mr,of:o.of};o.ApplySeq={URI:o.URI,map:V,ap:Kn};o.ApplicativeSeq={URI:o.URI,map:V,ap:Kn,of:o.of};o.Chain={URI:o.URI,map:V,ap:Mr,chain:kr};o.Monad={URI:o.URI,map:V,ap:Mr,chain:kr,of:o.of};o.MonadIO={URI:o.URI,map:V,ap:Mr,chain:kr,of:o.of,fromIO:o.fromIO};o.MonadTask={URI:o.URI,map:V,ap:Mr,chain:kr,of:o.of,fromIO:o.fromIO,fromTask:o.fromTask};o.MonadThrow={URI:o.URI,map:V,ap:Mr,chain:kr,of:o.of,throwError:o.throwError};o.chainFirst=(0,gi.chainFirst)(o.Chain);o.chainFirstW=o.chainFirst;o.Bifunctor={URI:o.URI,bimap:st,mapLeft:ft};o.Alt={URI:o.URI,map:V,alt:wn};o.FromEither={URI:o.URI,fromEither:o.fromEither};o.fromOption=(0,Ur.fromOption)(o.FromEither);o.fromOptionK=(0,Ur.fromOptionK)(o.FromEither);o.chainOptionK=(0,Ur.chainOptionK)(o.FromEither,o.Chain);o.chainEitherK=(0,Ur.chainEitherK)(o.FromEither,o.Chain);o.chainEitherKW=o.chainEitherK;o.chainFirstEitherK=(0,Ur.chainFirstEitherK)(o.FromEither,o.Chain);o.chainFirstEitherKW=o.chainFirstEitherK;o.fromPredicate=(0,Ur.fromPredicate)(o.FromEither);o.filterOrElse=(0,Ur.filterOrElse)(o.FromEither,o.Chain);o.filterOrElseW=o.filterOrElse;o.fromEitherK=(0,Ur.fromEitherK)(o.FromEither);o.FromIO={URI:o.URI,fromIO:o.fromIO};o.fromIOK=(0,Fn.fromIOK)(o.FromIO);o.chainIOK=(0,Fn.chainIOK)(o.FromIO,o.Chain);o.chainFirstIOK=(0,Fn.chainFirstIOK)(o.FromIO,o.Chain);o.FromTask={URI:o.URI,fromIO:o.fromIO,fromTask:o.fromTask};o.fromTaskK=(0,Wn.fromTaskK)(o.FromTask);o.chainTaskK=(0,Wn.chainTaskK)(o.FromTask,o.Chain);o.chainFirstTaskK=(0,Wn.chainFirstTaskK)(o.FromTask,o.Chain);function yd(r){return function(){var e=Array.prototype.slice.call(arguments);return function(){return new Promise(function(t){var n=function(i,s){return i!=null?t(tr.left(i)):t(tr.right(s))};r.apply(null,e.concat(n))})}}}o.taskify=yd;var Id=function(r,e,t){return(0,o.bracketW)(r,e,t)};o.bracket=Id;var Rd=function(r,e,t){return(0,w.pipe)(r,(0,o.chainW)(function(n){return(0,w.pipe)(e(n),S.chain(function(i){return(0,w.pipe)(t(n,i),(0,o.chainW)(function(){return S.of(i)}))}))}))};o.bracketW=Rd;o.Do=(0,o.of)(tr.emptyRecord);o.bindTo=(0,qn.bindTo)(o.Functor);var Ed=(0,qn.let)(o.Functor);o.let=Ed;o.bind=(0,gi.bind)(o.Chain);o.bindW=o.bind;o.apS=(0,ue.apS)(o.ApplyPar);o.apSW=o.apS;o.ApT=(0,o.of)(tr.emptyReadonlyArray);var bd=function(r){return(0,w.flow)(S.traverseReadonlyNonEmptyArrayWithIndex(r),S.map(wr.traverseReadonlyNonEmptyArrayWithIndex(w.SK)))};o.traverseReadonlyNonEmptyArrayWithIndex=bd;var Od=function(r){var e=(0,o.traverseReadonlyNonEmptyArrayWithIndex)(r);return function(t){return tr.isNonEmpty(t)?e(t):o.ApT}};o.traverseReadonlyArrayWithIndex=Od;var Sd=function(r){return function(e){return function(){return tr.tail(e).reduce(function(t,n,i){return t.then(function(s){return tr.isLeft(s)?t:r(i+1,n)().then(function(d){return tr.isLeft(d)?d:(s.right.push(d.right),s)})})},r(0,tr.head(e))().then(wr.map(tr.singleton)))}}};o.traverseReadonlyNonEmptyArrayWithIndexSeq=Sd;var Ad=function(r){var e=(0,o.traverseReadonlyNonEmptyArrayWithIndexSeq)(r);return function(t){return tr.isNonEmpty(t)?e(t):o.ApT}};o.traverseReadonlyArrayWithIndexSeq=Ad;o.traverseArrayWithIndex=o.traverseReadonlyArrayWithIndex;var Td=function(r){return(0,o.traverseReadonlyArrayWithIndex)(function(e,t){return r(t)})};o.traverseArray=Td;o.sequenceArray=(0,o.traverseArray)(w.identity);o.traverseSeqArrayWithIndex=o.traverseReadonlyArrayWithIndexSeq;var _d=function(r){return(0,o.traverseReadonlyArrayWithIndexSeq)(function(e,t){return r(t)})};o.traverseSeqArray=_d;o.sequenceSeqArray=(0,o.traverseSeqArray)(w.identity);o.taskEither={URI:o.URI,bimap:st,mapLeft:ft,map:V,of:o.of,ap:Mr,chain:kr,alt:wn,fromIO:o.fromIO,fromTask:o.fromTask,throwError:o.throwError};o.taskEitherSeq={URI:o.URI,bimap:st,mapLeft:ft,map:V,of:o.of,ap:Kn,chain:kr,alt:wn,fromIO:o.fromIO,fromTask:o.fromTask,throwError:o.throwError};o.getApplySemigroup=(0,ue.getApplySemigroup)(o.ApplySeq);o.getApplyMonoid=(0,od.getApplicativeMonoid)(o.ApplicativeSeq);var Fd=function(r){return(0,ue.getApplySemigroup)(S.ApplySeq)(wr.getSemigroup(r))};o.getSemigroup=Fd;function Wd(r){var e=yi(S.ApplicativePar,r),t=Ii(r);return{URI:o.URI,_E:void 0,map:V,ap:e.ap,of:o.of,chain:kr,bimap:st,mapLeft:ft,alt:t.alt,fromIO:o.fromIO,fromTask:o.fromTask,throwError:o.throwError}}o.getTaskValidation=Wd});var Si=R(($g,Oi)=>{Oi.exports=bi;bi.sync=Kd;var Ri=require("fs");function qd(r,e){var t=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!t||(t=t.split(";"),t.indexOf("")!==-1))return!0;for(var n=0;n<t.length;n++){var i=t[n].toLowerCase();if(i&&r.substr(-i.length).toLowerCase()===i)return!0}return!1}function Ei(r,e,t){return!r.isSymbolicLink()&&!r.isFile()?!1:qd(e,t)}function bi(r,e,t){Ri.stat(r,function(n,i){t(n,n?!1:Ei(i,r,e))})}function Kd(r,e){return Ei(Ri.statSync(r),r,e)}});var Wi=R((Gg,Fi)=>{Fi.exports=Ti;Ti.sync=wd;var Ai=require("fs");function Ti(r,e,t){Ai.stat(r,function(n,i){t(n,n?!1:_i(i,e))})}function wd(r,e){return _i(Ai.statSync(r),e)}function _i(r,e){return r.isFile()&&Ud(r,e)}function Ud(r,e){var t=r.mode,n=r.uid,i=r.gid,s=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),d=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),m=parseInt("100",8),v=parseInt("010",8),h=parseInt("001",8),I=m|v,A=t&h||t&v&&i===d||t&m&&n===s||t&I&&s===0;return A}});var Ki=R((zg,qi)=>{var Vg=require("fs"),lt;process.platform==="win32"||global.TESTING_WINDOWS?lt=Si():lt=Wi();qi.exports=Un;Un.sync=Md;function Un(r,e,t){if(typeof e=="function"&&(t=e,e={}),!t){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Un(r,e||{},function(s,d){s?i(s):n(d)})})}lt(r,e||{},function(n,i){n&&(n.code==="EACCES"||e&&e.ignoreErrors)&&(n=null,i=!1),t(n,i)})}function Md(r,e){try{return lt.sync(r,e||{})}catch(t){if(e&&e.ignoreErrors||t.code==="EACCES")return!1;throw t}}});var Ni=R((Hg,Pi)=>{var ce=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",wi=require("path"),kd=ce?";":":",Ui=Ki(),Mi=r=>Object.assign(new Error(`not found: ${r}`),{code:"ENOENT"}),ki=(r,e)=>{let t=e.colon||kd,n=r.match(/\//)||ce&&r.match(/\\/)?[""]:[...ce?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(t)],i=ce?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=ce?i.split(t):[""];return ce&&r.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:n,pathExt:s,pathExtExe:i}},xi=(r,e,t)=>{typeof e=="function"&&(t=e,e={}),e||(e={});let{pathEnv:n,pathExt:i,pathExtExe:s}=ki(r,e),d=[],m=h=>new Promise((I,A)=>{if(h===n.length)return e.all&&d.length?I(d):A(Mi(r));let j=n[h],ar=/^".*"$/.test(j)?j.slice(1,-1):j,ir=wi.join(ar,r),dr=!ar&&/^\.[\\\/]/.test(r)?r.slice(0,2)+ir:ir;I(v(dr,h,0))}),v=(h,I,A)=>new Promise((j,ar)=>{if(A===i.length)return j(m(I+1));let ir=i[A];Ui(h+ir,{pathExt:s},(dr,re)=>{if(!dr&&re)if(e.all)d.push(h+ir);else return j(h+ir);return j(v(h,I,A+1))})});return t?m(0).then(h=>t(null,h),t):m(0)},xd=(r,e)=>{e=e||{};let{pathEnv:t,pathExt:n,pathExtExe:i}=ki(r,e),s=[];for(let d=0;d<t.length;d++){let m=t[d],v=/^".*"$/.test(m)?m.slice(1,-1):m,h=wi.join(v,r),I=!v&&/^\.[\\\/]/.test(r)?r.slice(0,2)+h:h;for(let A=0;A<n.length;A++){let j=I+n[A];try{if(Ui.sync(j,{pathExt:i}))if(e.all)s.push(j);else return j}catch{}}}if(e.all&&s.length)return s;if(e.nothrow)return null;throw Mi(r)};Pi.exports=xi;xi.sync=xd});var kn=R((Jg,Mn)=>{"use strict";var Ci=(r={})=>{let e=r.env||process.env;return(r.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Mn.exports=Ci;Mn.exports.default=Ci});var Bi=R((Xg,Di)=>{"use strict";var Li=require("path"),Pd=Ni(),Nd=kn();function ji(r,e){let t=r.options.env||process.env,n=process.cwd(),i=r.options.cwd!=null,s=i&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(r.options.cwd)}catch{}let d;try{d=Pd.sync(r.command,{path:t[Nd({env:t})],pathExt:e?Li.delimiter:void 0})}catch{}finally{s&&process.chdir(n)}return d&&(d=Li.resolve(i?r.options.cwd:"",d)),d}function Cd(r){return ji(r)||ji(r,!0)}Di.exports=Cd});var $i=R((Qg,Pn)=>{"use strict";var xn=/([()\][%!^"`<>&|;, *?])/g;function Ld(r){return r=r.replace(xn,"^$1"),r}function jd(r,e){return r=`${r}`,r=r.replace(/(\\*)"/g,'$1$1\\"'),r=r.replace(/(\\*)$/,"$1$1"),r=`"${r}"`,r=r.replace(xn,"^$1"),e&&(r=r.replace(xn,"^$1")),r}Pn.exports.command=Ld;Pn.exports.argument=jd});var Vi=R((Yg,Gi)=>{"use strict";Gi.exports=/^#!(.*)/});var Hi=R((Zg,zi)=>{"use strict";var Dd=Vi();zi.exports=(r="")=>{let e=r.match(Dd);if(!e)return null;let[t,n]=e[0].replace(/#! ?/,"").split(" "),i=t.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var Xi=R((ry,Ji)=>{"use strict";var Nn=require("fs"),Bd=Hi();function $d(r){let t=Buffer.alloc(150),n;try{n=Nn.openSync(r,"r"),Nn.readSync(n,t,0,150,0),Nn.closeSync(n)}catch{}return Bd(t.toString())}Ji.exports=$d});var ro=R((ey,Zi)=>{"use strict";var Gd=require("path"),Qi=Bi(),Yi=$i(),Vd=Xi(),zd=process.platform==="win32",Hd=/\.(?:com|exe)$/i,Jd=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Xd(r){r.file=Qi(r);let e=r.file&&Vd(r.file);return e?(r.args.unshift(r.file),r.command=e,Qi(r)):r.file}function Qd(r){if(!zd)return r;let e=Xd(r),t=!Hd.test(e);if(r.options.forceShell||t){let n=Jd.test(e);r.command=Gd.normalize(r.command),r.command=Yi.command(r.command),r.args=r.args.map(s=>Yi.argument(s,n));let i=[r.command].concat(r.args).join(" ");r.args=["/d","/s","/c",`"${i}"`],r.command=process.env.comspec||"cmd.exe",r.options.windowsVerbatimArguments=!0}return r}function Yd(r,e,t){e&&!Array.isArray(e)&&(t=e,e=null),e=e?e.slice(0):[],t=Object.assign({},t);let n={command:r,args:e,options:t,file:void 0,original:{command:r,args:e}};return t.shell?n:Qd(n)}Zi.exports=Yd});var no=R((ty,to)=>{"use strict";var Cn=process.platform==="win32";function Ln(r,e){return Object.assign(new Error(`${e} ${r.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${r.command}`,path:r.command,spawnargs:r.args})}function Zd(r,e){if(!Cn)return;let t=r.emit;r.emit=function(n,i){if(n==="exit"){let s=eo(i,e,"spawn");if(s)return t.call(r,"error",s)}return t.apply(r,arguments)}}function eo(r,e){return Cn&&r===1&&!e.file?Ln(e.original,"spawn"):null}function rm(r,e){return Cn&&r===1&&!e.file?Ln(e.original,"spawnSync"):null}to.exports={hookChildProcess:Zd,verifyENOENT:eo,verifyENOENTSync:rm,notFoundError:Ln}});var oo=R((ny,se)=>{"use strict";var ao=require("child_process"),jn=ro(),Dn=no();function io(r,e,t){let n=jn(r,e,t),i=ao.spawn(n.command,n.args,n.options);return Dn.hookChildProcess(i,n),i}function em(r,e,t){let n=jn(r,e,t),i=ao.spawnSync(n.command,n.args,n.options);return i.error=i.error||Dn.verifyENOENTSync(i.status,n),i}se.exports=io;se.exports.spawn=io;se.exports.sync=em;se.exports._parse=jn;se.exports._enoent=Dn});var co=R((ay,uo)=>{"use strict";uo.exports=r=>{let e=typeof r=="string"?`
`:`
`.charCodeAt(),t=typeof r=="string"?"\r":"\r".charCodeAt();return r[r.length-1]===e&&(r=r.slice(0,r.length-1)),r[r.length-1]===t&&(r=r.slice(0,r.length-1)),r}});var lo=R((iy,ke)=>{"use strict";var Me=require("path"),so=kn(),fo=r=>{r={cwd:process.cwd(),path:process.env[so()],execPath:process.execPath,...r};let e,t=Me.resolve(r.cwd),n=[];for(;e!==t;)n.push(Me.join(t,"node_modules/.bin")),e=t,t=Me.resolve(t,"..");let i=Me.resolve(r.cwd,r.execPath,"..");return n.push(i),n.concat(r.path).join(Me.delimiter)};ke.exports=fo;ke.exports.default=fo;ke.exports.env=r=>{r={env:process.env,...r};let e={...r.env},t=so({env:e});return r.path=e[t],e[t]=ke.exports(r),e}});var mo=R((oy,Bn)=>{"use strict";var po=(r,e)=>{for(let t of Reflect.ownKeys(e))Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t));return r};Bn.exports=po;Bn.exports.default=po});var vo=R((uy,dt)=>{"use strict";var tm=mo(),pt=new WeakMap,ho=(r,e={})=>{if(typeof r!="function")throw new TypeError("Expected a function");let t,n=0,i=r.displayName||r.name||"<anonymous>",s=function(...d){if(pt.set(s,++n),n===1)t=r.apply(this,d),r=null;else if(e.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return t};return tm(s,r),pt.set(s,n),s};dt.exports=ho;dt.exports.default=ho;dt.exports.callCount=r=>{if(!pt.has(r))throw new Error(`The given function \`${r.name}\` is not wrapped by the \`onetime\` package`);return pt.get(r)}});var go=R(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.SIGNALS=void 0;var nm=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];mt.SIGNALS=nm});var $n=R(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.SIGRTMAX=fe.getRealtimeSignals=void 0;var am=function(){let r=Io-yo+1;return Array.from({length:r},im)};fe.getRealtimeSignals=am;var im=function(r,e){return{name:`SIGRT${e+1}`,number:yo+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},yo=34,Io=64;fe.SIGRTMAX=Io});var Ro=R(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.getSignals=void 0;var om=require("os"),um=go(),cm=$n(),sm=function(){let r=(0,cm.getRealtimeSignals)();return[...um.SIGNALS,...r].map(fm)};ht.getSignals=sm;var fm=function({name:r,number:e,description:t,action:n,forced:i=!1,standard:s}){let{signals:{[r]:d}}=om.constants,m=d!==void 0;return{name:r,number:m?d:e,description:t,supported:m,action:n,forced:i,standard:s}}});var bo=R(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.signalsByNumber=le.signalsByName=void 0;var lm=require("os"),Eo=Ro(),pm=$n(),dm=function(){return(0,Eo.getSignals)().reduce(mm,{})},mm=function(r,{name:e,number:t,description:n,supported:i,action:s,forced:d,standard:m}){return{...r,[e]:{name:e,number:t,description:n,supported:i,action:s,forced:d,standard:m}}},hm=dm();le.signalsByName=hm;var vm=function(){let r=(0,Eo.getSignals)(),e=pm.SIGRTMAX+1,t=Array.from({length:e},(n,i)=>gm(i,r));return Object.assign({},...t)},gm=function(r,e){let t=ym(r,e);if(t===void 0)return{};let{name:n,description:i,supported:s,action:d,forced:m,standard:v}=t;return{[r]:{name:n,number:r,description:i,supported:s,action:d,forced:m,standard:v}}},ym=function(r,e){let t=e.find(({name:n})=>lm.constants.signals[n]===r);return t!==void 0?t:e.find(n=>n.number===r)},Im=vm();le.signalsByNumber=Im});var So=R((py,Oo)=>{"use strict";var{signalsByName:Rm}=bo(),Em=({timedOut:r,timeout:e,errorCode:t,signal:n,signalDescription:i,exitCode:s,isCanceled:d})=>r?`timed out after ${e} milliseconds`:d?"was canceled":t!==void 0?`failed with ${t}`:n!==void 0?`was killed with ${n} (${i})`:s!==void 0?`failed with exit code ${s}`:"failed",bm=({stdout:r,stderr:e,all:t,error:n,signal:i,exitCode:s,command:d,escapedCommand:m,timedOut:v,isCanceled:h,killed:I,parsed:{options:{timeout:A}}})=>{s=s===null?void 0:s,i=i===null?void 0:i;let j=i===void 0?void 0:Rm[i].description,ar=n&&n.code,dr=`Command ${Em({timedOut:v,timeout:A,errorCode:ar,signal:i,signalDescription:j,exitCode:s,isCanceled:h})}: ${d}`,re=Object.prototype.toString.call(n)==="[object Error]",$e=re?`${dr}
${n.message}`:dr,Ge=[$e,e,r].filter(Boolean).join(`
`);return re?(n.originalMessage=n.message,n.message=Ge):n=new Error(Ge),n.shortMessage=$e,n.command=d,n.escapedCommand=m,n.exitCode=s,n.signal=i,n.signalDescription=j,n.stdout=r,n.stderr=e,t!==void 0&&(n.all=t),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=Boolean(v),n.isCanceled=h,n.killed=I&&!v,n};Oo.exports=bm});var To=R((dy,Gn)=>{"use strict";var vt=["stdin","stdout","stderr"],Om=r=>vt.some(e=>r[e]!==void 0),Ao=r=>{if(!r)return;let{stdio:e}=r;if(e===void 0)return vt.map(n=>r[n]);if(Om(r))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${vt.map(n=>`\`${n}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let t=Math.max(e.length,vt.length);return Array.from({length:t},(n,i)=>e[i])};Gn.exports=Ao;Gn.exports.node=r=>{let e=Ao(r);return e==="ipc"?"ipc":e===void 0||typeof e=="string"?[e,e,e,"ipc"]:e.includes("ipc")?e:[...e,"ipc"]}});var _o=R((my,gt)=>{gt.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&gt.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&gt.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var wo=R((hy,me)=>{var x=global.process,zr=function(r){return r&&typeof r=="object"&&typeof r.removeListener=="function"&&typeof r.emit=="function"&&typeof r.reallyExit=="function"&&typeof r.listeners=="function"&&typeof r.kill=="function"&&typeof r.pid=="number"&&typeof r.on=="function"};zr(x)?(Fo=require("assert"),pe=_o(),Wo=/^win/i.test(x.platform),xe=require("events"),typeof xe!="function"&&(xe=xe.EventEmitter),x.__signal_exit_emitter__?$=x.__signal_exit_emitter__:($=x.__signal_exit_emitter__=new xe,$.count=0,$.emitted={}),$.infinite||($.setMaxListeners(1/0),$.infinite=!0),me.exports=function(r,e){if(!zr(global.process))return function(){};Fo.equal(typeof r,"function","a callback must be provided for exit handler"),de===!1&&Vn();var t="exit";e&&e.alwaysLast&&(t="afterexit");var n=function(){$.removeListener(t,r),$.listeners("exit").length===0&&$.listeners("afterexit").length===0&&yt()};return $.on(t,r),n},yt=function(){!de||!zr(global.process)||(de=!1,pe.forEach(function(e){try{x.removeListener(e,It[e])}catch{}}),x.emit=Rt,x.reallyExit=zn,$.count-=1)},me.exports.unload=yt,Hr=function(e,t,n){$.emitted[e]||($.emitted[e]=!0,$.emit(e,t,n))},It={},pe.forEach(function(r){It[r]=function(){if(!!zr(global.process)){var t=x.listeners(r);t.length===$.count&&(yt(),Hr("exit",null,r),Hr("afterexit",null,r),Wo&&r==="SIGHUP"&&(r="SIGINT"),x.kill(x.pid,r))}}}),me.exports.signals=function(){return pe},de=!1,Vn=function(){de||!zr(global.process)||(de=!0,$.count+=1,pe=pe.filter(function(e){try{return x.on(e,It[e]),!0}catch{return!1}}),x.emit=Ko,x.reallyExit=qo)},me.exports.load=Vn,zn=x.reallyExit,qo=function(e){!zr(global.process)||(x.exitCode=e||0,Hr("exit",x.exitCode,null),Hr("afterexit",x.exitCode,null),zn.call(x,x.exitCode))},Rt=x.emit,Ko=function(e,t){if(e==="exit"&&zr(global.process)){t!==void 0&&(x.exitCode=t);var n=Rt.apply(this,arguments);return Hr("exit",x.exitCode,null),Hr("afterexit",x.exitCode,null),n}else return Rt.apply(this,arguments)}):me.exports=function(){return function(){}};var Fo,pe,Wo,xe,$,yt,Hr,It,de,Vn,zn,qo,Rt,Ko});var Mo=R((vy,Uo)=>{"use strict";var Sm=require("os"),Am=wo(),Tm=1e3*5,_m=(r,e="SIGTERM",t={})=>{let n=r(e);return Fm(r,e,t,n),n},Fm=(r,e,t,n)=>{if(!Wm(e,t,n))return;let i=Km(t),s=setTimeout(()=>{r("SIGKILL")},i);s.unref&&s.unref()},Wm=(r,{forceKillAfterTimeout:e},t)=>qm(r)&&e!==!1&&t,qm=r=>r===Sm.constants.signals.SIGTERM||typeof r=="string"&&r.toUpperCase()==="SIGTERM",Km=({forceKillAfterTimeout:r=!0})=>{if(r===!0)return Tm;if(!Number.isFinite(r)||r<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${r}\` (${typeof r})`);return r},wm=(r,e)=>{r.kill()&&(e.isCanceled=!0)},Um=(r,e,t)=>{r.kill(e),t(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},Mm=(r,{timeout:e,killSignal:t="SIGTERM"},n)=>{if(e===0||e===void 0)return n;let i,s=new Promise((m,v)=>{i=setTimeout(()=>{Um(r,t,v)},e)}),d=n.finally(()=>{clearTimeout(i)});return Promise.race([s,d])},km=({timeout:r})=>{if(r!==void 0&&(!Number.isFinite(r)||r<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${r}\` (${typeof r})`)},xm=async(r,{cleanup:e,detached:t},n)=>{if(!e||t)return n;let i=Am(()=>{r.kill()});return n.finally(()=>{i()})};Uo.exports={spawnedKill:_m,spawnedCancel:wm,setupTimeout:Mm,validateTimeout:km,setExitHandler:xm}});var xo=R((gy,ko)=>{"use strict";var gr=r=>r!==null&&typeof r=="object"&&typeof r.pipe=="function";gr.writable=r=>gr(r)&&r.writable!==!1&&typeof r._write=="function"&&typeof r._writableState=="object";gr.readable=r=>gr(r)&&r.readable!==!1&&typeof r._read=="function"&&typeof r._readableState=="object";gr.duplex=r=>gr.writable(r)&&gr.readable(r);gr.transform=r=>gr.duplex(r)&&typeof r._transform=="function";ko.exports=gr});var No=R((yy,Po)=>{"use strict";var{PassThrough:Pm}=require("stream");Po.exports=r=>{r={...r};let{array:e}=r,{encoding:t}=r,n=t==="buffer",i=!1;e?i=!(t||n):t=t||"utf8",n&&(t=null);let s=new Pm({objectMode:i});t&&s.setEncoding(t);let d=0,m=[];return s.on("data",v=>{m.push(v),i?d=m.length:d+=v.length}),s.getBufferedValue=()=>e?m:n?Buffer.concat(m,d):m.join(""),s.getBufferedLength=()=>d,s}});var Co=R((Iy,Pe)=>{"use strict";var{constants:Nm}=require("buffer"),Cm=require("stream"),{promisify:Lm}=require("util"),jm=No(),Dm=Lm(Cm.pipeline),Et=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function Hn(r,e){if(!r)throw new Error("Expected a stream");e={maxBuffer:1/0,...e};let{maxBuffer:t}=e,n=jm(e);return await new Promise((i,s)=>{let d=m=>{m&&n.getBufferedLength()<=Nm.MAX_LENGTH&&(m.bufferedData=n.getBufferedValue()),s(m)};(async()=>{try{await Dm(r,n),i()}catch(m){d(m)}})(),n.on("data",()=>{n.getBufferedLength()>t&&d(new Et)})}),n.getBufferedValue()}Pe.exports=Hn;Pe.exports.buffer=(r,e)=>Hn(r,{...e,encoding:"buffer"});Pe.exports.array=(r,e)=>Hn(r,{...e,array:!0});Pe.exports.MaxBufferError=Et});var jo=R((Ry,Lo)=>{"use strict";var{PassThrough:Bm}=require("stream");Lo.exports=function(){var r=[],e=new Bm({objectMode:!0});return e.setMaxListeners(0),e.add=t,e.isEmpty=n,e.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(t),e;function t(s){return Array.isArray(s)?(s.forEach(t),this):(r.push(s),s.once("end",i.bind(null,s)),s.once("error",e.emit.bind(e,"error")),s.pipe(e,{end:!1}),this)}function n(){return r.length==0}function i(s){r=r.filter(function(d){return d!==s}),!r.length&&e.readable&&e.end()}}});var Go=R((Ey,$o)=>{"use strict";var Bo=xo(),Do=Co(),$m=jo(),Gm=(r,e)=>{e===void 0||r.stdin===void 0||(Bo(e)?e.pipe(r.stdin):r.stdin.end(e))},Vm=(r,{all:e})=>{if(!e||!r.stdout&&!r.stderr)return;let t=$m();return r.stdout&&t.add(r.stdout),r.stderr&&t.add(r.stderr),t},Jn=async(r,e)=>{if(!!r){r.destroy();try{return await e}catch(t){return t.bufferedData}}},Xn=(r,{encoding:e,buffer:t,maxBuffer:n})=>{if(!(!r||!t))return e?Do(r,{encoding:e,maxBuffer:n}):Do.buffer(r,{maxBuffer:n})},zm=async({stdout:r,stderr:e,all:t},{encoding:n,buffer:i,maxBuffer:s},d)=>{let m=Xn(r,{encoding:n,buffer:i,maxBuffer:s}),v=Xn(e,{encoding:n,buffer:i,maxBuffer:s}),h=Xn(t,{encoding:n,buffer:i,maxBuffer:s*2});try{return await Promise.all([d,m,v,h])}catch(I){return Promise.all([{error:I,signal:I.signal,timedOut:I.timedOut},Jn(r,m),Jn(e,v),Jn(t,h)])}},Hm=({input:r})=>{if(Bo(r))throw new TypeError("The `input` option cannot be a stream in sync mode")};$o.exports={handleInput:Gm,makeAllStream:Vm,getSpawnedResult:zm,validateInputSync:Hm}});var zo=R((by,Vo)=>{"use strict";var Jm=(async()=>{})().constructor.prototype,Xm=["then","catch","finally"].map(r=>[r,Reflect.getOwnPropertyDescriptor(Jm,r)]),Qm=(r,e)=>{for(let[t,n]of Xm){let i=typeof e=="function"?(...s)=>Reflect.apply(n.value,e(),s):n.value.bind(e);Reflect.defineProperty(r,t,{...n,value:i})}return r},Ym=r=>new Promise((e,t)=>{r.on("exit",(n,i)=>{e({exitCode:n,signal:i})}),r.on("error",n=>{t(n)}),r.stdin&&r.stdin.on("error",n=>{t(n)})});Vo.exports={mergePromise:Qm,getSpawnedPromise:Ym}});var Xo=R((Oy,Jo)=>{"use strict";var Ho=(r,e=[])=>Array.isArray(e)?[r,...e]:[r],Zm=/^[\w.-]+$/,rh=/"/g,eh=r=>typeof r!="string"||Zm.test(r)?r:`"${r.replace(rh,'\\"')}"`,th=(r,e)=>Ho(r,e).join(" "),nh=(r,e)=>Ho(r,e).map(t=>eh(t)).join(" "),ah=/ +/g,ih=r=>{let e=[];for(let t of r.trim().split(ah)){let n=e[e.length-1];n&&n.endsWith("\\")?e[e.length-1]=`${n.slice(0,-1)} ${t}`:e.push(t)}return e};Jo.exports={joinCommand:th,getEscapedCommand:nh,parseCommand:ih}});var nu=R((Sy,he)=>{"use strict";var oh=require("path"),Qn=require("child_process"),uh=oo(),ch=co(),sh=lo(),fh=vo(),bt=So(),Yo=To(),{spawnedKill:lh,spawnedCancel:ph,setupTimeout:dh,validateTimeout:mh,setExitHandler:hh}=Mo(),{handleInput:vh,getSpawnedResult:gh,makeAllStream:yh,validateInputSync:Ih}=Go(),{mergePromise:Qo,getSpawnedPromise:Rh}=zo(),{joinCommand:Zo,parseCommand:ru,getEscapedCommand:eu}=Xo(),Eh=1e3*1e3*100,bh=({env:r,extendEnv:e,preferLocal:t,localDir:n,execPath:i})=>{let s=e?{...process.env,...r}:r;return t?sh.env({env:s,cwd:n,execPath:i}):s},tu=(r,e,t={})=>{let n=uh._parse(r,e,t);return r=n.command,e=n.args,t=n.options,t={maxBuffer:Eh,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:t.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...t},t.env=bh(t),t.stdio=Yo(t),process.platform==="win32"&&oh.basename(r,".exe")==="cmd"&&e.unshift("/q"),{file:r,args:e,options:t,parsed:n}},Ne=(r,e,t)=>typeof e!="string"&&!Buffer.isBuffer(e)?t===void 0?void 0:"":r.stripFinalNewline?ch(e):e,Ot=(r,e,t)=>{let n=tu(r,e,t),i=Zo(r,e),s=eu(r,e);mh(n.options);let d;try{d=Qn.spawn(n.file,n.args,n.options)}catch(ar){let ir=new Qn.ChildProcess,dr=Promise.reject(bt({error:ar,stdout:"",stderr:"",all:"",command:i,escapedCommand:s,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return Qo(ir,dr)}let m=Rh(d),v=dh(d,n.options,m),h=hh(d,n.options,v),I={isCanceled:!1};d.kill=lh.bind(null,d.kill.bind(d)),d.cancel=ph.bind(null,d,I);let j=fh(async()=>{let[{error:ar,exitCode:ir,signal:dr,timedOut:re},$e,Ge,Du]=await gh(d,n.options,h),ga=Ne(n.options,$e),ya=Ne(n.options,Ge),Ia=Ne(n.options,Du);if(ar||ir!==0||dr!==null){let Ra=bt({error:ar,exitCode:ir,signal:dr,stdout:ga,stderr:ya,all:Ia,command:i,escapedCommand:s,parsed:n,timedOut:re,isCanceled:I.isCanceled,killed:d.killed});if(!n.options.reject)return Ra;throw Ra}return{command:i,escapedCommand:s,exitCode:0,stdout:ga,stderr:ya,all:Ia,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return vh(d,n.options.input),d.all=yh(d,n.options),Qo(d,j)};he.exports=Ot;he.exports.sync=(r,e,t)=>{let n=tu(r,e,t),i=Zo(r,e),s=eu(r,e);Ih(n.options);let d;try{d=Qn.spawnSync(n.file,n.args,n.options)}catch(h){throw bt({error:h,stdout:"",stderr:"",all:"",command:i,escapedCommand:s,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}let m=Ne(n.options,d.stdout,d.error),v=Ne(n.options,d.stderr,d.error);if(d.error||d.status!==0||d.signal!==null){let h=bt({stdout:m,stderr:v,error:d.error,signal:d.signal,exitCode:d.status,command:i,escapedCommand:s,parsed:n,timedOut:d.error&&d.error.code==="ETIMEDOUT",isCanceled:!1,killed:d.signal!==null});if(!n.options.reject)return h;throw h}return{command:i,escapedCommand:s,exitCode:0,stdout:m,stderr:v,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};he.exports.command=(r,e)=>{let[t,...n]=ru(r);return Ot(t,n,e)};he.exports.commandSync=(r,e)=>{let[t,...n]=ru(r);return Ot.sync(t,n,e)};he.exports.node=(r,e,t={})=>{e&&!Array.isArray(e)&&typeof e=="object"&&(t=e,e=[]);let n=Yo.node(t),i=process.execArgv.filter(m=>!m.startsWith("--inspect")),{nodePath:s=process.execPath,nodeOptions:d=i}=t;return Ot(s,[...d,r,...Array.isArray(e)?e:[]],{...t,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var ge=R(p=>{"use strict";var Ah=p&&p.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Th=p&&p.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),pu=p&&p.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Ah(e,r,t);return Th(e,r),e};Object.defineProperty(p,"__esModule",{value:!0});p.traverseArray=p.traverseArrayWithIndex=p.traverseReadonlyArrayWithIndex=p.traverseReadonlyNonEmptyArrayWithIndex=p.ApT=p.apSW=p.apS=p.Do=p.bindW=p.bind=p.let=p.bindTo=p.Choice=p.Strong=p.Category=p.Profunctor=p.chainFirstW=p.chainFirst=p.Monad=p.Chain=p.Applicative=p.apSecondW=p.apSecond=p.apFirstW=p.apFirst=p.Apply=p.Pointed=p.flap=p.Functor=p.URI=p.right=p.left=p.second=p.first=p.id=p.promap=p.compose=p.flatten=p.flattenW=p.chain=p.chainW=p.of=p.ap=p.apW=p.map=p.asksReader=p.asksReaderW=p.local=p.asks=p.ask=void 0;p.getMonoid=p.getSemigroup=p.reader=p.sequenceArray=void 0;var _h=Fr(),At=vr(),du=cr(),St=pu(we()),lr=W(),Zn=Z(),ve=pu(or()),Fh=function(){return lr.identity};p.ask=Fh;p.asks=lr.identity;var Wh=function(r){return function(e){return function(t){return e(r(t))}}};p.local=Wh;var qh=function(r){return function(e){return r(e)(e)}};p.asksReaderW=qh;p.asksReader=p.asksReaderW;var Sr=function(r,e){return(0,lr.pipe)(r,(0,p.map)(e))},Ce=function(r,e){return(0,lr.pipe)(r,(0,p.ap)(e))},ra=function(r,e){return(0,lr.pipe)(r,(0,p.chain)(e))},mu=function(r,e){return(0,lr.pipe)(r,(0,p.compose)(e))},Tt=function(r,e,t){return(0,lr.pipe)(r,(0,p.promap)(e,t))},Kh=function(r){return function(e){return function(t){return r(e(t))}}};p.map=Kh;var wh=function(r){return function(e){return function(t){return e(t)(r(t))}}};p.apW=wh;p.ap=p.apW;p.of=lr.constant;var Uh=function(r){return function(e){return function(t){return r(e(t))(t)}}};p.chainW=Uh;p.chain=p.chainW;p.flattenW=(0,p.chainW)(lr.identity);p.flatten=p.flattenW;var Mh=function(r){return function(e){return(0,lr.flow)(r,e)}};p.compose=Mh;var kh=function(r,e){return function(t){return function(n){return e(t(r(n)))}}};p.promap=kh;var xh=function(){return lr.identity};p.id=xh;var Ph=function(r){return function(e){var t=e[0],n=e[1];return[r(t),n]}};p.first=Ph;var Nh=function(r){return function(e){var t=e[0],n=e[1];return[t,r(n)]}};p.second=Nh;var Ch=function(r){return St.fold(function(e){return ve.left(r(e))},St.right)};p.left=Ch;var Lh=function(r){return St.fold(St.left,function(e){return ve.right(r(e))})};p.right=Lh;p.URI="Reader";p.Functor={URI:p.URI,map:Sr};p.flap=(0,Zn.flap)(p.Functor);p.Pointed={URI:p.URI,of:p.of};p.Apply={URI:p.URI,map:Sr,ap:Ce};p.apFirst=(0,At.apFirst)(p.Apply);p.apFirstW=p.apFirst;p.apSecond=(0,At.apSecond)(p.Apply);p.apSecondW=p.apSecond;p.Applicative={URI:p.URI,map:Sr,ap:Ce,of:p.of};p.Chain={URI:p.URI,map:Sr,ap:Ce,chain:ra};p.Monad={URI:p.URI,map:Sr,of:p.of,ap:Ce,chain:ra};p.chainFirst=(0,du.chainFirst)(p.Chain);p.chainFirstW=p.chainFirst;p.Profunctor={URI:p.URI,map:Sr,promap:Tt};p.Category={URI:p.URI,compose:mu,id:p.id};p.Strong={URI:p.URI,map:Sr,promap:Tt,first:p.first,second:p.second};p.Choice={URI:p.URI,map:Sr,promap:Tt,left:p.left,right:p.right};p.bindTo=(0,Zn.bindTo)(p.Functor);var jh=(0,Zn.let)(p.Functor);p.let=jh;p.bind=(0,du.bind)(p.Chain);p.bindW=p.bind;p.Do=(0,p.of)(ve.emptyRecord);p.apS=(0,At.apS)(p.Apply);p.apSW=p.apS;p.ApT=(0,p.of)(ve.emptyReadonlyArray);var Dh=function(r){return function(e){return function(t){for(var n=[r(0,ve.head(e))(t)],i=1;i<e.length;i++)n.push(r(i,e[i])(t));return n}}};p.traverseReadonlyNonEmptyArrayWithIndex=Dh;var Bh=function(r){var e=(0,p.traverseReadonlyNonEmptyArrayWithIndex)(r);return function(t){return ve.isNonEmpty(t)?e(t):p.ApT}};p.traverseReadonlyArrayWithIndex=Bh;p.traverseArrayWithIndex=p.traverseReadonlyArrayWithIndex;var $h=function(r){return(0,p.traverseReadonlyArrayWithIndex)(function(e,t){return r(t)})};p.traverseArray=$h;p.sequenceArray=(0,p.traverseArray)(lr.identity);p.reader={URI:p.URI,map:Sr,of:p.of,ap:Ce,chain:ra,promap:Tt,compose:mu,id:p.id,first:p.first,second:p.second,left:p.left,right:p.right};p.getSemigroup=(0,At.getApplySemigroup)(p.Apply);p.getMonoid=(0,_h.getApplicativeMonoid)(p.Applicative)});var ia=R(G=>{"use strict";var ev=G&&G.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),tv=G&&G.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),nv=G&&G.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ev(e,r,t);return tv(e,r),e};Object.defineProperty(G,"__esModule",{value:!0});G.chainFirstReaderK=G.chainReaderK=G.fromReaderK=G.asks=G.ask=void 0;var av=cr(),Ru=W(),iv=nv(ge());function ov(r){return function(){return r.fromReader(iv.ask())}}G.ask=ov;function uv(r){return r.fromReader}G.asks=uv;function aa(r){return function(e){return(0,Ru.flow)(e,r.fromReader)}}G.fromReaderK=aa;function cv(r,e){var t=aa(r);return function(n){return function(i){return e.chain(i,t(n))}}}G.chainReaderK=cv;function sv(r,e){return(0,Ru.flow)(aa(r),(0,av.chainFirst)(e))}G.chainFirstReaderK=sv});var Tu=R(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.getReaderM=J.fromNaturalTransformation=J.fromReader=J.chain=J.ap=J.map=J.of=void 0;var ye=W();function Eu(r){return function(e){return function(){return r.of(e)}}}J.of=Eu;function bu(r){return function(e){return function(t){return function(n){return r.map(t(n),e)}}}}J.map=bu;function Ou(r){return function(e){return function(t){return function(n){return r.ap(t(n),e(n))}}}}J.ap=Ou;function Su(r){return function(e){return function(t){return function(n){return r.chain(t(n),function(i){return e(i)(n)})}}}}J.chain=Su;function Au(r){return function(e){return(0,ye.flow)(e,r.of)}}J.fromReader=Au;function fv(r){return function(e){return(0,ye.flow)(e,r)}}J.fromNaturalTransformation=fv;function lv(r){var e=Ou(r),t=bu(r),n=Su(r);return{map:function(i,s){return(0,ye.pipe)(i,t(s))},ap:function(i,s){return(0,ye.pipe)(i,e(s))},of:Eu(r),chain:function(i,s){return(0,ye.pipe)(i,n(s))},ask:function(){return r.of},asks:function(i){return(0,ye.flow)(i,r.of)},local:function(i,s){return function(d){return i(s(d))}},fromReader:Au(r),fromM:function(i){return function(){return i}}}}J.getReaderM=lv});var Fu=R(f=>{"use strict";var pv=f&&f.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),dv=f&&f.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Kt=f&&f.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&pv(e,r,t);return dv(e,r),e};Object.defineProperty(f,"__esModule",{value:!0});f.fromTaskK=f.FromTask=f.chainFirstReaderIOK=f.chainFirstReaderIOKW=f.chainReaderIOK=f.chainReaderIOKW=f.fromReaderIOK=f.chainFirstReaderKW=f.chainFirstReaderK=f.chainReaderKW=f.chainReaderK=f.fromReaderK=f.asks=f.ask=f.FromReader=f.chainFirstIOK=f.chainIOK=f.fromIOK=f.FromIO=f.chainFirstW=f.chainFirst=f.MonadTask=f.MonadIO=f.Monad=f.Chain=f.ApplicativeSeq=f.ApplySeq=f.ApplicativePar=f.apSecond=f.apFirst=f.ApplyPar=f.Pointed=f.flap=f.Functor=f.URI=f.flatten=f.flattenW=f.chainW=f.chain=f.of=f.apW=f.ap=f.map=f.asksReaderTask=f.asksReaderTaskW=f.local=f.fromReaderIO=f.fromIO=f.fromTask=f.fromReader=void 0;f.run=f.getMonoid=f.getSemigroup=f.readerTaskSeq=f.readerTask=f.sequenceSeqArray=f.traverseSeqArray=f.traverseSeqArrayWithIndex=f.sequenceArray=f.traverseArray=f.traverseArrayWithIndex=f.traverseReadonlyArrayWithIndexSeq=f.traverseReadonlyNonEmptyArrayWithIndexSeq=f.traverseReadonlyArrayWithIndex=f.traverseReadonlyNonEmptyArrayWithIndex=f.ApT=f.apSW=f.apS=f.bindW=f.bind=f.let=f.bindTo=f.Do=f.chainFirstTaskK=f.chainTaskK=void 0;var mv=Fr(),wt=vr(),_u=cr(),oa=Ue(),je=ia(),ua=at(),nr=W(),ca=Z(),Ut=Kt(or()),xr=Kt(ge()),De=Kt(Tu()),Tr=Kt(ot());f.fromReader=De.fromReader(Tr.Pointed);f.fromTask=xr.of;f.fromIO=(0,nr.flow)(Tr.fromIO,f.fromTask);f.fromReaderIO=xr.map(Tr.fromIO);f.local=xr.local;f.asksReaderTaskW=xr.asksReaderW;f.asksReaderTask=f.asksReaderTaskW;var hr=function(r,e){return(0,nr.pipe)(r,(0,f.map)(e))},Qr=function(r,e){return(0,nr.pipe)(r,(0,f.ap)(e))},sa=function(r,e){return(0,nr.pipe)(r,(0,f.chain)(function(t){return(0,nr.pipe)(e,(0,f.map)(t))}))},Ie=function(r,e){return(0,nr.pipe)(r,(0,f.chain)(e))};f.map=De.map(Tr.Functor);f.ap=De.ap(Tr.ApplyPar);f.apW=f.ap;f.of=De.of(Tr.Pointed);f.chain=De.chain(Tr.Monad);f.chainW=f.chain;f.flattenW=(0,f.chainW)(nr.identity);f.flatten=f.flattenW;f.URI="ReaderTask";f.Functor={URI:f.URI,map:hr};f.flap=(0,ca.flap)(f.Functor);f.Pointed={URI:f.URI,of:f.of};f.ApplyPar={URI:f.URI,map:hr,ap:Qr};f.apFirst=(0,wt.apFirst)(f.ApplyPar);f.apSecond=(0,wt.apSecond)(f.ApplyPar);f.ApplicativePar={URI:f.URI,map:hr,ap:Qr,of:f.of};f.ApplySeq={URI:f.URI,map:hr,ap:sa};f.ApplicativeSeq={URI:f.URI,map:hr,ap:sa,of:f.of};f.Chain={URI:f.URI,map:hr,ap:Qr,chain:Ie};f.Monad={URI:f.URI,map:hr,of:f.of,ap:Qr,chain:Ie};f.MonadIO={URI:f.URI,map:hr,of:f.of,ap:Qr,chain:Ie,fromIO:f.fromIO};f.MonadTask={URI:f.URI,map:hr,of:f.of,ap:Qr,chain:Ie,fromIO:f.fromIO,fromTask:f.fromTask};f.chainFirst=(0,_u.chainFirst)(f.Chain);f.chainFirstW=f.chainFirst;f.FromIO={URI:f.URI,fromIO:f.fromIO};f.fromIOK=(0,oa.fromIOK)(f.FromIO);f.chainIOK=(0,oa.chainIOK)(f.FromIO,f.Chain);f.chainFirstIOK=(0,oa.chainFirstIOK)(f.FromIO,f.Chain);f.FromReader={URI:f.URI,fromReader:f.fromReader};f.ask=(0,je.ask)(f.FromReader);f.asks=(0,je.asks)(f.FromReader);f.fromReaderK=(0,je.fromReaderK)(f.FromReader);f.chainReaderK=(0,je.chainReaderK)(f.FromReader,f.Chain);f.chainReaderKW=f.chainReaderK;f.chainFirstReaderK=(0,je.chainFirstReaderK)(f.FromReader,f.Chain);f.chainFirstReaderKW=f.chainFirstReaderK;var hv=function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,f.fromReaderIO)(r.apply(void 0,e))}};f.fromReaderIOK=hv;var vv=function(r){return(0,f.chainW)((0,f.fromReaderIOK)(r))};f.chainReaderIOKW=vv;f.chainReaderIOK=f.chainReaderIOKW;var gv=function(r){return(0,f.chainFirstW)((0,f.fromReaderIOK)(r))};f.chainFirstReaderIOKW=gv;f.chainFirstReaderIOK=f.chainFirstReaderIOKW;f.FromTask={URI:f.URI,fromIO:f.fromIO,fromTask:f.fromTask};f.fromTaskK=(0,ua.fromTaskK)(f.FromTask);f.chainTaskK=(0,ua.chainTaskK)(f.FromTask,f.Chain);f.chainFirstTaskK=(0,ua.chainFirstTaskK)(f.FromTask,f.Chain);f.Do=(0,f.of)(Ut.emptyRecord);f.bindTo=(0,ca.bindTo)(f.Functor);var yv=(0,ca.let)(f.Functor);f.let=yv;f.bind=(0,_u.bind)(f.Chain);f.bindW=f.bind;f.apS=(0,wt.apS)(f.ApplyPar);f.apSW=f.apS;f.ApT=(0,f.of)(Ut.emptyReadonlyArray);var Iv=function(r){return(0,nr.flow)(xr.traverseReadonlyNonEmptyArrayWithIndex(r),xr.map(Tr.traverseReadonlyNonEmptyArrayWithIndex(nr.SK)))};f.traverseReadonlyNonEmptyArrayWithIndex=Iv;var Rv=function(r){var e=(0,f.traverseReadonlyNonEmptyArrayWithIndex)(r);return function(t){return Ut.isNonEmpty(t)?e(t):f.ApT}};f.traverseReadonlyArrayWithIndex=Rv;var Ev=function(r){return(0,nr.flow)(xr.traverseReadonlyNonEmptyArrayWithIndex(r),xr.map(Tr.traverseReadonlyNonEmptyArrayWithIndexSeq(nr.SK)))};f.traverseReadonlyNonEmptyArrayWithIndexSeq=Ev;var bv=function(r){var e=(0,f.traverseReadonlyNonEmptyArrayWithIndexSeq)(r);return function(t){return Ut.isNonEmpty(t)?e(t):f.ApT}};f.traverseReadonlyArrayWithIndexSeq=bv;f.traverseArrayWithIndex=f.traverseReadonlyArrayWithIndex;var Ov=function(r){return(0,f.traverseReadonlyArrayWithIndex)(function(e,t){return r(t)})};f.traverseArray=Ov;f.sequenceArray=(0,f.traverseArray)(nr.identity);f.traverseSeqArrayWithIndex=f.traverseReadonlyArrayWithIndexSeq;var Sv=function(r){return(0,f.traverseReadonlyArrayWithIndexSeq)(function(e,t){return r(t)})};f.traverseSeqArray=Sv;f.sequenceSeqArray=(0,f.traverseSeqArray)(nr.identity);f.readerTask={URI:f.URI,map:hr,of:f.of,ap:Qr,chain:Ie,fromIO:f.fromIO,fromTask:f.fromTask};f.readerTaskSeq={URI:f.URI,map:hr,of:f.of,ap:sa,chain:Ie,fromIO:f.fromIO,fromTask:f.fromTask};f.getSemigroup=(0,wt.getApplySemigroup)(f.ApplySeq);f.getMonoid=(0,mv.getApplicativeMonoid)(f.ApplicativeSeq);function Av(r,e){return r(e)()}f.run=Av});var Mu=R(a=>{"use strict";var Tv=a&&a.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_v=a&&a.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Yr=a&&a.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Tv(e,r,t);return _v(e,r),e};Object.defineProperty(a,"__esModule",{value:!0});a.chainReaderEitherKW=a.fromReaderEitherK=a.chainFirstTaskEitherK=a.chainFirstTaskEitherKW=a.chainTaskEitherK=a.chainTaskEitherKW=a.fromTaskEitherK=a.chainIOEitherK=a.chainIOEitherKW=a.fromIOEitherK=a.swap=a.orLeft=a.orElseFirstW=a.orElseFirst=a.orElseW=a.orElse=a.asksReaderTaskEither=a.asksReaderTaskEitherW=a.local=a.chainNullableK=a.fromNullableK=a.fromNullable=a.toUnion=a.getOrElseW=a.getOrElse=a.foldW=a.matchEW=a.fold=a.matchE=a.matchW=a.match=a.fromReaderEither=a.fromIOEither=a.fromTask=a.fromIO=a.fromReader=a.fromEither=a.leftReaderIO=a.rightReaderIO=a.leftIO=a.rightIO=a.leftReaderTask=a.rightReaderTask=a.leftReader=a.rightReader=a.leftTask=a.rightTask=a.right=a.left=a.fromTaskEither=void 0;a.fromReaderTaskK=a.chainFirstReaderKW=a.chainFirstReaderK=a.chainReaderKW=a.chainReaderK=a.fromReaderK=a.asks=a.ask=a.FromReader=a.Alt=a.Bifunctor=a.chainFirstW=a.chainFirst=a.MonadThrow=a.MonadTask=a.MonadIO=a.Monad=a.Chain=a.ApplicativeSeq=a.ApplySeq=a.ApplicativePar=a.apSecondW=a.apSecond=a.apFirstW=a.apFirst=a.ApplyPar=a.Pointed=a.flap=a.Functor=a.getAltReaderTaskValidation=a.getApplicativeReaderTaskValidation=a.getFilterable=a.getCompactable=a.URI=a.throwError=a.altW=a.alt=a.flatten=a.flattenW=a.chainW=a.chain=a.of=a.apW=a.ap=a.mapLeft=a.bimap=a.map=a.chainFirstReaderEitherK=a.chainFirstReaderEitherKW=a.chainReaderEitherK=void 0;a.readerTaskEither=a.sequenceSeqArray=a.traverseSeqArray=a.traverseSeqArrayWithIndex=a.sequenceArray=a.traverseArray=a.traverseArrayWithIndex=a.traverseReadonlyArrayWithIndexSeq=a.traverseReadonlyNonEmptyArrayWithIndexSeq=a.traverseReadonlyArrayWithIndex=a.traverseReadonlyNonEmptyArrayWithIndex=a.ApT=a.apSW=a.apS=a.bindW=a.bind=a.let=a.bindTo=a.Do=a.bracketW=a.bracket=a.chainFirstTaskK=a.chainTaskK=a.fromTaskK=a.FromTask=a.chainFirstIOK=a.chainIOK=a.fromIOK=a.FromIO=a.fromEitherK=a.filterOrElseW=a.filterOrElse=a.fromPredicate=a.chainFirstEitherKW=a.chainFirstEitherK=a.chainEitherKW=a.chainEitherK=a.chainOptionK=a.fromOptionK=a.fromOption=a.FromEither=a.chainFirstReaderIOK=a.chainFirstReaderIOKW=a.chainReaderIOK=a.chainReaderIOKW=a.fromReaderIOK=a.chainFirstReaderTaskK=a.chainFirstReaderTaskKW=a.chainReaderTaskK=a.chainReaderTaskKW=void 0;a.run=a.getReaderTaskValidation=a.getSemigroup=a.getApplyMonoid=a.getApplySemigroup=a.readerTaskEitherSeq=void 0;var Fv=Fr(),Re=vr(),qu=cr(),Wu=et(),kt=Yr(we()),L=Yr(In()),Mt=bn(),Nr=Se(),fa=Ue(),Be=ia(),la=at(),F=W(),pa=Z(),xt=Yr(or()),Pr=Yr(ge()),q=Yr(Fu()),Wv=Yr(ot()),Y=Yr(br());a.fromTaskEither=Pr.of;a.left=L.left(q.Pointed);a.right=L.right(q.Pointed);a.rightTask=(0,F.flow)(Y.rightTask,a.fromTaskEither);a.leftTask=(0,F.flow)(Y.leftTask,a.fromTaskEither);var qv=function(r){return(0,F.flow)(r,Y.right)};a.rightReader=qv;var Kv=function(r){return(0,F.flow)(r,Y.left)};a.leftReader=Kv;a.rightReaderTask=L.rightF(q.Functor);a.leftReaderTask=L.leftF(q.Functor);a.rightIO=(0,F.flow)(Y.rightIO,a.fromTaskEither);a.leftIO=(0,F.flow)(Y.leftIO,a.fromTaskEither);var wv=function(r){return(0,F.flow)(r,Y.rightIO)};a.rightReaderIO=wv;var Uv=function(r){return(0,F.flow)(r,Y.leftIO)};a.leftReaderIO=Uv;a.fromEither=q.of;a.fromReader=a.rightReader;a.fromIO=a.rightIO;a.fromTask=a.rightTask;a.fromIOEither=(0,F.flow)(Y.fromIOEither,a.fromTaskEither);var Mv=function(r){return(0,F.flow)(r,Y.fromEither)};a.fromReaderEither=Mv;a.match=L.match(q.Functor);a.matchW=a.match;a.matchE=L.matchE(q.Chain);a.fold=a.matchE;a.matchEW=a.matchE;a.foldW=a.matchEW;a.getOrElse=L.getOrElse(q.Monad);a.getOrElseW=a.getOrElse;a.toUnion=L.toUnion(q.Functor);a.fromNullable=L.fromNullable(q.Pointed);a.fromNullableK=L.fromNullableK(q.Pointed);a.chainNullableK=L.chainNullableK(q.Monad);a.local=Pr.local;a.asksReaderTaskEitherW=Pr.asksReaderW;a.asksReaderTaskEither=a.asksReaderTaskEitherW;a.orElse=L.orElse(q.Monad);a.orElseW=a.orElse;a.orElseFirst=L.orElseFirst(q.Monad);a.orElseFirstW=a.orElseFirst;a.orLeft=L.orLeft(q.Monad);a.swap=L.swap(q.Functor);var kv=function(r){return(0,F.flow)(r,a.fromIOEither)};a.fromIOEitherK=kv;var xv=function(r){return(0,a.chainW)((0,a.fromIOEitherK)(r))};a.chainIOEitherKW=xv;a.chainIOEitherK=a.chainIOEitherKW;var Pv=function(r){return(0,F.flow)(r,a.fromTaskEither)};a.fromTaskEitherK=Pv;var Nv=function(r){return(0,a.chainW)((0,a.fromTaskEitherK)(r))};a.chainTaskEitherKW=Nv;a.chainTaskEitherK=a.chainTaskEitherKW;var Cv=function(r){return(0,a.chainFirstW)((0,a.fromTaskEitherK)(r))};a.chainFirstTaskEitherKW=Cv;a.chainFirstTaskEitherK=a.chainFirstTaskEitherKW;var Lv=function(r){return(0,F.flow)(r,a.fromReaderEither)};a.fromReaderEitherK=Lv;var jv=function(r){return(0,a.chainW)((0,a.fromReaderEitherK)(r))};a.chainReaderEitherKW=jv;a.chainReaderEitherK=a.chainReaderEitherKW;var Dv=function(r){return(0,a.chainFirstW)((0,a.fromReaderEitherK)(r))};a.chainFirstReaderEitherKW=Dv;a.chainFirstReaderEitherK=a.chainFirstReaderEitherKW;var z=function(r,e){return(0,F.pipe)(r,(0,a.map)(e))},Cr=function(r,e){return(0,F.pipe)(r,(0,a.ap)(e))},da=function(r,e){return(0,F.pipe)(r,(0,a.chain)(function(t){return(0,F.pipe)(e,(0,a.map)(t))}))},Lr=function(r,e){return(0,F.pipe)(r,(0,a.chain)(e))},ma=function(r,e){return(0,F.pipe)(r,(0,a.alt)(e))},Pt=function(r,e,t){return(0,F.pipe)(r,(0,a.bimap)(e,t))},Nt=function(r,e){return(0,F.pipe)(r,(0,a.mapLeft)(e))};a.map=L.map(q.Functor);a.bimap=L.bimap(q.Functor);a.mapLeft=L.mapLeft(q.Functor);a.ap=L.ap(q.ApplyPar);a.apW=a.ap;a.of=a.right;a.chain=L.chain(q.Monad);a.chainW=a.chain;a.flattenW=(0,a.chainW)(F.identity);a.flatten=a.flattenW;a.alt=L.alt(q.Monad);a.altW=a.alt;a.throwError=a.left;a.URI="ReaderTaskEither";var Bv=function(r){var e=kt.getCompactable(r);return{URI:a.URI,_E:void 0,compact:(0,Wu.compact)(q.Functor,e),separate:(0,Wu.separate)(q.Functor,e,kt.Functor)}};a.getCompactable=Bv;function $v(r){var e=kt.getFilterable(r),t=(0,a.getCompactable)(r),n=(0,Mt.filter)(q.Functor,e),i=(0,Mt.filterMap)(q.Functor,e),s=(0,Mt.partition)(q.Functor,e),d=(0,Mt.partitionMap)(q.Functor,e);return{URI:a.URI,_E:void 0,map:z,compact:t.compact,separate:t.separate,filter:function(m,v){return(0,F.pipe)(m,n(v))},filterMap:function(m,v){return(0,F.pipe)(m,i(v))},partition:function(m,v){return(0,F.pipe)(m,s(v))},partitionMap:function(m,v){return(0,F.pipe)(m,d(v))}}}a.getFilterable=$v;function Ku(r,e){var t=(0,Re.ap)(Pr.Apply,Y.getApplicativeTaskValidation(r,e));return{URI:a.URI,_E:void 0,map:z,ap:function(n,i){return(0,F.pipe)(n,t(i))},of:a.of}}a.getApplicativeReaderTaskValidation=Ku;function wu(r){var e=L.altValidation(q.Monad,r);return{URI:a.URI,_E:void 0,map:z,alt:function(t,n){return(0,F.pipe)(t,e(n))}}}a.getAltReaderTaskValidation=wu;a.Functor={URI:a.URI,map:z};a.flap=(0,pa.flap)(a.Functor);a.Pointed={URI:a.URI,of:a.of};a.ApplyPar={URI:a.URI,map:z,ap:Cr};a.apFirst=(0,Re.apFirst)(a.ApplyPar);a.apFirstW=a.apFirst;a.apSecond=(0,Re.apSecond)(a.ApplyPar);a.apSecondW=a.apSecond;a.ApplicativePar={URI:a.URI,map:z,ap:Cr,of:a.of};a.ApplySeq={URI:a.URI,map:z,ap:da};a.ApplicativeSeq={URI:a.URI,map:z,ap:da,of:a.of};a.Chain={URI:a.URI,map:z,ap:Cr,chain:Lr};a.Monad={URI:a.URI,map:z,ap:Cr,chain:Lr,of:a.of};a.MonadIO={URI:a.URI,map:z,ap:Cr,chain:Lr,of:a.of,fromIO:a.fromIO};a.MonadTask={URI:a.URI,map:z,ap:Cr,chain:Lr,of:a.of,fromIO:a.fromIO,fromTask:a.fromTask};a.MonadThrow={URI:a.URI,map:z,ap:Cr,chain:Lr,of:a.of,throwError:a.throwError};a.chainFirst=(0,qu.chainFirst)(a.Chain);a.chainFirstW=a.chainFirst;a.Bifunctor={URI:a.URI,bimap:Pt,mapLeft:Nt};a.Alt={URI:a.URI,map:z,alt:ma};a.FromReader={URI:a.URI,fromReader:a.fromReader};a.ask=(0,Be.ask)(a.FromReader);a.asks=(0,Be.asks)(a.FromReader);a.fromReaderK=(0,Be.fromReaderK)(a.FromReader);a.chainReaderK=(0,Be.chainReaderK)(a.FromReader,a.Chain);a.chainReaderKW=a.chainReaderK;a.chainFirstReaderK=(0,Be.chainFirstReaderK)(a.FromReader,a.Chain);a.chainFirstReaderKW=a.chainFirstReaderK;var Gv=function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.rightReaderTask)(r.apply(void 0,e))}};a.fromReaderTaskK=Gv;var Vv=function(r){return(0,a.chainW)((0,a.fromReaderTaskK)(r))};a.chainReaderTaskKW=Vv;a.chainReaderTaskK=a.chainReaderTaskKW;var zv=function(r){return(0,a.chainFirstW)((0,a.fromReaderTaskK)(r))};a.chainFirstReaderTaskKW=zv;a.chainFirstReaderTaskK=a.chainFirstReaderTaskKW;var Hv=function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.rightReaderIO)(r.apply(void 0,e))}};a.fromReaderIOK=Hv;var Jv=function(r){return(0,a.chainW)((0,a.fromReaderIOK)(r))};a.chainReaderIOKW=Jv;a.chainReaderIOK=a.chainReaderIOKW;var Xv=function(r){return(0,a.chainFirstW)((0,a.fromReaderIOK)(r))};a.chainFirstReaderIOKW=Xv;a.chainFirstReaderIOK=a.chainFirstReaderIOKW;a.FromEither={URI:a.URI,fromEither:a.fromEither};a.fromOption=(0,Nr.fromOption)(a.FromEither);a.fromOptionK=(0,Nr.fromOptionK)(a.FromEither);a.chainOptionK=(0,Nr.chainOptionK)(a.FromEither,a.Chain);a.chainEitherK=(0,Nr.chainEitherK)(a.FromEither,a.Chain);a.chainEitherKW=a.chainEitherK;a.chainFirstEitherK=(0,Nr.chainFirstEitherK)(a.FromEither,a.Chain);a.chainFirstEitherKW=a.chainFirstEitherK;a.fromPredicate=(0,Nr.fromPredicate)(a.FromEither);a.filterOrElse=(0,Nr.filterOrElse)(a.FromEither,a.Chain);a.filterOrElseW=a.filterOrElse;a.fromEitherK=(0,Nr.fromEitherK)(a.FromEither);a.FromIO={URI:a.URI,fromIO:a.fromIO};a.fromIOK=(0,fa.fromIOK)(a.FromIO);a.chainIOK=(0,fa.chainIOK)(a.FromIO,a.Chain);a.chainFirstIOK=(0,fa.chainFirstIOK)(a.FromIO,a.Chain);a.FromTask={URI:a.URI,fromIO:a.fromIO,fromTask:a.fromTask};a.fromTaskK=(0,la.fromTaskK)(a.FromTask);a.chainTaskK=(0,la.chainTaskK)(a.FromTask,a.Chain);a.chainFirstTaskK=(0,la.chainFirstTaskK)(a.FromTask,a.Chain);function Qv(r,e,t){return Uu(r,e,t)}a.bracket=Qv;function Uu(r,e,t){return function(n){return Y.bracketW(r(n),function(i){return e(i)(n)},function(i,s){return t(i,s)(n)})}}a.bracketW=Uu;a.Do=(0,a.of)(xt.emptyRecord);a.bindTo=(0,pa.bindTo)(a.Functor);var Yv=(0,pa.let)(a.Functor);a.let=Yv;a.bind=(0,qu.bind)(a.Chain);a.bindW=a.bind;a.apS=(0,Re.apS)(a.ApplyPar);a.apSW=a.apS;a.ApT=(0,a.of)(xt.emptyReadonlyArray);var Zv=function(r){return(0,F.flow)(Pr.traverseReadonlyNonEmptyArrayWithIndex(r),Pr.map(Y.traverseReadonlyNonEmptyArrayWithIndex(F.SK)))};a.traverseReadonlyNonEmptyArrayWithIndex=Zv;var rg=function(r){var e=(0,a.traverseReadonlyNonEmptyArrayWithIndex)(r);return function(t){return xt.isNonEmpty(t)?e(t):a.ApT}};a.traverseReadonlyArrayWithIndex=rg;var eg=function(r){return(0,F.flow)(Pr.traverseReadonlyNonEmptyArrayWithIndex(r),Pr.map(Y.traverseReadonlyNonEmptyArrayWithIndexSeq(F.SK)))};a.traverseReadonlyNonEmptyArrayWithIndexSeq=eg;var tg=function(r){var e=(0,a.traverseReadonlyNonEmptyArrayWithIndexSeq)(r);return function(t){return xt.isNonEmpty(t)?e(t):a.ApT}};a.traverseReadonlyArrayWithIndexSeq=tg;a.traverseArrayWithIndex=a.traverseReadonlyArrayWithIndex;var ng=function(r){return(0,a.traverseReadonlyArrayWithIndex)(function(e,t){return r(t)})};a.traverseArray=ng;a.sequenceArray=(0,a.traverseArray)(F.identity);a.traverseSeqArrayWithIndex=a.traverseReadonlyArrayWithIndexSeq;var ag=function(r){return(0,a.traverseReadonlyArrayWithIndexSeq)(function(e,t){return r(t)})};a.traverseSeqArray=ag;a.sequenceSeqArray=(0,a.traverseSeqArray)(F.identity);a.readerTaskEither={URI:a.URI,map:z,of:a.of,ap:Cr,chain:Lr,alt:ma,bimap:Pt,mapLeft:Nt,fromIO:a.fromIO,fromTask:a.fromTask,throwError:a.throwError};a.readerTaskEitherSeq={URI:a.URI,map:z,of:a.of,ap:da,chain:Lr,alt:ma,bimap:Pt,mapLeft:Nt,fromIO:a.fromIO,fromTask:a.fromTask,throwError:a.throwError};a.getApplySemigroup=(0,Re.getApplySemigroup)(a.ApplySeq);a.getApplyMonoid=(0,Fv.getApplicativeMonoid)(a.ApplicativeSeq);var ig=function(r){return(0,Re.getApplySemigroup)(q.ApplySeq)(kt.getSemigroup(r))};a.getSemigroup=ig;function og(r){var e=Ku(Wv.ApplicativePar,r),t=wu(r);return{URI:a.URI,_E:void 0,map:z,of:a.of,chain:Lr,bimap:Pt,mapLeft:Nt,ap:e.ap,alt:t.alt,fromIO:a.fromIO,fromTask:a.fromTask,throwError:a.throwError}}a.getReaderTaskValidation=og;function ug(r,e){return r(e)()}a.run=ug});var vg={};jt(vg,{default:()=>hg});module.exports=Hu(vg);var va=D(W()),ju=D(br());var su=D(W()),fu=D(br());var au=D(require("node:process"),1),iu=D(nu(),1);async function ou(r,{humanReadableOutput:e=!0}={}){if(au.default.platform!=="darwin")throw new Error("macOS only");let t=e?[]:["-ss"],{stdout:n}=await(0,iu.default)("osascript",["-e",r,t]);return n}var uu=require("@raycast/api"),cu=r=>(uu.environment.isDevelopment&&console.debug(r),r);function Oh(r){return r}var Or=r=>fu.tryCatch(()=>(0,su.pipe)(r,cu,ou),Oh),U=(r,e)=>Or(`tell application "${r}" to ${e}`),Jr=r=>Object.entries(r).reduce((e,[t,n],i)=>{let s=`"${i>0?"$BREAK":""}${t}=" & ${n}`;return e?`${e} & ${s}`:s},""),lu=()=>r=>Object.fromEntries(r.split("$BREAK").map(e=>e.split("=")));var wy=Or(`
	set output to ""
	set albumList to {}
	tell application "Music"
		set results to (every track of playlist 1)
		repeat with aTrack in results
			set albumName to the album of aTrack
			set trackCount to count (every track of playlist 1 whose album contains albumName)
			tell album of aTrack to if albumList does not contain it then
				set end of albumList to it
				set trackId to the id of aTrack
				set artistName to the artist of aTrack
				set output to output & ${Jr({id:"trackId",name:"albumName",artist:"artistName",count:"trackCount"})} & "
"
			end if
		end repeat
	end tell
	return output
`);var Le={};jt(Le,{addToLibrary:()=>Xh,addToPlaylist:()=>Zh,dislike:()=>Jh,getCurrentTrack:()=>rv,getCurrentTrackRating:()=>Yh,love:()=>Hh,reveal:()=>zh,setCurrentTrackRating:()=>Qh});var Ar=D(W()),qt=D(ge()),yr=D(br());var _t=Symbol("@ts-pattern/matcher"),hu="@ts-pattern/anonymous-select-key",vu=function(r){return Boolean(r&&typeof r=="object")},ea=function(r){return r&&!!r[_t]},Gh=function r(e,t,n){if(vu(e)){if(ea(e)){var i=e[_t]().match(t),s=i.matched,d=i.selections;return s&&d&&Object.keys(d).forEach(function(v){return n(v,d[v])}),s}if(!vu(t))return!1;if(Array.isArray(e))return!!Array.isArray(t)&&e.length===t.length&&e.every(function(v,h){return r(v,t[h],n)});if(e instanceof Map)return t instanceof Map&&Array.from(e.keys()).every(function(v){return r(e.get(v),t.get(v),n)});if(e instanceof Set){if(!(t instanceof Set))return!1;if(e.size===0)return t.size===0;if(e.size===1){var m=Array.from(e.values())[0];return ea(m)?Array.from(t.values()).every(function(v){return r(m,v,n)}):t.has(m)}return Array.from(e.values()).every(function(v){return t.has(v)})}return Object.keys(e).every(function(v){var h,I=e[v];return(v in t||ea(h=I)&&h[_t]().matcherType==="optional")&&r(I,t[v],n)})}return Object.is(t,e)};function Xr(r){var e;return(e={})[_t]=function(){return{match:function(t){return{matched:Boolean(r(t))}}}},e}var My=Xr(function(r){return!0});var ky=Xr(function(r){return typeof r=="string"}),xy=Xr(function(r){return typeof r=="number"}),Py=Xr(function(r){return typeof r=="boolean"}),Ny=Xr(function(r){return typeof r=="bigint"}),Cy=Xr(function(r){return typeof r=="symbol"}),Ly=Xr(function(r){return r==null});function gu(r){return new Vh(r,[])}var Vh=function(){function r(t,n){this.value=void 0,this.cases=void 0,this.value=t,this.cases=n}var e=r.prototype;return e.with=function(){var t=[].slice.call(arguments),n=t[t.length-1],i=[t[0]],s=[];return t.length===3&&typeof t[1]=="function"?(i.push(t[0]),s.push(t[1])):t.length>2&&i.push.apply(i,t.slice(1,t.length-1)),new r(this.value,this.cases.concat([{match:function(d){var m={},v=Boolean(i.some(function(h){return Gh(h,d,function(I,A){m[I]=A})})&&s.every(function(h){return h(d)}));return{matched:v,value:v&&Object.keys(m).length?hu in m?m[hu]:m:d}},handler:n}]))},e.when=function(t,n){return new r(this.value,this.cases.concat([{match:function(i){return{matched:Boolean(t(i)),value:i}},handler:n}]))},e.otherwise=function(t){return new r(this.value,this.cases.concat([{match:function(n){return{matched:!0,value:n}},handler:t}])).run()},e.exhaustive=function(){return this.run()},e.run=function(){for(var t=this.value,n=void 0,i=0;i<this.cases.length;i++){var s=this.cases[i],d=s.match(this.value);if(d.matched){t=d.value,n=s.handler;break}}if(!n){var m;try{m=JSON.stringify(this.value)}catch{m=this.value}throw new Error("Pattern matching error: no pattern matches value "+m)}return n(t,this.value)},r}();var ta=D(W()),Ft=D(ge()),Wt=D(br());var By=U("Music","activate"),$y=(0,ta.pipe)(Ft.ask(),Ft.map(r=>U("Music",`set shuffle enabled to ${r.toString()}`))),na=(0,ta.pipe)(U("Music","get name of source 1"),Wt.orElse(r=>(console.error(r),Wt.right("Library"))));var zh=U("Music","reveal current track"),Hh=U("Music","set loved of current track to true"),Jh=U("Music","set disliked of current track to true"),Xh=(0,Ar.pipe)(U("Music","duplicate current track to source 1"),yr.orElse(r=>(console.error(r),(0,Ar.pipe)(na,yr.chain(e=>U("Music",`duplicate current track to library playlist "${e}"`)))))),Qh=(0,Ar.pipe)(qt.ask(),qt.map(r=>U("Music",`set rating of current track to ${r*20}`))),Yh=(0,Ar.pipe)(U("Music","get rating of current track"),yr.map(r=>parseInt(r)),yr.map(r=>Math.round(r/20))),yu=(r,e="source 1")=>gu(e).with("source 1",()=>`
tell application "Music"
	set theName to name of current track
	set theArtist to artist of current track
	set theAlbum to album of the current track
	set existingTracks to get tracks of source 1 whose name is theName and artist is theArtist and album is theAlbum
	
	if (count of existingTracks) = 0 then
		set theCount to count of tracks of source 1
		duplicate current track to source 1
		
		repeat while theCount = (count of tracks of source 1)
			delay 1
		end repeat
	end if
	
	set theTrack to first track of source 1 whose name is theName and artist is theArtist and album is theAlbum
	duplicate theTrack to playlist "${r}"
end tell
`).otherwise(()=>`
tell application "Music"
	set theName to name of current track
	set theArtist to artist of current track
	set theAlbum to album of the current track
	set existingTracks to get tracks of source "${e}" whose name is theName and artist is theArtist and album is theAlbum
	
	if (count of existingTracks) = 0 then
		set theCount to count of tracks of "${e}"
		duplicate current track to library playlist "${e}"
		
		repeat while theCount = (count of tracks of "${e}")
			delay 1
		end repeat
	end if
	
	set theTrack to first track of library playlist "${e}" whose name is theName and artist is theArtist and album is theAlbum
	duplicate theTrack to playlist "${r}"
end tell
`),Zh=r=>(0,Ar.pipe)(na,yr.chain(e=>(0,Ar.pipe)(yu(r,e),Or,yr.orElse(t=>(console.error(t),(0,Ar.pipe)(yu(r,"source 1"),Or)))))),rv=()=>{let r=Jr({id:"trackId",name:"trackName",artist:"trackArtist",album:"trackAlbum",duration:"trackDuration",rating:"trackRating"});return(0,Ar.pipe)(Or(`
      set output to ""
        tell application "Music"
          set t to (get current track)
          set trackId to id of t
          set trackName to name of t
          set trackArtist to artist of t
          set trackAlbum to album of t
          set trackDuration to duration of t
          set trackRating to rating of t

          set output to ${r}
        end tell
      return output
    `),yr.map(lu()))};var Zr=D(W()),_r=D(Mu()),Ee=D(br());var pr=require("@raycast/api"),ku=require("@raycast/api"),xu=D(W());var Ir={};jt(Ir,{tap:()=>ha,tapLeft:()=>Lt});var Ct=D(br());be(Ir,D(br()));var ha=r=>e=>Ct.map(t=>(r?.(t),t))(e),Lt=r=>e=>Ct.mapLeft(t=>(r?.(t),t))(e);var cg=()=>ku.environment.commandMode=="menu-bar",sg={is:r=>"shortMessage"in r};function fg(r){let e=sg.is(r)?r.shortMessage:r.message;if(cg()){(0,pr.showHUD)(`Error: ${e}`);return}(0,pr.showToast)({title:"Error",message:e,style:pr.Toast.Style.Failure,primaryAction:{title:"Copy stack trace",onAction:()=>pr.Clipboard.copy(r.stack??r.message),shortcut:{key:"enter",modifiers:["shift"]}},secondaryAction:{title:"Report Issue",onAction:async()=>{await(0,pr.open)(`https://github.com/raycast/extensions/issues/new?template=extension_bug_report.yml&extension-url=https%3A%2F%2Fraycast.com%2Ffedevitaledev%2Fmusic&description=${encodeURIComponent(r.message)}&title=${encodeURIComponent("[Music]: ")}`),await(0,pr.showHUD)("Thanks for reporting this bug!")},shortcut:{key:"enter",modifiers:["cmd"]}}})}function Pu(r,e){let t=typeof e=="string"?()=>(0,pr.showHUD)(e):e,n=typeof r=="string"?()=>{}:r;return i=>(0,xu.pipe)(i,ha(t),Lt(n),Lt(console.error),Ir.mapLeft(fg))}var Nu=(r,e)=>t=>Math.max(Math.min(t,e),r);var a0=U("Music","pause"),i0=U("Music","play"),o0=U("Music","stop"),u0=U("Music","next track"),c0=U("Music","previous track"),s0=U("Music","playpause"),f0=(0,Zr.pipe)(_r.ask(),_r.map(Nu(0,100)),_r.chainTaskEitherKW(r=>U("Music",`set sound volume to ${r}`))),l0=(0,Zr.pipe)(U("Music","get sound volume"),Ee.map(parseInt)),Cu=(0,Zr.pipe)(U("Music","get shuffle enabled"),Ee.map(r=>r==="true")),Lu=(0,Zr.pipe)(_r.ask(),_r.chainTaskEitherK(r=>U("Music",`set shuffle enabled to ${r.toString()}`))),p0={get:Cu,set:Lu,toggle:(0,Zr.pipe)(Cu,Ee.chain(r=>Lu(!r)))};var d0=(0,Zr.pipe)(U("Music","player state"),Ee.map(r=>r));var g0=Jr({id:"pId",name:"pName",duration:"pDuration",count:"pCount",time:"pTime",kind:"pKind"});var hg=(0,va.pipe)(Le.love,ju.chain(()=>(0,va.pipe)(Le.addToLibrary)),Pu("\u{10005F}"+" Failed to save/love the track","\u{1002B5}"+" Loved & added to library"))();0&&(module.exports={});
