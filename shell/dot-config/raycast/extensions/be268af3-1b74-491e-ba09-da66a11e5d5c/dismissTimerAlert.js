"use strict";var a=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var h=Object.prototype.hasOwnProperty;var g=(e,s)=>{for(var t in s)a(e,t,{get:s[t],enumerable:!0})},S=(e,s,t,r)=>{if(s&&typeof s=="object"||typeof s=="function")for(let o of T(s))!h.call(e,o)&&o!==t&&a(e,o,{get:()=>s[o],enumerable:!(r=p(s,o))||r.enumerable});return e};var $=e=>S(a({},"__esModule",{value:!0}),e);var D={};g(D,{default:()=>y});module.exports=$(D);var n=require("@raycast/api"),u=require("fs");var i=require("@raycast/api");var m=require("fs"),f=require("path");var c=e=>(e.d1=e.d1=="----"?void 0:e.d1,e.d2=e.d2=="----"?void 0:e.d2,Math.round((e.d1?new Date(e.d1):new Date).getTime()-(e.d2?new Date(e.d2):new Date).getTime())/1e3);var M=i.environment.supportPath+"/customTimers.json";function l(){let e=[];return(0,m.readdirSync)(i.environment.supportPath).forEach(t=>{if((0,f.extname)(t)==".timer"){let r={name:"",secondsSet:-99,timeLeft:-99,originalFile:t};r.name=(0,m.readFileSync)(i.environment.supportPath+"/"+t).toString();let o=t.split("---");r.secondsSet=Number(o[1].split(".")[0]);let d=o[0].replace(/__/g,":");r.timeLeft=Math.max(0,Math.round(r.secondsSet-c({d2:d}))),e.push(r)}}),e.sort((t,r)=>t.timeLeft-r.timeLeft),e}var y=async()=>{let e=l();if(e.filter(t=>t.timeLeft===0),e.length===0)return await(0,n.showToast)({style:n.Toast.Style.Failure,title:"No finished timers found!"});await(0,n.closeMainWindow)();let s=e[0].originalFile.replace(".timer",".dismiss");(0,u.unlinkSync)(n.environment.supportPath+"/"+s)};0&&(module.exports={});
