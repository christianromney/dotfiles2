"use strict";var a=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var T=Object.prototype.hasOwnProperty;var g=(t,i)=>{for(var e in i)a(t,e,{get:i[e],enumerable:!0})},S=(t,i,e,r)=>{if(i&&typeof i=="object"||typeof i=="function")for(let s of d(i))!T.call(t,s)&&s!==e&&a(t,s,{get:()=>i[s],enumerable:!(r=p(i,s))||r.enumerable});return t};var h=t=>S(a({},"__esModule",{value:!0}),t);var y={};g(y,{default:()=>$});module.exports=h(y);var o=require("@raycast/api"),l=require("fs");var n=require("@raycast/api");var m=require("fs"),c=require("path");var C=n.environment.supportPath+"/customTimers.json";function f(){let t=[];return(0,m.readdirSync)(n.environment.supportPath).forEach(e=>{if((0,c.extname)(e)==".timer"){let r={name:"",secondsSet:-99,timeLeft:-99,originalFile:e};r.name=(0,m.readFileSync)(n.environment.supportPath+"/"+e).toString();let s=e.split("---");r.secondsSet=Number(s[1].split(".")[0]);let u=s[0].replace(/__/g,":");r.timeLeft=Math.max(0,Math.round(r.secondsSet-(new Date().getTime()-new Date(u).getTime())/1e3)),t.push(r)}}),t.sort((e,r)=>e.timeLeft-r.timeLeft),t}var $=async()=>{let t=f();if(t.filter(e=>e.timeLeft===0),t.length===0)return await(0,o.showToast)({style:o.Toast.Style.Failure,title:"No finished timers found!"});await(0,o.closeMainWindow)();let i=t[0].originalFile.replace(".timer",".dismiss");(0,l.unlinkSync)(o.environment.supportPath+"/"+i)};0&&(module.exports={});
