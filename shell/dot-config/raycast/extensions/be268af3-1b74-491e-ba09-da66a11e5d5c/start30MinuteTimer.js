"use strict";var c=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var h=Object.prototype.hasOwnProperty;var $=(t,e)=>{for(var o in e)c(t,o,{get:e[o],enumerable:!0})},y=(t,e,o,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of S(e))!h.call(t,i)&&i!==o&&c(t,i,{get:()=>e[i],enumerable:!(s=g(e,i))||s.enumerable});return t};var P=t=>y(c({},"__esModule",{value:!0}),t);var D={};$(D,{default:()=>w});module.exports=P(D);var T=require("@raycast/api");var r=require("@raycast/api"),f=require("child_process");var n=require("fs");var p=t=>{let e=Math.floor(t/3600),o=String(Math.floor(t%3600/60)).padStart(2,"0"),s=String(Math.floor(t%60)).padStart(2,"0");return`${e}:${o}:${s}`};var x=r.environment.supportPath+"/customTimers.json";async function d(t,e="Untitled"){let s=(r.environment.supportPath+"/"+new Date().toISOString()+"---"+t+".timer").replace(/:/g,"__");(0,n.writeFileSync)(s,e);let i=(0,r.getPreferenceValues)(),u=`${r.environment.assetsPath+"/"+i.selectedSound}`,m=`sleep ${t} && if [ -f "${s}" ]; then `;if(i.selectedSound==="speak_timer_name"?m+=`say "${e}"`:m+=`afplay "${u}"`,i.ringContinuously){let a=`${s}`.replace(".timer",".dismiss");(0,n.writeFileSync)(a,".dismiss file for Timers"),m+=` && while [ -f "${a}" ]; do afplay "${u}"; done`}m+=` && osascript -e 'display notification "'"Timer complete"'" with title "Ding!"' && rm "${s}"; else echo "Timer deleted"; fi`,(0,f.exec)(m,(a,l)=>{if(a){console.log(`error: ${a.message}`);return}if(l){console.log(`stderr: ${l}`);return}}),(0,r.popToRoot)(),await(0,r.showHUD)(`Timer "${e}" started for ${p(t)}! \u{1F389}`)}var w=async()=>{await(0,T.closeMainWindow)(),await d(60*30,"30 Minute Timer")};0&&(module.exports={});
